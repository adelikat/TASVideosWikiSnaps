30
[p 
	"This page lists the file format for DTM, Dolphin movie files. It may 
	[a class=intlink href=/Forum/P/379232#379232 
		"change
	]a
	" in the future.
	$LF
]p
[h3 id=Header:
 
	"Header:
	$LF
]h3
[table 
	[tbody 
		[tr 
			[th 
				"Offset
			]th
			[th 
				"Type
			]th
			[th 
				"Length
			]th
			[th 
				"Description
			]th
		]tr
		[tr 
			[td 
				"0x000
			]td
			[td 
				"Bytes
			]td
			[td 
				"4
			]td
			[td 
				"Signature: 44 54 4D 1A "DTM\x1A"
			]td
		]tr
		[tr 
			[td 
				"0x004
			]td
			[td 
				"String
			]td
			[td 
				"6
			]td
			[td 
				"Game ID
			]td
		]tr
		[tr 
			[td 
				"0x00A
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Is Wii game
			]td
		]tr
		[tr 
			[td 
				"0x00B
			]td
			[td 
				"Bit field
			]td
			[td 
				"1
			]td
			[td 
				"Controllers plugged in (from least to most significant, the bits are GC controllers 1-4 and Wiimotes 1-4)
			]td
		]tr
		[tr 
			[td 
				"0x00C
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Starts from savestate
			]td
		]tr
		[tr 
			[td 
				"0x00D
			]td
			[td 
				"Integer
			]td
			[td 
				"8
			]td
			[td 
				"VI count
			]td
		]tr
		[tr 
			[td 
				"0x015
			]td
			[td 
				"Integer
			]td
			[td 
				"8
			]td
			[td 
				"Input count
			]td
		]tr
		[tr 
			[td 
				"0x01D
			]td
			[td 
				"Integer
			]td
			[td 
				"8
			]td
			[td 
				"Lag counter
			]td
		]tr
		[tr 
			[td 
				"0x025
			]td
			[td 
				"N/A
			]td
			[td 
				"8
			]td
			[td 
				"Reserved
			]td
		]tr
		[tr 
			[td 
				"0x02D
			]td
			[td 
				"Integer
			]td
			[td 
				"4
			]td
			[td 
				"Rerecord count
			]td
		]tr
		[tr 
			[td 
				"0x031
			]td
			[td 
				"String
			]td
			[td 
				"32
			]td
			[td 
				"Author
			]td
		]tr
		[tr 
			[td 
				"0x051
			]td
			[td 
				"String
			]td
			[td 
				"16
			]td
			[td 
				"Video Backend
			]td
		]tr
		[tr 
			[td 
				"0x061
			]td
			[td 
				"Integer
			]td
			[td 
				"16
			]td
			[td 
				"Audio Emulator
			]td
		]tr
		[tr 
			[td 
				"0x071
			]td
			[td 
				"Bytes
			]td
			[td 
				"16
			]td
			[td 
				"MD5 hash of game file
			]td
		]tr
		[tr 
			[td 
				"0x081
			]td
			[td 
				"Integer
			]td
			[td 
				"8
			]td
			[td 
				"Recording start time (UNIX time)
			]td
		]tr
		[tr 
			[td 
				"0x089
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Saved config valid?
			]td
		]tr
		[tr 
			[td 
				"0x08A
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Idle Skipping on?
			]td
		]tr
		[tr 
			[td 
				"0x08B
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Dual Core enabled?
			]td
		]tr
		[tr 
			[td 
				"0x08C
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Progressive Scan enabled?
			]td
		]tr
		[tr 
			[td 
				"0x08D
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"DSP HLE enabled? (1 for HLE, 0 for LLE)
			]td
		]tr
		[tr 
			[td 
				"0x08E
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Fast disc speed enabled?
			]td
		]tr
		[tr 
			[td 
				"0x08F
			]td
			[td 
				"Integer
			]td
			[td 
				"1
			]td
			[td 
				"CPU core (0 for interpreter, 1 for JIT, 2 for JITIL)
			]td
		]tr
		[tr 
			[td 
				"0x090
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"EFB Access Enabled?
			]td
		]tr
		[tr 
			[td 
				"0x091
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"EFB Copy Enabled?
			]td
		]tr
		[tr 
			[td 
				"0x092
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Copy EFB To Texture? (1 for texture, 0 for ram)
			]td
		]tr
		[tr 
			[td 
				"0x093
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"EFB Copy Cache Enabled?
			]td
		]tr
		[tr 
			[td 
				"0x094
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Emulate Format Changes?
			]td
		]tr
		[tr 
			[td 
				"0x095
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Use XFB emulation?
			]td
		]tr
		[tr 
			[td 
				"0x096
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Use real XFB emulation?
			]td
		]tr
		[tr 
			[td 
				"0x097
			]td
			[td 
				"Bit field
			]td
			[td 
				"1
			]td
			[td 
				"Memory cards present (from least to most significant, the bits are slot A and B)
			]td
		]tr
		[tr 
			[td 
				"0x098
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Memory card blank?
			]td
		]tr
		[tr 
			[td 
				"0x099
			]td
			[td 
				"Bit field
			]td
			[td 
				"1
			]td
			[td 
				"Bongos plugged in (from least to most significant, the bits are ports 1-4)
			]td
		]tr
		[tr 
			[td 
				"0x09A
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Sync GPU thread enabled?
			]td
		]tr
		[tr 
			[td 
				"0x09B
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"Netplay
			]td
		]tr
		[tr 
			[td 
				"0x09C
			]td
			[td 
				"Boolean
			]td
			[td 
				"1
			]td
			[td 
				"SYSCONF PAL60 setting (this setting only applies to Wii games that support both 50 Hz and 60 Hz)
			]td
		]tr
		[tr 
			[td 
				"0x09D
			]td
			[td 
				"N/A
			]td
			[td 
				"12
			]td
			[td 
				"Reserved
			]td
		]tr
		[tr 
			[td 
				"0x0A9
			]td
			[td 
				"String
			]td
			[td 
				"40
			]td
			[td 
				"Name of second disc iso
			]td
		]tr
		[tr 
			[td 
				"0x0D1
			]td
			[td 
				"Bytes
			]td
			[td 
				"20
			]td
			[td 
				"SHA-1 hash of git revision
			]td
		]tr
		[tr 
			[td 
				"0x0E5
			]td
			[td 
				"Integer
			]td
			[td 
				"4
			]td
			[td 
				"DSP IROM Hash
			]td
		]tr
		[tr 
			[td 
				"0x0E9
			]td
			[td 
				"Integer
			]td
			[td 
				"4
			]td
			[td 
				"DSP COEF Hash
			]td
		]tr
		[tr 
			[td 
				"0x0ED
			]td
			[td 
				"Integer
			]td
			[td 
				"8
			]td
			[td 
				"Tick count (486 MHz when a GameCube game is running, 729 MHz when a Wii game is running)
			]td
		]tr
		[tr 
			[td 
				"0x0F5
			]td
			[td 
				"N/A
			]td
			[td 
				"11
			]td
			[td 
				"Reserved
			]td
		]tr
		[tr 
			[td 
				"0x100
			]td
			[td 
				"-
			]td
			[td 
				"-
			]td
			[td 
				"Controller data
			]td
		]tr
	]tbody
]table
[ul 
	[li 
		" All multi-byte integers are little-endian.
		$LF
	]li
	[li 
		" The encoding for all strings is UTF-8.
		$LF
	]li
	[li 
		" Strings are padded with NULs if not filling the full field.
		$LF
	]li
	[li 
		" Lengths are in bytes.
		$LF
	]li
]ul
[h3 id=GameCubecontrollerdata:
 
	"GameCube controller data:
	$LF
]h3
[p 
	"The controller data is 8 bytes per frame.
	$LF
]p
[table 
	[tbody 
		[tr 
			[th 
				"Byte #
			]th
			[th 
				"Bit #
			]th
			[th 
				"Meaning
			]th
			[th 
				"Version added
			]th
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"0
			]td
			[td 
				"Start pressed if 1
			]td
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"1
			]td
			[td 
				"A pressed if 1
			]td
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"2
			]td
			[td 
				"B pressed if 1
			]td
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"3
			]td
			[td 
				"X pressed if 1
			]td
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"4
			]td
			[td 
				"Y pressed if 1
			]td
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"5
			]td
			[td 
				"Z pressed if 1
			]td
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"6
			]td
			[td 
				"Up (Dpad) pressed if 1
			]td
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"7
			]td
			[td 
				"Down (Dpad) pressed if 1
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"0
			]td
			[td 
				"Left (Dpad) pressed if 1
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"1
			]td
			[td 
				"Right (Dpad) pressed if 1
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"2
			]td
			[td 
				"L pressed if 1
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"3
			]td
			[td 
				"R pressed if 1
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"4
			]td
			[td 
				"Change disc if 1 (on console, not controller)
			]td
			[td 
				"3.0-785
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"5
			]td
			[td 
				"Reset button pressed if 1 (on console, not controller)
			]td
			[td 
				"4.0-4045
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"6
			]td
			[td 
				"Controller connected if 1
			]td
			[td 
				"5.0-5911
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"7
			]td
			[td 
				"Reserved
			]td
		]tr
		[tr 
			[td 
				"2
			]td
			[td 
				"0-7
			]td
			[td 
				"L pressure (0-255, none to max.)
			]td
		]tr
		[tr 
			[td 
				"3
			]td
			[td 
				"0-7
			]td
			[td 
				"R pressure (0-255, none to max.)
			]td
		]tr
		[tr 
			[td 
				"4
			]td
			[td 
				"0-7
			]td
			[td 
				"Analog stick X axis (1-255, left to right)
			]td
		]tr
		[tr 
			[td 
				"5
			]td
			[td 
				"0-7
			]td
			[td 
				"Analog stick Y axis (1-255, down to up)
			]td
		]tr
		[tr 
			[td 
				"6
			]td
			[td 
				"0-7
			]td
			[td 
				"C stick X axis (1-255, left to right)
			]td
		]tr
		[tr 
			[td 
				"7
			]td
			[td 
				"0-7
			]td
			[td 
				"C stick Y axis (1-255, down to up)
			]td
		]tr
	]tbody
]table
[ul 
	[li 
		" Bytes are numbered left to right. 
		$LF
	]li
	[li 
		" Bits in byte are numbered right to left (as usual).
		$LF
	]li
	[li 
		" Multi-bit fields have the most significant bit first (as usual).
		$LF
	]li
	[li 
		" Also applies to Wii when using GameCube controllers.
		$LF
	]li
]ul
[h3 id=Wiimotecontrollerdata
 
	"Wiimote controller data
	$LF
]h3
[p 
	"Wiimote controller data seems to consists of packets one after each other, each with the following format:
	$LF
]p
[table 
	[tbody 
		[tr 
			[th 
				"Offset
			]th
			[th 
				"Type
			]th
			[th 
				"Length
			]th
			[th 
				"Description
			]th
		]tr
		[tr 
			[td 
				"0
			]td
			[td 
				"Integer
			]td
			[td 
				"1
			]td
			[td 
				"Length of payload (n)
			]td
		]tr
		[tr 
			[td 
				"1
			]td
			[td 
				"Opaque
			]td
			[td 
				"n
			]td
			[td 
				"Payload (raw wiimote data)
			]td
		]tr
	]tbody
]table
[p 
	"Some documentation about the raw wiimote data can be found from 
	[a class=extlink href=http://wiibrew.org/wiki/Wiimote rel=nofollow 
		"Wiimote page at Wiibrew.org
	]a
	". Note that the leading 0xA1 bytes are present.
]p
