3
[h4 
	" Header
	$LF
]h4
[pre 
	"000 4-byte signature: "PJM "
	$LF
	"004 4-byte unsigned long: version number (currently "2")
	$LF
	"008 4-byte unsigned long: version of the emulator used
	$LF
	"00C 2-byte flags:
	$LF
	"   bit 0: reserved, set to 0
	$LF
	"   bit 1:
	$LF
	"         if "0", movie begins from power-on
	$LF
	"         if "1", movie begins from an embedded savestate
	$LF
	"   bit 2:
	$LF
	"         if "0", NTSC timing
	$LF
	"         if "1", PAL timing
	$LF
	"   bit 3:
	$LF
	"         if "0", movie does not contain embedded memory cards
	$LF
	"         if "1", movie does contain embedded memory cards
	$LF
	"   bit 4:
	$LF
	"         if "0", movie does not contain embedded cheat list
	$LF
	"         if "1", movie does contain embedded cheat list
	$LF
	"   bit 5:
	$LF
	"         if "0", movie does not use hacks
	$LF
	"         if "1", movie does use hacks such as "SPU/SIO IRQ always enabled"
	$LF
	"   bit 6: 
	$LF
	"         if "0", movie is in Binary format
	$LF
	"         if "1", movie is in text format
	$LF
	"   bit 7:
	$LF
	"         Multitap toggle, player 1
	$LF
	"   bit 8:
	$LF
	"         Multitap toggle, player 2
	$LF
	"   bit 9: 
	$LF
	"         Analog Hack
	$LF
	"   bit 10: 
	$LF
	"         Parasite Eve/Vandal Hearts fix
	$LF
]pre
[pre 
	"00E 1-byte unsigned char: controller port 1 type
	$LF
	"00F 1-byte unsigned char: controller port 2 type
	$LF
	"010 4-byte unsigned long: number of frames
	$LF
	"014 4-byte unsigned long: rerecord count
	$LF
	"018 4-byte unsigned long: offset to the savestate inside file
	$LF
	"01C 4-byte unsigned long: offset to the memory card 1 inside file
	$LF
	"020 4-byte unsigned long: offset to the memory card 2 inside file
	$LF
	"024 4-byte unsigned long: offset to the cheat list inside file
	$LF
	"028 4-byte unsigned long: offset to the CD-ROM IDs inside file
	$LF
	"02C 4-byte unsigned long: offset to the controller data inside file
	$LF
	"030 4-byte unsigned long: string length of author name
	$LF
	"034 string: name of the author
	$LF
]pre
[h3 
	" Controller Types
	$LF
]h3
[pre 
	"01 Mouse
	$LF
	"02 Negcon
	$LF
	"03 Konami Gun
	$LF
	"04 Standard
	$LF
	"05 Analog Joystick
	$LF
	"06 Namco Guncon
	$LF
	"07 Analog Controller
	$LF
]pre
[h4 
	" Savestate
	$LF
]h4
[p 
	"After the header comes a compressed savestate. If the movie starts from power-on, the "savestate" is only 4 empty bytes.
	$LF
]p
[h4 
	" Memory Cards
	$LF
]h4
[p 
	"After the savestate come two compressed memory cards. If the movie starts from a clean power-on, the "memory cards" are only 8 empty bytes (4 for each one).
	$LF
]p
[h4 
	" Cheat List
	$LF
]h4
[p 
	"After the memory cards comes a compressed cheat list. If the movie doesn't use them, the "cheat list" is only 4 empty bytes.
	$LF
]p
[h4 
	" CD-ROM IDs
	$LF
]h4
[p 
	"After the cheat list comes the CD-ROM ID chunk:
	$LF
]p
[pre 
	"000 1-byte char: how many CDs does the movie use
	$LF
	"001 9-byte string for each CD: CD-ROM ID of each CD used
	$LF
]pre
[h4 
	" Controller Data
	$LF
]h4
[p 
	"After the CD-ROM IDs, comes the controller data.
	$LF
]p
[h3 
	" Bytes per Frame
	$LF
]h3
[p 
	"In Binary Format:
	$LF
]p
[pre 
	" 04 Mouse
	$LF
	" 02 Standard
	$LF
	" 06 Analog Joystick/Controller
	$LF
]pre
[p 
	"In Text Format:
	$LF
]p
[pre 
	" 12 Mouse
	$LF
	" 15 Standard
	$LF
	" 33 Analog Joystick/Controller
	$LF
]pre
[p 
	"^(The other controller types are currently not supported by PCSX.)^
	$LF
]p
[p 
	"There's also an extra byte for control functions like Reset, Open/Close CD case, etc.
	$LF
]p
[p 
	"So, if the movie uses 2 standard controllers, we know it will use 5 bytes per frame (2 bytes for player 1, 2 bytes for player 2 and 1 byte for control functions).
	$LF
]p
[h3 
	" Frame Data
	$LF
]h3
[p 
	"The corresponding bytes indicate which buttons are pressed at each frame for each controller.
	$LF
]p
[h4 
	" Standard Controller
	$LF
]h4
[pre 
	"000 2-byte unsigned short:
	$LF
	"   01 00 Select
	$LF
	"   02 00 unknown
	$LF
	"   04 00 unknown
	$LF
	"   08 00 Start
	$LF
	"   10 00 Up
	$LF
	"   20 00 Right
	$LF
	"   40 00 Down
	$LF
	"   80 00 Left
	$LF
	"   00 01 L2
	$LF
	"   00 02 R2
	$LF
	"   00 04 L1
	$LF
	"   00 08 R1
	$LF
	"   00 10 Triangle
	$LF
	"   00 20 Circle
	$LF
	"   00 40 Cross
	$LF
	"   00 80 Square
	$LF
]pre
[h4 
	" Analog Joystick/Controller
	$LF
]h4
[pre 
	"000 2-byte unsigned short: same as standard
	$LF
	"002 1-byte unsigned char: left X
	$LF
	"003 1-byte unsigned char: left Y
	$LF
	"004 1-byte unsigned char: right X
	$LF
	"005 1-byte unsigned char: right Y
	$LF
]pre
[p 
	"^(Values are in range 0-255, where 128 is center position.)^
	$LF
]p
[h4 
	" Mouse
	$LF
]h4
[pre 
	"000 2-byte unsigned short: same as standard
	$LF
	"002 1-byte unsigned char: X movement
	$LF
	"003 1-byte unsigned char: Y movement
	$LF
]pre
[p 
	"Note: Values are in range 0-255, where 128 is center position
	$LF
]p
[p 
	"^(Values are in range 0-255, where 128 is center position.)^
	$LF
]p
[h4 
	" Control Byte
	$LF
]h4
[p 
	"The corresponding bits indicate which functions are used at each frame.
	$LF
]p
[pre 
	"bit 1: Reset
	$LF
	"bit 2: Open/Close CD case
	$LF
	"bit 3: Enable/Disable "SIO IRQ Always Enabled" hack 
	"[
	[a id=4 
	]a
	[a href=#r4 
		"4
	]a
	"]
	$LF
	"bit 4: Enable/Disable "SPU IRQ Always Enabled" hack 
	"[
	[a id=4 
	]a
	[a href=#r4 
		"4
	]a
	"]
	$LF
	"bit 5: Enable/Disable cheats 
	"[
	[a id=5 
	]a
	[a href=#r5 
		"5
	]a
	"]
	$LF
	"bit 6: Enable/Disable "Resident Evil 2/3 fix" hack 
	"[
	[a id=4 
	]a
	[a href=#r4 
		"4
	]a
	"]
	$LF
	"bit 7: Enable/Disable "Parasite Eve 2 fix" hack
	"[
	[a id=4 
	]a
	[a href=#r4 
		"4
	]a
	"]
	$LF
]pre
[p 
	"[
	[a id=4 
	]a
	[a href=#r4 
		"4
	]a
	"]
	"Note: These bits will be ignored at movie playback if the "hacks" header flag is not set.
	$LF
	"[
	[a id=5 
	]a
	[a href=#r5 
		"5
	]a
	"]
	"Note: These bits will be ignored at movie playback if the "cheats" header flag is not set.
	$LF
	"}}}
]p
