73
[div class=p 
	[b 
		"Screenshots
	]b
	" are arguably second only to 
	(__wikiLink|displaytext=encodes|href=/EncoderGuidelines)
	" in importance for a site publication - they are generally the first thing a viewer sees of a particular publication, well before watching it. As such, assigning quality screenshots to our publications is essential.
	$LF
]div
[div class=p 
	"This page explains how to:
	$LF
]div
[ul 
	[li 
		" Take screenshots from site-accepted emulators;
		$LF
	]li
	[li 
		" Convert them to the PNG file format, normally used for our screenshots; and
		$LF
	]li
	[li 
		" Make the resulting file as small as possible.
		$LF
	]li
]ul
[div class=card mb-2 
	[div class=card-header 
		[strong 
			"Table of contents
		]strong
	]div
	[div class=card-body 
		[ul 
			[li 
				[a href=#SnapshotsFromDumpedAvi 
					" Snapshots from dumped AVI
					$LF
				]a
			]li
			[li 
				[a href=#ConvertToPng 
					" Convert to PNG
					$LF
				]a
			]li
			[li 
				[a href=#Resolution 
					" Resolution
					$LF
				]a
			]li
			[li 
				[a href=#ResizingToAccountForProperAspectRatioCorrectionBizhawkUsingSaturnusAndNymaOctoshockCoresOnly 
					" Resizing to account for proper aspect ratio correction (BizHawk using Saturnus and Nyma/Octoshock cores only)
					$LF
				]a
			]li
			[li 
				[a href=#MinimizingTheFileSize 
					" Minimizing the file size
					$LF
				]a
				[ul 
					[li 
						[a href=#General 
							" General
							$LF
						]a
					]li
					[li 
						[a href=#Windows 
							" Windows
							$LF
						]a
					]li
					[li 
						[a href=#Linux 
							" Linux
							$LF
						]a
					]li
					[li 
						[a href=#Jpg 
							" JPG
							$LF
						]a
					]li
				]ul
			]li
		]ul
	]div
]div
[h3 id=SnapshotsFromDumpedAvi 
	" Snapshots from dumped AVI
	$LF
]h3
[div class=p 
	"It is the easiest method of doing so, especially in cases where you are preparing to, or have, encoded the video.
	$LF
]div
[div class=p 
	"It is suggested that you dump the AVI to a lossless RGB based codec (Windows users can use the 
	[a href=http://camstudio.org/CamStudioCodec14.exe rel=noopener external nofollow 
		"CamStudio
	]a
	" or 
	[a href=http://lags.leetcode.net/codec.html rel=noopener external nofollow 
		"Lagarith
	]a
	" codecs, frequently used by our encoders; FFV1 can also be used if set to the BGR32 colorspace) and open the file in any player that can show the video in its original native resolution (for Windows users, VirtualDub is suggested).  Find a frame that is publishable quality, screencap the screen (or the frame if the player supports it), crop the result properly and save it as a PNG in your favorite image editor.
	$LF
]div
[hr 
]hr
[h3 id=ConvertToPng 
	" Convert to PNG
	$LF
]h3
[div class=p 
	"BMP files should be converted into PNG format.  You can use 
	[code 
		"bmp2png
	]code
	" downloadable at: 
	[a href=http://hp.vector.co.jp/authors/VA010446/b2p-home/index.html rel=noopener external nofollow 
		"http://hp.vector.co.jp/authors/VA010446/b2p-home/index.html
	]a
	", or you can use an image manipulation program such as 
	[a href=http://www.gimp.org/ rel=noopener external nofollow 
		"The GIMP
	]a
	".
	$LF
]div
[div class=p 
	"If you are going to optimise your screenshot, however, leave it as a BMP; PNGOUT is perfectly capable of reading BMP files (see below).
	$LF
]div
[hr 
]hr
[h3 id=Resolution 
	" Resolution
	$LF
]h3
[div class=p 
	"The screenshots should be of a certain resolution (depending on the system).
	$LF
]div
[table 
	[tbody 
		[tr 
			[th 
				"System
			]th
			[th 
				"Resolution
			]th
			[th 
				"Alternative(s)
			]th
		]tr
		[tr 
			[td 
				"NES/FDS/SNES/SGB
			]td
			[td 
				"256x224
			]td
			[td 
				"256x240
			]td
		]tr
		[tr 
			[td 
				"N64
			]td
			[td 
				"320x240
			]td
			[td 
				"320x224
			]td
		]tr
		[tr 
			[td 
				"GC/Wii
			]td
			[td 
				"320x240
			]td
			[td 
				"384x216
			]td
		]tr
		[tr 
			[td 
				"VBoy
			]td
			[td 
				"384x224
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"GB/GBC
			]td
			[td 
				"160x144
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"GBA
			]td
			[td 
				"240x160
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"DS
			]td
			[td 
				"256x384
			]td
			[td 
				"256x192
			]td
		]tr
		[tr 
			[td 
				"SMS
			]td
			[td 
				"256x192
			]td
			[td 
				"256x224
			]td
		]tr
		[tr 
			[td 
				"Genesis/SegaCD/32X
			]td
			[td 
				"320x224 or 256x224
			]td
			[td 
				"320x240 or 256x240
			]td
		]tr
		[tr 
			[td 
				"Saturn
			]td
			[td 
				"320x240
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"GG
			]td
			[td 
				"160x144
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"PSX
			]td
			[td 
				"320x240
			]td
			[td 
				"384x288 (PAL)
			]td
		]tr
		[tr 
			[td 
				"PCE/PCECD/PCFX
			]td
			[td 
				"256x224
			]td
			[td 
				"256x240
			]td
		]tr
		[tr 
			[td 
				"Lynx
			]td
			[td 
				"160x102
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"NGP
			]td
			[td 
				"160x152
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"WSWAN
			]td
			[td 
				"224x144
			]td
			[td 
				"144x224
			]td
		]tr
		[tr 
			[td 
				"Arcade
			]td
			[td 
				"Variable (depends on game)
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"DOS/DOOM
			]td
			[td 
				"320x200
			]td
			[td 
				"320x240
			]td
		]tr
		[tr 
			[td 
				"MSX
			]td
			[td 
				"320x240
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"Windows/Linux
			]td
			[td 
				"Variable (respect game's aspect ratio)
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"Apple II
			]td
			[td 
				"280x192
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"TI-83
			]td
			[td 
				"96x64
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"A2600/A7800
			]td
			[td 
				"320x224
			]td
			[td 
				"320x262
			]td
		]tr
		[tr 
			[td 
				"INTV
			]td
			[td 
				"176x208
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"Colecovision
			]td
			[td 
				"256x192
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"Jaguar (CD)
			]td
			[td 
				"326x240
			]td
			[td 
				"260x240
			]td
		]tr
		[tr 
			[td 
				"CDi
			]td
			[td 
				"384x288
			]td
			[td 
				"-
			]td
		]tr
		[tr 
			[td 
				"TIC-80
			]td
			[td 
				"240x136
			]td
			[td 
				"-
			]td
		]tr
	]tbody
]table
[div class=p 
	(__wikiLink|href=/TODO|implicitdisplaytext=TODO)
	": Update information with more platforms.
	$LF
]div
[hr 
]hr
[h3 id=ResizingToAccountForProperAspectRatioCorrectionBizhawkUsingSaturnusAndNymaOctoshockCoresOnly 
	" Resizing to account for proper aspect ratio correction (BizHawk using Saturnus and Nyma/Octoshock cores only)
	$LF
]h3
[div class=p 
	"The PSX and Sega Saturn output at a wide range of resolutions. As such, those screenshots need to be resized to the target resolution after accounting for aspect ratio correction specified above. The overscan 
	[em 
		"must not be cropped out
	]em
	" in the process. This can be done in any image manipulation program with the best resizer available. For image manipulation programs, we recommend paint.net (can use Fant or Supersampling) or GIMP (use Sinc (Lanczos3)).
	$LF
]div
[h3 id=MinimizingTheFileSize 
	" Minimizing the file size
	$LF
]h3
[div class=p 
	(__wikiLink|href=/TODO|implicitdisplaytext=TODO)
	": Update info. Shell script for PNG could be replaced with cross-platform 
	[a href=https://github.com/shssoichiro/oxipng rel=noopener external nofollow 
		"oxipng
	]a
	". JPEG recompression via GIMP could be supplemented with 
	[a href=https://github.com/tjko/jpegoptim rel=noopener external nofollow 
		"jpegoptim
	]a
	" (
	[a href=https://github.com/XhmikosR/jpegoptim-windows rel=noopener external nofollow 
		"Windows
	]a
	").
	$LF
]div
[div class=p 
	"Presently, there is a limit of 45k for screenshot files - this is primarily because there are some movie list pages which display large numbers of screenshots, and those can take a long time and a large amount of bandwidth to display as it is.
	$LF
]div
[div class=p 
	"We generally prefer lossless screenshots, and the below techniques are usually sufficient to achieve file sizes well within the target range. For some systems (particularly 3D systems such as N64 and PSX) the images may be more complex than this; in those cases, we accept a certain degree of lossiness in screenshots. Historically, this has been in the form of JPEG screenshots saved with no subsampling and as high a quality setting as can be used while staying within that limit; more recently there has been an effort to use tools such as 
	[a href=http://bisqwit.iki.fi/source/animmerger.html rel=noopener external nofollow 
		"Animmerger
	]a
	" to reduce the colour palette of the image while still preserving the benefits of PNG as an image format. It is recommended that you contact a publisher before resorting to these means.
	$LF
]div
[h4 id=General 
	" General
	$LF
]h4
[div class=p 
	"We use 
	[a href=http://optipng.sourceforge.net/ rel=noopener external nofollow 
		"OptiPNG
	]a
	" (to ensure the minimum amount of colours are stored in the PNG's palette)  followed by 
	[a href=http://advsys.net/ken/utils.htm#pngout rel=noopener external nofollow 
		"PNGOUT
	]a
	" to compress our PNG files.
	$LF
	"This algorithm outperforms programs such as 
	[a href=http://advancemame.sourceforge.net/comp-readme.html rel=noopener external nofollow 
		"AdvPNG
	]a
	" in almost all cases.
	$LF
]div
[div class=p 
	"To get optimal compression, use several random trials (-r) and choose whichever result yields the smallest compression; the scripts and utilities below employ this approach.  Alternatively, you can try using the first 15 powers of 2 in the block split threshold (-b) option for your trials; however in practice this has yielded worse results.
	$LF
]div
[div class=p 
	[a href=https://web.archive.org/web/20131208161446/http://walbeehm.com/download/index.html rel=noopener external nofollow 
		"DeflOpt
	]a
	" (
	[a href=http://www.jonof.id.au/forum/index.php?topic=1400 rel=noopener external nofollow 
		"Linux/i386 version
	]a
	") can be used optionally at the end to reduce the file just those few bytes more (it almost always does).
	$LF
]div
[h4 id=Windows 
	" Windows
	$LF
]h4
[div class=p 
	"Download the 
	[a href=https://github.com/TASEmulators/tastools/releases/download/1.0/ScreenshotCompress.zip rel=noopener external nofollow 
		"ScreenshotCompressor
	]a
	" from our 
	[a href=http://code.google.com/p/tastools/ rel=noopener external nofollow 
		"TASTools project page
	]a
	", in addition to OptiPNG, PNGOUT and DeflOpt.  Run your image through OptiPNG first, then follow the instructions packaged with the tool (it is as simple as drag and drop).  This will use a configurable number of random trials in the spirit of the script in the Linux section below.
	$LF
]div
[div class=p 
	"Optional reading:
	$LF
	"There exists a 
	[a href=http://advsys.net/ken/util/pngout.htm rel=noopener external nofollow 
		"tutorial about PNGOUT
	]a
	$LF
	"for Windows users.
	$LF
]div
[h4 id=Linux 
	" Linux
	$LF
]h4
[div class=p 
	"Assuming you have 
	[code 
		"optipng
	]code
	", 
	[code 
		"pngout
	]code
	", and 
	[code 
		"deflopt
	]code
	" in your $PATH, you can run this shell script to compress pngs under Linux.  Utilizes several random trials to get the best possible compression, more trials = more compression, works best on 
	[b 
		"uncompressed
	]b
	" source bmps or png.):
	$LF
]div
[div class=p 
	"Run as:
	$LF
]div
[pre 
	[code class=language-shell 
		$UNPRINTABLE TEXT!!!
	]code
]pre
[div class=p 
	"where:
	$LF
]div
[ul 
	[li 
		" "screenshot.png" is the name of the screenshot you want to compress, and
		$LF
	]li
	[li 
		" "100" is the number of random trials you want to test.
		$LF
	]li
]ul
[pre 
	[code class=language-shell 
		$UNPRINTABLE TEXT!!!
	]code
]pre
[div class=p 
	"Note that PNGOUT can read BMP files directly. You don't need to convert them first.  Also note that in some cases PNGOUT produces PNG files that don't work on all platforms (due to broken zlib implementations on those platforms); this is rare in practice.
	$LF
]div
[h4 id=Jpg 
	" JPG
	$LF
]h4
[div class=p 
	"3D and other modern games usually have too complicated picture to fit into the 45kB limit allocated for a publication screenshot. This forces us to use JPG format instead of PNG, but still do some work to minimize the color loss.
	$LF
]div
[div class=p 
	"Load up the image in GIMP, export it to JPEG. Then set preview to on, 
	[em 
		"chroma
	]em
	" to 
	[em 
		"4:4:4
	]em
	" and 
	[em 
		"DCT
	]em
	" to 
	[em 
		"floating-point
	]em
	" and adjust the quality (usually to the maximum that gives under 45kB).
	$LF
]div
[ul 
	[li 
		" To make this process quick and portable, 
		[a class=intlink href=/Users/Profile/feos 
			"feos
		]a
		" created 
		[a href=https://files.tasvideos.org/common/Wiki/Screenshots/ImageMagick-7.1.1-28-portable-Q16-x64.7z rel=noopener external nofollow 
			"an ImageMagick package
		]a
		" with a Windows Batch file, which you should drop the PNG file on, and it creates a JPG with minimal compression that's still under 45KB.
	]li
]ul
