15
[div class=p 
	"This is an improvement of 1498 frames (24.93 seconds) over Niamek's cancelled submission.
	$LF
]div
[div class=p 
	"Emulator: FCEUX 2.2.2, Old PPU.
	$LF
]div
[div class=p 
	"Goal: Any%
	$LF
]div
[ul 
	[li 
		"Takes damage to save time.
		$LF
	]li
	[li 
		"Takes pictures to save time.
		$LF
	]li
]ul
[div class=p 
	"Darkman is a platforming game for the NES. It features a person, known as Darkman, who needs to do something or other, but then, who cares about the plot?(3) He breaks the laws of physics in any and every way that he can. This game has the weirdest physics engine I've ever seen.
	$LF
]div
[h2 id=TricksAndMechanics 
	"Tricks and Mechanics
	$LF
]h2
[hr 
]hr
[h3 id=Movement 
	"Movement
	$LF
]h3
[ul 
	[li 
		"There are 256 subpixels/pixel.
		$LF
	]li
	[li 
		"While on the floor, Darkman accelerates at 30 subpixels/frame.
		$LF
	]li
	[li 
		"While in the air, Darkman accelerates at 5 subpixels/frame.
		$LF
	]li
	[li 
		"However, the maximum speed differs depending on where the character is moving.
		$LF
	]li
]ul
[hr 
]hr
[h3 id=MaximumSpeeds 
	"Maximum Speeds:
	$LF
]h3
[ul 
	[li 
		"Air: 5 pixels/frame.
		$LF
	]li
	[li 
		"Fast Floor: 3 pixels/frame.
		$LF
	]li
	[li 
		"Slow Floor: 2 pixels/frame.
		$LF
	]li
	[li 
		"Rope: 1 pixel/frame.
		$LF
	]li
	[li 
		"Going through, or landing on, a platform will reset your speed to the maximum speed of the platform, or the speed, taking into account the usual acceleration, whichever is slower. Consequently, the run never reaches the maximum speed in air. Whenever you land on a moving platform, you stop.
		$LF
	]li
]ul
[hr 
]hr
[h3 id=Jumping 
	"Jumping
	$LF
]h3
[ul 
	[li 
		"There is one jump height, and it cannot be altered by holding down jump.
		$LF
	]li
]ul
[hr 
]hr
[h3 id=Fighting 
	"Fighting
	$LF
]h3
[ul 
	[li 
		"Kicking enemies on the ground is slow, and so should be kept to a minimum.
		$LF
	]li
]ul
[hr 
]hr
[h3 id=ClimbingWalls 
	"Climbing Walls
	$LF
]h3
[ul 
	[li 
		"You always climb at 2 pixels a frame. Obviously if you are climbing you want to jump so you will start off as high as possible. Unless of course you wait for a while at the top, in which case you want a jump that will get you the correct height mod 2 to be the highest possible at the end of the waiting. At the end of the climb, if you pull yourself over the edge of the wall, depending on how far into the wall you are, you can get one of 2 speeds. In this case, you want to get as far into the wall as possible while still getting the faster speed. When jumping off of walls, there is only one speed, and so you want to stay as far out of the wall as possible.
		$LF
	]li
]ul
[hr 
]hr
[h3 id=Countdowns 
	"Countdowns
	$LF
]h3
[ul 
	[li 
		"At the end of the level, the game counts down first the time remaining on the timer, and then bottles. Bottles are collected in the levels themselves.
		$LF
	]li
]ul
[ul 
	[li 
		"The first bottle takes a few frames to count down. After that, the bottles take a long time to count down.
		$LF
	]li
]ul
[ul 
	[li 
		"Every picture level, you have a chance to get a mask. The better you do, the better mask you get. The better mask you have, the more time you have in the later levels, so there is more time to count down at the end of them. This is why I get the worst possible mask in every picture level.
		$LF
	]li
]ul
[hr 
]hr
[h3 id=Glitches 
	"Glitches
	$LF
]h3
[ul 
	[li 
		"If you press A and B on the same frame, you do a very low jump with an attack. The jump lands after 9 frames(1). It is very useful for spacing and getting extra speed where there isn't room to use the normal jump, and allows you to get through enemies a lot faster, as it can be chained. It also stops enemies from resetting your speed to zero, like normal when you approach an enemy(2).
		$LF
	]li
]ul
[div class=p 
	"(1)With the ninja character it lands after 10 frames. With the bazooka character it takes the same amount of time as a regular jump.
	$LF
]div
[div class=p 
	"(2)Doesn't work with the final character, for whatever reason.
	$LF
]div
[hr 
]hr
[div class=p 
	"		
	$LF
]div
[h2 id=LevelByLevelComparison 
	"Level by Level Comparison
	$LF
]h2
[h3 id=Intro24FramesSaved 
	[b 
		"Intro
	]b
	" - 
	[small 
		[em 
			"24 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"If you press down and A on the same frame, you can select start instead of story without waiting for the hand to move. Therefore we press down and A on the first frame where it starts the game.
	$LF
]div
[h3 id=Stage1132FramesSaved 
	[b 
		"Stage 1-1
	]b
	" - 
	[small 
		[em 
			"32 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"By precise jumping, you can reach the blue platform from the first moving platform, meaning you don't need to land on both moving platforms. You can't reach the platform cycle if you jump through the rope. You have to let go of right for a couple of frames to be able to jump off of the blue platform after jumping over the enemy. If you AB jump through the enemy, you can't jump of of the blue platform later. You have to jump off of the blue platform because otherwise the balloon will kill you.
	$LF
]div
[h3 id=Stage120FramesSaved 
	[b 
		"Stage 1-2
	]b
	" - 
	[small 
		[em 
			"0 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"I couldn't find any way to save any time here.
	$LF
]div
[h3 id=Stage1396FramesSaved 
	[b 
		"Stage 1-3
	]b
	" - 
	[small 
		[em 
			"96 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Most of this is saved because of the AB jump. It is possible to prevent more of the balloons from appearing, but you'd have to wait a long time for them to despawn to prevent later ones from appearing. The balloons despawned are the fastest ones to despawn, and despawning any others loses time.
	$LF
]div
[h3 id=Picture10FramesSaved 
	[b 
		"Picture 1
	]b
	" - 
	[small 
		[em 
			"0 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"There is a frame rule at the second picture. Since there is a frame rule at the end of the level before, there is no way to save or lose time from the frame rule there.
	$LF
]div
[h3 id=Stage2192FramesSaved 
	[b 
		"Stage 2-1
	]b
	" - 
	[small 
		[em 
			"92 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"It is only faster to grab the other side of a ladder if there is an enemy in the right place, because they get rid of all your speed in a frame. This means it's only used on the first ladder in the level. To get past the barrel,	it is fastest to jump as early as possible that still reaches the platform, because you then have the height to clear it as early as possible. At ~6200, it is faster to use the slow ground rather than the moving platform because you lose all of your speed on the moving platform. At ~6340 it is faster to jump off the edge rather than AB jump off of the edge because you are almost at fast ground speed for most of the time.
	$LF
]div
[h3 id=Stage2221FramesSaved 
	[b 
		"Stage 2-2
	]b
	" - 
	[small 
		[em 
			"21 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"At ~7690, waiting on the side of the wall instead of climbing over allows you to get onto the moving platforms earlier. You can't jump up the other side of the last ladder, because you can't reach it, it's too high.
	$LF
]div
[h3 id=Stage2332FramesSaved 
	[b 
		"Stage 2-3
	]b
	" - 
	[small 
		[em 
			"32 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"At ~8840, you have to wait before jumping, otherwise you get hit by the bullet. If you have the correct positioning, and very accurate hits, you can skip a few hits on the boss, since beating the level is based on getting to a particular point in the level. You can't jump any later than the movie does going into the boss battle, so you can jump over the boss.
	$LF
]div
[h3 id=Ropeswing10FramesSaved 
	[b 
		"Ropeswing 1
	]b
	" - 
	[small 
		[em 
			"0 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"An autoscroller, not much to say.
	$LF
]div
[h3 id=Picture20FramesSaved 
	[b 
		"Picture 2
	]b
	" - 
	[small 
		[em 
			"0 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Again a frame rule at the second picture, but the level before is an autoscroller.
	$LF
]div
[h3 id=Stage310FramesSaved 
	[b 
		"Stage 3-1
	]b
	" - 
	[small 
		[em 
			"0 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"You can't avoid the bottle at ~14780, if you jump any later you get killed by the clown. In this stage, the fastest method of speeding up is to fire a bullet in the opposite direction - it puts your speed directly to 512.
	$LF
]div
[h3 id=Stage320FramesSaved 
	[b 
		"Stage 3-2
	]b
	" - 
	[small 
		[em 
			"0 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Not much to say, other than that the bullets move slower than you do, so it's faster to shoot the bullets from as far into the level as possible, or in the case of the clown, as late as possible.
	$LF
]div
[h3 id=Stage33148FramesSaved 
	[b 
		"Stage 3-3
	]b
	" - 
	[small 
		[em 
			"148 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"If you get launched of the moving platform, the game doesn't think you are dead. You normally get killed by going offscreen. However, if there is a platform in the way, then you don't go offscreen. This also includes platforms that are just offscreen, so the game allows you to continue. This is used to save 1 mount, 1 dismount, and quite a lot of time travelling on the moving platforms.
	$LF
]div
[h3 id=Picture34FramesLost 
	[b 
		"Picture 3
	]b
	" - 
	[small 
		[em 
			"4 Frames Lost
		]em
	]small
	$LF
]h3
[div class=p 
	"These frames are lost to the frame rule at the second picture.
	$LF
]div
[h3 id=Stage4172FramesSaved 
	[b 
		"Stage 4-1
	]b
	" - 
	[small 
		[em 
			"72 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Most of this stage is self is explanatory - get onto the fast ground from the slow ground as soon as possible, with a couple of exceptions. As well as this, a jump from the top platform at the end of the level allowed greater vertical speed after falling past the middle platform, and so getting to the end of the level quicker.
	$LF
]div
[h3 id=Stage4233FramesSaved 
	[b 
		"Stage 4-2
	]b
	" - 
	[small 
		[em 
			"33 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Again a lot of this level is self explanatory - like 4-1, you want to spend as much time at fast ground/air speed. It is impossible to avoid the bottle of the end without waiting for the bullets to go past - which is slower.
	$LF
]div
[h3 id=Stage43288FramesSaved 
	[b 
		"Stage 4-3
	]b
	" - 
	[small 
		[em 
			"288 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Up until the boss, there isn't much to say besides the various speed grounds. At ~22230 it impossible not to get stopped by the ninja. This is the only boss where you have to have killed the boss to reach the end of the level. You can also jump in the boss. If you reach the endpoint, the game will lock your X position. This normally means you cannot jump over the boss and hit it left, it can be done. This means you get 1 hit every 10 frames, instead of 1 hit every 30 frames, saving a lot of time. You can jump over him to get him killed closer to the endpoint, but it's slower.
	$LF
]div
[h3 id=Rope20FramesSaved 
	[b 
		"Rope 2
	]b
	" - 
	[small 
		[em 
			"0 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Another autoscroller.
	$LF
]div
[h3 id=Picture40FramesSaved 
	[b 
		"Picture 4
	]b
	" - 
	[small 
		[em 
			"0 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Again the frame rule at the second picture means nothing because the previous level was an autoscroller.
	$LF
]div
[h3 id=Stage5132FramesSaved 
	[b 
		"Stage 5-1
	]b
	" - 
	[small 
		[em 
			"32 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"You must collect the bottle at ~27700, otherwise one of the platforms will lock and you will die. On the previous moving platform, the subpixel value is 1, so as to move the player closer to the bottle.
	$LF
]div
[h3 id=Stage5264FramesSaved 
	[b 
		"Stage 5-2
	]b
	" - 
	[small 
		[em 
			"64 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"At ~28870, the enemy is kicked away, which allows the player to move earlier. This means you can jump over the bullet at ~28960, instead of waiting and going under it. You must collect the bottle at the end, because jumping early enough to avoid it would mean waiting for the enemy to move out of the way, because it kills you. Waiting for it is slower.
	$LF
]div
[h3 id=Stage5336FramesSaved 
	[b 
		"Stage 5-3
	]b
	" - 
	[small 
		[em 
			"36 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"Subpixel position is used to allow getting the highest speed at the jumps after getting off a moving platform. For example, on the first moving platform, the player has a subpixel position of 199, which allows them to hold left for longer without dying after getting off of the first moving platform. This movie reaches the next cycle at ~31250, as we don't have to wait for the bullet.
	$LF
]div
[h3 id=Stage54532FramesSaved 
	[b 
		"Stage 5-4
	]b
	" - 
	[small 
		[em 
			"532 Frames Saved
		]em
	]small
	$LF
]h3
[div class=p 
	"When jumping between the two enemies, the frame of jumping allows the second enemy to be killed in two hits rather than three, saving 10 or so frames. There is a damage boost at 32570 - we stop for a frame, but in return we receive fast ground speed for about 15 frames. It's impossible to get past the enemy without stopping at all.	You can jump over the final boss, but only when he is shooting. If he is not shooting, he will punch you. He only shoots on a set cycle depending on position compared to him after a certain amount of frames of being loaded. At ~33160, we jump behind the enemy to load the final boss. We wait on the moving platform to get the earliest possible outcome where he is shooting, so that we can jump over him.
	$LF
]div
[hr 
]hr
[h2 id=SpecialThanksTo 
	"Special Thanks to:
	$LF
]h2
[div class=p 
	[a class=intlink href=/Users/Profile/Niamek 
		"Niamek
	]a
	": For his original submission, which is where I found out about this game from. Without it, I wouldn't have started this run.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/negative_seven 
		"negative_seven
	]a
	": For encouraging me throughout the making of this TAS. Without his encouragement, I wouldn't have finished this run.
	$LF
]div
[div class=p 
	"(3): Ok, if you really do care about the plot, then here it is: Some guy gets ruined, and to try and return himself to his former glory, he decides to put himself through a set of challenges which contain all of the following: bad enemy detection, and weird enemy mechanics that make you lose all of your speed, jumping almost constantly, and fighting clones of himself. That is, when he doesn't decide to just jump over them like he did with most of the rest of the enemies.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/Noxxa 
		"Noxxa
	]a
	": Judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Noxxa 
		"Noxxa
	]a
	": This is a fairly quirky game, but it results in a decently entertaining run. Accepting for Moons.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/fsvgm777 
		"fsvgm777
	]a
	": Processing.
]div
