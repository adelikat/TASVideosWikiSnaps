10
[div class=p 
	[em 
		"Astérix & Obélix
	]em
	" is a platforming game originally released for Game Boy in 1995 and re-released on Game Boy Color in 1999, based on the French comic book series of the same name. In this game, Caesar tries to teach a lesson to the indomitable Gauls by constructing a palisade around their village; in response, Astérix and Obélix travel the entire Roman empire to bring back souvenirs for Caesar from four different countries in record time, without even needing a single drop of magic potion!
	$LF
]div
[h3 id=GameObjectives 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" Emulator used: BizHawk 2.9.1
		$LF
	]li
	[li 
		" Aims for fastest completion
		$LF
	]li
	[li 
		" Takes damage to save time
		$LF
	]li
	[li 
		" Heavy luck manipulation
		$LF
	]li
]ul
[h3 id=Comments 
	" Comments
	$LF
]h3
[ul 
	[li 
		" ROM filename: Obelix (E) (M4) [C]
		"[!]
		".gbc
		$LF
	]li
	[li 
		" ROM SHA1: 5f36071df7be289c169768b1683947e972d26996
		$LF
	]li
	[li 
		" Sync settings:
		$LF
		[ul 
			[li 
				" Core: GBHawk
				$LF
			]li
			[li 
				" CGB in GBA: False
				$LF
			]li
			[li 
				" Console mode: Auto
				$LF
			]li
			[li 
				" RTC Initial Time: 0
				$LF
			]li
			[li 
				" RTC Offset: 0
				$LF
			]li
			[li 
				" Use Existing SaveRAM: True
				$LF
			]li
		]ul
	]li
]ul
[div class=p 
	[b 
		"Screenshot suggestions
	]b
	": frame 1914, 4261, 13305 or 35063.
	$LF
]div
[div class=p 
	"I am TASing the Game Boy Color version. It’s the version I played during my childhood, borrowing the cartridge from my younger sister. And the game looks much better in color. The GBC version runs in GBC mode at double the Game Boy’s CPU speed; because of how the RNG works in the game, this movie will not sync with the original version.
	$LF
]div
[div class=p 
	"Both versions feature fantastic music composed by Alberto José Gonzalez. I hope you’ll appreciate it as much as I did throughout the years.
	$LF
]div
[h4 id=Difficulty 
	" Difficulty
	$LF
]h4
[div class=p 
	"I pick easy difficulty because it spawns slightly fewer enemies and shortens some of the levels, although it slows down Greece Act 4 slightly. I pick Obélix over Astérix because the only difference between both characters are their hitboxes (Obélix’s is slightly bigger), which dictates the reach of their attacks, meaning Obélix’s attack reaches further.
	$LF
]div
[h4 id=Tricks 
	" Tricks
	$LF
]h4
[div class=p 
	"This TAS implements a handful of tricks. Mainly:
	$LF
]div
[ul 
	[li 
		" Tapping the D-pad during jumps with a specific pattern increases the character’s horizontal speed to 1.66 px/frame on average, instead of the 1.33 px/frame the developers intended.
		$LF
	]li
]ul
[ul 
	[li 
		" Tapping the D-pad while pushing powder kegs around in Helvetia Act 4 doubles the character’s horizontal speed compared to what the developers intended.
		$LF
	]li
]ul
[ul 
	[li 
		" If an attack is launched during a jump, then tapping the D-pad when the character hits the ground increases its horizontal speed slightly for a few frames.
		$LF
	]li
]ul
[ul 
	[li 
		" Consecutive jumping, to keep momentum.
		$LF
	]li
]ul
[ul 
	[li 
		" Pressing ↑ and ↓ simultaneously at a specific frame while climbing a ladder will warp the character instantly to the top of the ladder and the floor above. 
		$LF
	]li
]ul
[ul 
	[li 
		" Not taking any wild boar (the equivalent of magic potion, when playing Obélix). Despite the advantages, it’s just too slow.
		$LF
	]li
]ul
[ul 
	[li 
		" RNG manipulation, ranging from simple brute-forcing by hand to automated searches with custom scripts.
		$LF
	]li
]ul
[h3 id=StageByStageComments 
	" Stage by stage comments 
	$LF
]h3
[h4 id=BritaniaAct1 
	" Britania Act 1
	$LF
]h4
[div class=p 
	"There are many enemies on the ground, so the best route is to just go
	$LF
	"the high way, breaking a few blocks in the process.
	$LF
]div
[h4 id=BritaniaAct2 
	" Britania Act 2
	$LF
]h4
[div class=p 
	"The big green enemies take four hits to dispose of.
	$LF
]div
[div class=p 
	"As for the red spear-throwing Romans… well, the spears they throw can
	$LF
	"be a real nuisance. Fortunately, I’m able to manipulate two of them so
	$LF
	"that they don’t attack me: by jumping over him while already being on
	$LF
	"the upper ledge, I am not in their sight for long enough to attack me.
	$LF
]div
[div class=p 
	"The third and fourth ones are manipulated to throw their spears in the
	$LF
	"wrong direction right as I run past them. I do need to sacrifice some
	$LF
	"speed, but it’s fun to watch, avoids damage and avoids dealing with
	$LF
	"the projectile until the game decides to despawn it.
	$LF
]div
[div class=p 
	"The level ends with a few jumps that can’t use the D-pad tapping
	$LF
	"trick.
	$LF
]div
[h4 id=BritaniaAct3Street 
	" Britania Act 3 – Street
	$LF
]h4
[div class=p 
	"One tricky part is towards the beginning, where an enemy walks towards
	$LF
	"Obélix while standing almost under a block. Taking damage
	$LF
	"intentionally works well, but I found a better way: use the attack to
	$LF
	"get rid of the block (and slap the bandit around a bit), then jump
	$LF
	"over the enemy. It saves about 3 or 4 frames.
	$LF
]div
[div class=p 
	"Right after the first barrel thrower, there is a spot with two blocks
	$LF
	"and an enemy that is difficult to avoid. The right block is a
	$LF
	"power-up, and as discussed before, we don’t want it, so the jump is
	$LF
	"intentionally suboptimal.
	$LF
]div
[div class=p 
	"At the very last frame before I complete this section, a jump is
	$LF
	"performed to manipulate RNG for the next section.
	$LF
]div
[h4 id=BritaniaAct3Prison 
	" Britania Act 3 – Prison
	$LF
]h4
[div class=p 
	"The objective is to free London’s rugbymen who were locked up in the
	$LF
	"London tower by the Romans. Six players are to be freed; one is hidden
	$LF
	"on each floor, behind one of three cell doors picked at random when
	$LF
	"the player enters the level. Breaking the wrong door frees a bandit
	$LF
	"that attacks the player.
	$LF
]div
[div class=p 
	"The RNG manipulation I mentioned is mostly to manipulate the last
	$LF
	"prisoner to be as close to the ladder as possible, so that input can
	$LF
	"be ended as early as possible. The other prisoners’ location’s do not
	$LF
	"really matter, but the middle doors are the nicest.
	$LF
]div
[div class=p 
	"The yellow roaming Roman guards used to be annoying and required
	$LF
	"suboptimal movement to keep the far enough from me, until I discovered
	$LF
	"a few tricks: pressing ↑ and ↓ simultaneously near the top of each
	$LF
	"ladder, and timing my charged attacks right. Now, each floor is
	$LF
	"completed fast enough, so they don’t really pose a threat anymore.
	$LF
]div
[div class=p 
	"Another annoyance is that the cell doors require charged punches to be
	$LF
	"breached. Fortunately, I found the fastest way to breach them: charge
	$LF
	"each punch while jumping over an enemy, and unleash the attack right
	$LF
	"as the character hits the ground.
	$LF
]div
[div class=p 
	"How does the prisoner placement work? It’s determined by six bytes of
	$LF
	"the eight-byte region starting at WRAM address C0BC. The third byte
	$LF
	"determines the right cell for the first floor, the fourth byte the
	$LF
	"right cell for the second floor, and so on. Each of those bytes has
	$LF
	"three possible values: 8 means the rugbyman is locked up in the left
	$LF
	"door (relative to the screen); 14 means middle door and 20 means right
	$LF
	"door.
	$LF
]div
[h4 id=BritaniaAct4 
	" Britania Act 4
	$LF
]h4
[div class=p 
	"We are playing for the London team in a rugby match and the objective
	$LF
	"is to help them win against Rome. Obélix has the bladder and he needs
	$LF
	"to run across the pitch to score a try while avoiding Roman players.
	$LF
]div
[div class=p 
	"A try is worth 3 points; converting it gives us 2 extra points, which
	$LF
	"is enough to clear the level on easy difficulty. Normal difficulty
	$LF
	"will require us to do two cycles; hard difficulty requires completing
	$LF
	"three cycles.
	$LF
]div
[div class=p 
	"The opposing players will either dive at the player, or jump over
	$LF
	"them. I’m almost 100% sure that their behavior is based on RNG. Here,
	$LF
	"we manipulate them into always jumping over Obélix by sacrificing a
	$LF
	"teeny tiny bit of speed here and there where necessary. What works
	$LF
	"best is to let go of the D-pad for one frame, repress it for one
	$LF
	"frame, let it go for another, then hold it normally, just as an
	$LF
	"opposing team member is entering the screen from the right (when he’s
	$LF
	"about 4 to 8 pixels or so into the screen).
	$LF
]div
[div class=p 
	"In order to convert the try successfully, the B button needs to be
	$LF
	"held down for at least 33 frames.
	$LF
]div
[h4 id=HelvetiaAct1 
	" Helvetia Act 1
	$LF
]h4
[div class=p 
	"This level contains lots of jumping.
	$LF
]div
[div class=p 
	"And lots of enemies too. The powerup is very tempting, also because
	$LF
	"the block is in my way, and at first my route took it. I found out
	$LF
	"later that it’s faster not to take it, and even taking intentional
	$LF
	"damage three times is faster (about 20 frames) than taking the wild
	$LF
	"boar. I later managed to complete the level while taking damage only
	$LF
	"once.
	$LF
]div
[h4 id=HelvetiaAct2 
	" Helvetia Act 2
	$LF
]h4
[div class=p 
	"A level in three parts: one autoscroller, one section that isn’t, and
	$LF
	"another autoscroller.
	$LF
]div
[div class=p 
	"Routing the middle section was harder than it looks. There is a Roman
	$LF
	"under a block, where for a long time I took intentional damage; I
	$LF
	"later found a way to avoid that. At the end of that section, a block
	$LF
	"is blocking my way and requires 10 hits to break.
	$LF
]div
[div class=p 
	"After that, it’s just a matter of fooling around a bit and jump off
	$LF
	"the log as early as possible to end the level.
	$LF
]div
[h4 id=HelvetiaAct3 
	" Helvetia Act 3
	$LF
]h4
[div class=p 
	"Just hitting the rightmost end of the level is sufficient. That means
	$LF
	"that I don’t have to climb the whole lot of platforms at the end in
	$LF
	"order to pass the level. Good for us.
	$LF
]div
[div class=p 
	"I hate the crows with a passion. Their positioning is based on a
	$LF
	"global cycle, and therefore depends on how fast I’ve been in previous
	$LF
	"levels.
	$LF
]div
[div class=p 
	"The uphill slopes slow down the character significantly: walking or
	$LF
	"running uphill halves the character’s speed compared to flat ground.
	$LF
	"Bunny hopping is essential to get up these slopes.
	$LF
]div
[div class=p 
	"Of note are two jumps across large voids. They require the player to
	$LF
	"gain momentum by running down a slope for long enough to be running
	$LF
	"faster than the normal running speed, at 3 pixels per frame instead of
	$LF
	"2. That higher-than-normal speed is also retained during the jump, so
	$LF
	"it’s important to jump as late as possible.
	$LF
]div
[h4 id=HelvetiaAct4 
	" Helvetia Act 4
	$LF
]h4
[div class=p 
	"We need to rescue a banker that has been locked up in one of the
	$LF
	"bank’s safes.
	$LF
]div
[div class=p 
	"Thing is, the bank is swarming with Romans that continuously spawn on
	$LF
	"the first floor. And there are 10 safes to blow up in the basement.
	$LF
]div
[div class=p 
	"The banker is always in the last safe to be blown open, so all of the
	$LF
	"safes need to be dealt with.
	$LF
]div
[div class=p 
	"There are three powder kegs in the basement (which I’ll call 1, 2 and
	$LF
	"3 from left to right), which don’t respawn. The ground floor has two
	$LF
	"kegs (which I’ll call A and B from left to right) that do, and you
	$LF
	"have to go back there a few times to drop kegs into the basement.
	$LF
]div
[div class=p 
	"Also, you have to use the kegs in the basement to reach safes you
	$LF
	"cannot reach with kegs from the ground floor. After you light a keg,
	$LF
	"you only have enough time to place it before the safe right next to
	$LF
	"the candle or a safe adjacent to it.
	$LF
]div
[div class=p 
	"This means:
	$LF
]div
[ul 
	[li 
		" keg 1 must be used on safe 3
		$LF
	]li
	[li 
		" keg 2 must be used on safe 4
		$LF
	]li
	[li 
		" keg 3 must be used on safe 10
		$LF
	]li
]ul
[div class=p 
	"If you don’t, the game will penalize you by resetting the entire level
	$LF
	"to the beginning. If the game didn’t do this, you would softlock.
	$LF
]div
[div class=p 
	"Once the last safe is blown up, the game won’t process any inputs and
	$LF
	"will force the character to walk towards the last safe with the
	$LF
	"banker. There isn’t much fooling around I can do during the wait,
	$LF
	"except maybe for a “cool Gauls don’t look at explosions” kind of
	$LF
	"thing. If you walk too far away from the explosion, the game will walk
	$LF
	"you back, wasting time in the process. And if you walk 'really' far
	$LF
	"away as I tried to do once (normally the keg will blow the safe open
	$LF
	"at exactly the right moment, but my movements speed things up and buy
	$LF
	"me time to almost run to the ladder), you can glitch the banker’s
	$LF
	"graphics a little bit, causing him to be drawn with a red palette
	$LF
	"instead of gray. He becomes very mad at you if you just leave him
	$LF
	"inside there, I suppose.
	$LF
]div
[div class=p 
	[img class=embed mw-100 src=https://x0r.fr/blogstuff/blog82/obelix_bank_glitch.gif 
	]img
	$LF
]div
[div class=p 
	"Keg movement can be optimized using two tricks. Firstly, kegs can be
	$LF
	"ejected from the character if you land as close as their centerline as
	$LF
	"possible, then push the direction you want, even for just a frame.
	$LF
	"Secondly, tapping the D-pad in a 2-on/1-off pattern starting at the
	$LF
	"right moment increases the speed when pushing them around. That’s
	$LF
	"why Obélix’s animation looks weird.
	$LF
]div
[h4 id=GreeceAct1 
	" Greece Act 1
	$LF
]h4
[div class=p 
	"The game wants you to jump from boat to boat by climing their masts, but we
	$LF
	"can take a shortcut at the beginning of the level. That shortcut is easily doable in RTA runs.
	$LF
]div
[h4 id=GreeceAct2 
	" Greece Act 2
	$LF
]h4
[div class=p 
	"Nothing really special here.
	$LF
]div
[h4 id=GreeceAct3 
	" Greece Act 3
	$LF
]h4
[div class=p 
	"Here, the routing was fairly straightforward, though there are many
	$LF
	"enemies and the projectiles make it rather difficult.
	$LF
]div
[div class=p 
	"At some point, my character is in a dire situation: there’s a flying
	$LF
	"disc behind him, a Roman ahead of him, and a block above him. Since
	$LF
	"there is no choice but to get hurt, I try to take damage from the disc
	$LF
	"so that I get damage-boosted forward.
	$LF
]div
[div class=p 
	"Fun fact: the developers didn’t bother animating the jars when they
	$LF
	"break on the ground; instead, the game displays some garbage sprites.
	$LF
	"The effect is convincing though: I didn’t notice it until I made this
	$LF
	"TAS! Just try to watch the video frame by frame to see what I mean.
	$LF
]div
[h4 id=GreeceAct4 
	" Greece Act 4
	$LF
]h4
[div class=p 
	"Ah, the Olympics. Even when TASing this game, we are safe from any
	$LF
	"accusations of doping. Were there even doping tests in 52 B.C.? I
	$LF
	"mean, our character fell into a cauldron of magic potion when he was
	$LF
	"little, so he should be setting some crazy world records.
	$LF
]div
[div class=p 
	"We are competing against a Roman athlete in three sports: 100-meter
	$LF
	"dash, 100-meter hurdles and javelin throw (which the developers forgot
	$LF
	"to translate, so it’s “lancer du javelot” 
	[em 
		"en français dans le
		$LF
		"texte
	]em
	"). For each sport, you get three attempts and the best of your
	$LF
	"three performances is compared with the opponent’s best. You need to
	$LF
	"get first place for at least two sports out of three to pass the
	$LF
	"level.
	$LF
]div
[div class=p 
	"Thing is: the opponent’s performance is randomized. While this has
	$LF
	"little influence on javelin throws, it is a much bigger an issue with
	$LF
	"the 100-meter dashes and hurdles because the game will only proceed to
	$LF
	"the next sport or attempt if both contestants reach the finish line.
	$LF
	"We therefore have to show good sportmanship, and give our opponent a
	$LF
	"boost as well by means of luck manipulation.
	$LF
]div
[div class=p 
	"In 100-meter dashes, the opponent’s in-game times without luck manipulation
	$LF
	"usually range from 15.1 to 16.0 seconds, but luck manipulation gets this down to 13.8 or 13.9 seconds, which is the absolute best time that can be manipulated.
	$LF
]div
[div class=p 
	"100-meter hurdles are more difficult to optimize because we have less
	$LF
	"control over the RNG during those races. The opponent’s in-game times
	$LF
	"range from 20.5 to 21.8 seconds without luck manipulation, but I was
	$LF
	"able to manipulate his times down to between 18.4 and 18.6 seconds.
	$LF
]div
[div class=p 
	"For javelin throws, I only manipulate the third attempt so that the
	$LF
	"opponent’s and the player’s javelins land on the same pixel. This can
	$LF
	"be bruteforced by hand.
	$LF
]div
[div class=p 
	"In general, I’ve tried the following for each sport: the first attempt
	$LF
	"tries to reach the absolute best possible time or score; the second
	$LF
	"attempt tries to do as bad as possible without wasting time (or only a
	$LF
	"little bit); and the third attempt tries to do the minimum effort
	$LF
	"possible to win. Hope you’ll enjoy.
	$LF
]div
[div class=p 
	"As an exception to the rule, I also do a bit of a playaround in the third attempt for 100 meter hurdles because I couldn’t find a way to run at the same speed as the opponent without incurring a significant slowdown.
	$LF
]div
[h4 id=HispaniaAct1 
	" Hispania Act 1
	$LF
]h4
[div class=p 
	"This level is in three parts: first you climb up from a boat, board
	$LF
	"another ship, then descend, before facing a mini-boss.
	$LF
]div
[div class=p 
	"There isn’t much to say about the climb itself, except that there is a
	$LF
	"circling crow that has been the source of many headaches when
	$LF
	"optimizing this movie, exactly as those in Helvetia Act 3.
	$LF
]div
[div class=p 
	"After boarding the other ship, though, it’s a matter of getting down
	$LF
	"as fast as possible without getting killed by fall damage. There are
	$LF
	"spikes on the mast that deal two damage points when hit, but whose
	$LF
	"hitboxes are very badly programmed, and we need to touch some
	$LF
	"platforms on the way down too. The lowest platform right before the
	$LF
	"mini-boss also has an incorrect hitbox, and so we can just fall
	$LF
	"through that platform and start the boss fight.
	$LF
]div
[div class=p 
	"The way I descend is as follows: I have the first set of spikes damage
	$LF
	"boost me on a platform, which makes me fall for 68 frames out of a
	$LF
	"maximum allowable of 78 frames (the character is still stunned by the
	$LF
	"damage, so there isn’t much else I could do). Then I fall for 62
	$LF
	"frames on another platform, then 68, and finally 67. I don’t think
	$LF
	"it’s possible to touch fewer platforms than that on the way down.
	$LF
]div
[div class=p 
	"The mini-boss at the end of the level is dumb. This guy takes 11
	$LF
	"damage to be defeated. Charged punches deal 4 damage instead of 1 and
	$LF
	"can be charged during a jump which also provides lateral movement, so
	$LF
	"three charged punches take out the boss in no time.
	$LF
]div
[h4 id=HispaniaAct2 
	" Hispania Act 2
	$LF
]h4
[div class=p 
	"The routing at the beginning was tough. The idea is to minimize
	$LF
	"airtime and maximize time spent running on the ground.
	$LF
]div
[div class=p 
	"The long jump at the end of the beginning section is pixel-perfect and
	$LF
	"the fall is exactly 78 frames long: press A one frame too late and the
	$LF
	"character will miss the jump and fall to his death; but press A one
	$LF
	"frame too early and the game kills you for falling from too high.
	$LF
]div
[div class=p 
	"The middle section of the level continuously spawns enemies that take
	$LF
	"three hits to kill. For those I can’t jump over, it’s faster to hit
	$LF
	"them three times than to use a charged punch.
	$LF
]div
[h4 id=HispaniaAct3 
	" Hispania Act 3
	$LF
]h4
[div class=p 
	"The game despawns one of the two spears, but not the second one, after
	$LF
	"using the catapult. So one of those spears comes back to haunt me
	$LF
	"right when I am faced with a Roman ahead and a block above. The
	$LF
	"intentional damage I take also buys me time and lets me jump over that
	$LF
	"same spear right when my invincibility ends.
	$LF
]div
[h4 id=HispaniaAct4 
	" Hispania Act 4
	$LF
]h4
[div class=p 
	"We somehow end up in a bullfight. A Roman runs in a certain direction
	$LF
	"(left or right) picked at random, which is the only early warning you
	$LF
	"get before a rampaging bull chases you, determined to kill you. He
	$LF
	"will one-shot Obélix if he gets hit.
	$LF
]div
[div class=p 
	"You just need to outrun the bull for long enough three times, until
	$LF
	"he’s knocked out. After that, you get a trophy to celebrate this
	$LF
	"gratuitous act of animal abuse. The dialog box still needs to be
	$LF
	"dismissed with one press of a button, which is how the TAS ends.
	$LF
]div
[div class=p 
	"And that’s it for this game. Thanks for watching and I hope you
	$LF
	"enjoyed it!
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/Darkman425 
		"Darkman425
	]a
	": Claiming for judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Darkman425 
		"Darkman425
	]a
	": Hello 
	[a class=intlink href=/Users/Profile/x0r 
		"x0r
	]a
	", and welcome to TASVideos!
	$LF
]div
[div class=p 
	"The routing, movement, and RNG optimization looks solid. The bits of playaround were also amusing to watch. There were some bits that I had questions about on the initial watch but the submission notes were helpful about explaining why those bits couldn't be sped up. Nice work!
	$LF
]div
[div class=p 
	"Accepting to Standard.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/despoa 
		"despoa
	]a
	": Processing...
]div
