2
[div class=p 
	(youtube|v=K9v1bq25B6A|w=640|h=480)
	$LF
]div
[h2 id=EncodeInformation 
	"Encode Information
	$LF
]h2
[div class=p 
	"There’s a glitch where you can jump during a screen transition causing the music to not play on the next screen (only sound effects play). This glitch sometimes can save a frame so I do it when necessary. Unfortunately this makes the TAS very quiet. To make this TAS much better to watch, I created an encode with all of the game music edited back in. This is the encode at the top of the submission text. I’d love to see some encode of the run with music edited in available if this TAS is accepted so I’m happy to upload the audio files and audacity project if they could be useful.
	$LF
	"I’ve also uploaded an unedited encode here: https://youtu.be/iT-Ti9zKZ8I  
	$LF
]div
[h2 id=CategoryDescription 
	"Category Description
	$LF
]h2
[div class=p 
	"This TAS beats the game as fast as possible with no restrictions. Back in 2017 I TASed this category 
	(__wikiLink|/5773S|5773S)
	". I originally cancelled the submission due to thinking of more routes and wanting to retest things. Furthermore, at that time Bizhawk didn’t support the Korean BIOS, so I wanted to wait until that could be used so I could properly do the TAS.
	$LF
]div
[div class=p 
	"Due to emulator changes, this was not possible to directly resync so I did this TAS from the ground up. I found some small improvements and saved 718 frames overall. 207 of these frames were saved due to the different BIOS.
	$LF
]div
[div class=p 
	"Most of this submission text is reused from that previous submission with some minor alterations. If anything doesn’t make sense I may have missed it in my proofread, but all the improvements since the last submission were too subtle to mention in this submission text.
	$LF
]div
[h2 id=EmulatorRegionSettings 
	"Emulator Region Settings
	$LF
]h2
[div class=p 
	"I used NTSC for this run because this game has a release on the Gam*Boy and Aladdin Boy (the Korean equivalents of the Master System). As such I’ve used the Korean BIOS.
	$LF
]div
[h2 id=ConsoleDifferences 
	"Console Differences
	$LF
]h2
[div class=p 
	"This game also has a release on the Sega Genesis (Megadrive) which has a published TAS 
	(__wikiLink|/1041S|1041S)
	". While the Megadrive version seems the same on the surface, the two versions are very different. In general there is a lot more plot in the Megadrive version and some areas are expanded. Many areas are completely different between the two (the final area for example). The TAS of the Megadrive version is good because you get to see more of the game. But the Master System version has many more glitches and sequence breaks, as well as completely different layouts in many areas. Pretty much the TAS of the Megadrive version feels more like a full game TAS, while this TAS on the Master System has the feel of a glitchy any% category (note that both TASes are any%).
	$LF
]div
[h2 id=UsefulRAMAddresses 
	"Useful RAM Addresses
	$LF
]h2
[table 
	[tbody 
		[tr 
			[th 
				"Description
			]th
			[th 
				"Address
			]th
		]tr
		[tr 
			[td 
				"HP
			]td
			[td 
				"058D
			]td
		]tr
		[tr 
			[td 
				"HP Timer (Desert)
			]td
			[td 
				"00C4
			]td
		]tr
		[tr 
			[td 
				"Gold
			]td
			[td 
				"067D, 067E
			]td
		]tr
		[tr 
			[td 
				"X Position
			]td
			[td 
				"0307, 0306, 0309
			]td
		]tr
		[tr 
			[td 
				"Y Position
			]td
			[td 
				"0305, 0304, 0308
			]td
		]tr
		[tr 
			[td 
				"X Velocity (Signed 2 byte)
			]td
			[td 
				"030D, 030E
			]td
		]tr
		[tr 
			[td 
				"Y Velocity (Signed 2 byte)
			]td
			[td 
				"030A, 030B
			]td
		]tr
		[tr 
			[td 
				"Enemy HP
			]td
			[td 
				"035B, 037B, 039B
			]td
		]tr
	]tbody
]table
[div class=p 
	"This game is also supported by Scripthawk https://github.com/Isotarge/ScriptHawk which displays all of this information along with many more features. 
	$LF
]div
[h2 id=TricksandTechniques 
	"Tricks and Techniques
	$LF
]h2
[h3 id=ScreenTransitionJumps 
	"Screen Transition Jumps
	$LF
]h3
[div class=p 
	"There is 1 frame when the screen transitions into a new area where you can perform a jump. This jump interrupts the sound and stops the music playing for the next screen. This gives you a little boost and can sometimes save a frame. I always do this if it saves time but if I can avoid losing time I don’t use this glitch (eg the room before the ice boss). Since this makes the run much less entertaining, the encode provided at the top of the submission text has all of the music edited back in.
	$LF
]div
[div class=p 
	"This glitch doesn’t work when transitioning vertically or if you are not grounded when entering a new area.
	$LF
]div
[div class=p 
	"Often the trick allows you to advance a few pixels or a few subpixels based on the direction that you’re holding. There are occasions where the trick saves more than one frame in a map, such as if you want to jump like at the start of the pyramid to grab the rope.
	$LF
]div
[div class=p 
	"There’s a variation on this glitch where you press jump with left+right. This occasionally allows you to move right several pixels. However, this is very rare and only works on a few maps. I only found 3 maps where this works while making the TAS and they were all after bosses with exiting out of doors. This was only useful after the first boss. For the other 2 I had to go left so it wasn’t useful.
	$LF
]div
[h3 id=CornerBoosting 
	"Corner Boosting
	$LF
]h3
[div class=p 
	"If you jump to land on a platform but land on the earliest part of the platform, you can get zipped forward roughly 4 frames worth of walking distance. This is used heavily throughout the run and it’s also possible on low ceilings.
	$LF
]div
[h3 id=WallJumping 
	"Wall Jumping
	$LF
]h3
[div class=p 
	"This glitch was originally found by Greenalink under the name of corner jumping. Basically you get slightly into a wall and then you can jump since the game interprets the wall as floor. The original main application of this is to enter the ice area early, but with precise subpixel positioning you can use this to scale large vertical sections of wall.
	$LF
]div
[div class=p 
	"I’ll use the section with the long chain climb just before where the legendary boots are as an example. I jump from under a corner where a roof turns into a vertical wall. I position myself as right as possible while still being able to jump up and end up inside of the wall. If you stay still in the wall it will zip you out to the left and if you press right you zip out to the left. But if you delicately press left so that you always have some leftward velocity, you stay inside the wall. So I keep the minimum non-zero amount of leftward velocity to stay in the wall for as long as possible. While in the wall it’s possible to jump every second frame.
	$LF
]div
[h3 id=DesertBootsSkip 
	"Desert Boots Skip
	$LF
]h3
[div class=p 
	"If you try to enter the desert your health will deplete every few frames. The address 00C4 counts up every frame and you lose health when this hits any of the following values (in hex): 01,11,31,51,61,71,81,91,B1,D1,E1,F1. Notice that 21,41,A1 and C1 are not included. You don’t lose health if you’re paused and this can be abused. If you only are unpaused when the value at 00C4 is not at any of the previously listed values then you will not lose health. This means that with strategic pausing and unpausing, you can make it through the desert alive.
	$LF
]div
[div class=p 
	"Note that the timer still ticks up when you are paused, so sometimes waiting to unpause can be advantageous. Usually there is a gap of 16 frames between taking damage, but sometimes there are gaps of 32 frames (when the timer passes over 21,41,A1 and C1). I make sure to time my pauses to take full advantage of these gaps. I also end the desert with 0 health because pausing takes a long time so I try to cut down as much pausing as possible. 
	$LF
]div
[h3 id=RNGManipulation 
	"RNG Manipulation
	$LF
]h3
[div class=p 
	"Usually enemies walking direction is RNG. This can be useful to manipulate since some walking directions require you to slow down to get past, while others don’t. This does have its limitations when there are multiple enemies, since there are only a set number of ways that a group of enemies can move. Usually the RNG can be manipulated by jumping on the screen before the enemies. Even though holding jump doesn’t do anything in terms of physics, pressing jump while in the air can affect RNG. Another manipulatable element is the drops from enemies and the direction that the drops go.
	$LF
]div
[h2 id=RouteDescriptionandInvidivualSectionComments 
	"Route Description and Invidivual Section Comments
	$LF
]h2
[h3 id=OverallRoute 
	"Overall Route
	$LF
]h3
[div class=p 
	"This game is linear until you enter purparil castle after beating the mushroom boss. The intended order is to go to the village in the forest to get the trident which allows you to travel underwater to get the desert boots. You then cross the desert with the boots to get the sacred flame which lets you access the ice area. From the ice area you get the ancient axe which can be turned into the legendary sword which is used to access the endgame. 
	$LF
]div
[div class=p 
	"Note that we can use a corner clip to get into the ice area but we would still need to get the desert boots to cross the desert, otherwise wonder boy takes damage before making it across. Luckily there is also a glitch to cross the desert without the boots, so the entire section of the game between entering purparil and getting the desert boots can be skipped!
	$LF
]div
[div class=p 
	"Since you need to take the ancient axe from the ice area to the desert I do the ice area first, followed by the desert. While using a wall jump to get into the ice area early saves a decent amount of time on the route, the main massive sequence break is desert early since that is what skips the whole quest to get the boots. Even if I couldn’t get into ice area with a wall jump, desert early also means sacred flame early which can open the ice area.
	$LF
]div
[h3 id=IndividualSections 
	"Individual Sections
	$LF
]h3
[div class=p 
	"First thing to do is use a corner jump to skip the rising and lowering platform. Next I need to start grinding 40 gold to buy boots and a potion from the first shop. I go for an area where you can jump to spawn gold (up to 40). Then I get the last 9 gold from a mushroom in the village. The purpose of the boots is to increase walking speed and this is definitely worth it. The purpose of the potion is for the desert boots skip glitch. Getting the potion allows me to restore 4 health (1 heart) which skips 4 pauses in the desert. Of course it takes time to actually get the small potion though. Over the whole run, getting the potion saves 39 frames over not getting the potion.
	$LF
]div
[div class=p 
	"Just before the first boss I grab another heart. This is to maximize the health I have to cross the desert, thus minimizing the number of pauses needed. The first boss of the game is a mushroom. I could use the fire magic but this would be slower since I don’t intend to heal before the ice boss and it’s much better to save the fire to use in the ice boss. Furthermore, if I used all 3 fire spells in the mushroom boss I would have to reselect them again.
	$LF
]div
[div class=p 
	"Once the mushroom boss is beaten I can go to the path leading to purparil, where I take a detour to go to the ice area. The corner clip allows early access to the ice area and the late game enemies. I quickly grind 4000 gold for the ceramic boots. I make sure to have these boots since they make me get through the desert quicker, thus reducing time spent taking damage and pausing. I get the boots on the way back since I don’t have 4000 gold when I first reach the ice town and it’s not worth grinding more before that since the ice bomber boss gives a lot of gold.
	$LF
]div
[div class=p 
	"I considered deathwarping back to an inn to exit the ice area but there were two problems with that. First I didn’t have a previous inn visited so I would need to heal up somewhere before the ice area. Secondly if I died then I would lose the elixir which restores health. The elixir is extremely important for making it across the desert while minimizing pauses since it cuts out 16 pauses.
	$LF
]div
[div class=p 
	"After the ice world I go to the desert. Optimizing the desert cross itself is discussed in tricks and techniques. The pyramid section involves climbing all the way to the top with the rope then coming down towards the boss. However with extremely precise positioning and movement off the rope I was able to skip a massive portion of the pyramid.
	$LF
]div
[div class=p 
	"I get a heart from a ghost and use it to damage boost past the two blue enemies which otherwise take ridiculously long to kill. I exit the pyramid with 1 unit of health left which is enough to damage boost through 1 of the boulders after the pyramid. I could have 3 health and damage boost through both of them but getting another 2 health somewhere was definitely not worth it.
	$LF
]div
[div class=p 
	"Once in the town after the pyramid I get the legendary sword and after a lot of wall jumping when heading back to and when in purparil castle, I can head to the final area. I considered deathwarping out of the town where you get the legendary sword (and adding in the appropriate inn visits) but simple leaving the town the intended way was faster.
	$LF
]div
[div class=p 
	"To get to the final area you have to stand in a specific spot (under the bell) with the legendary sword equipped and you have to press up. Once in this area it’s fairly straightforward platforming. I could do more corner boosting on the first screen, but due to the spacing of the platforms, skipping some corner boosts is optimal.
	$LF
]div
[div class=p 
	"This section has the biggest wall jump in the run which skips a huge section of chain climbing.
	$LF
]div
[div class=p 
	"One route choice that was not obvious is whether or not it’s worth getting the legendary boots (shortly after the big wall jump). On one hand the legendary boots make you move faster and allow you to sneak past some enemies without the use of the sword, but it does take a 489 frame detour to get the legendary boots. I TASed the rest of the game both with and without the legendary boots and I found that getting the boots was 19 frames slower.
	$LF
]div
[div class=p 
	"The last thing to mention in the run is the final boss. When the eye opens is RNG, so I manipulated it to open as early as possible and last input was just the last sword swing.
	$LF
]div
[h2 id=Thanks 
	"Thanks
	$LF
]h2
[div class=p 
	"Greenalink – For doing a fantastic RTA run which was a great reference and for finding many useful glitches for this game
	$LF
]div
[div class=p 
	"Isotarge – For making the scripthawk module which was extremely helpful for this game
	$LF
]div
[hr 
]hr
[div class=p 
	(__wikiLink|/Feos|feos)
	": Judging...
]div
