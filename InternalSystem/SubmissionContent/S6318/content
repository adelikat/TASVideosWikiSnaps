4
[p 
	(youtube|v=0SyV0mR8jUE)
	$LF
	(youtube|v=W0tLIlSVu48)
	$LF
	"Video on bilibili: https://www.bilibili.com/video/av45256788/
	$LF
]p
[p 
	"Hello everyone. I complete the TAS movie for Contra 4, this time. Which is a project beginning from 2011. But RNG is too hard to manipulate in 3D stages. So I gave up for several times. And do it again for several times. But after finishing Contra "pacifist" TAS, I feel that I could improve it this time. And I did it!
	$LF
]p
[h4 
	" Game info
	$LF
]h4
[p 
	"Contra 4 (魂斗羅 Dual Spirits, lit. "Contra Dual Spirits") is a 2D action game for the Nintendo DS and the eleventh original installment in the Contra series. The game was released in North America on November 13, 2007. Contra 4 was produced by Konami Digital Entertainment in America and developed by WayForward Technologies, making it the first Contra game developed by them, as well as the first original Contra game for a portable platform since the 1991 Game Boy game Operation C. Contra 4 was designed to be a direct sequel to the Contra games for the Nintendo Entertainment System and Super NES (Contra, Super C, and Contra III: The Alien Wars), with a gameplay model similar to those games, and was also in celebration of the 20th anniversary of the original Contra.
	$LF
]p
[h4 
	" Emulator settings
	$LF
]h4
[p 
	"Bus level timing is 
	[b 
		"ON
	]b
	" this time. ON is faster than OFF in this game. Don't ask why. Because I don't know that, either.
	$LF
]p
[h4 
	" Details
	$LF
]h4
[ul 
	[li 
		" Aims for fastest time
		$LF
	]li
	[li 
		" Includes arcade mode (story mode) and challenge mode = 9+50 stages
		$LF
	]li
	[li 
		" Uses death as a shortcut/Takes damage to save time
		$LF
	]li
	[li 
		" Plays at hardest level for arcade mode
		$LF
	]li
	[li 
		" Luck manipulation
		$LF
	]li
]ul
[h4 
	" Important details
	$LF
]h4
[ul 
	[li 
		" x speed:
		$LF
	]li
]ul
[p 
	"walking = 24.
	[br 
	]br
	$LF
	"climing = 21.
	[br 
	]br
	$LF
	"on a carrier = 32.
	$LF
]p
[ul 
	[li 
		" y speed:
		$LF
	]li
]ul
[p 
	"an=-55+2(n-1) , when y speed<0;
	[br 
	]br
	$LF
	"an=0+5(n-1) , when y speed >=0.
	$LF
]p
[p 
	"So jumping is faster than climbing the hills. And using 8 frames to do a single jump is fastest. (=(0-55-53-51-49-47-45-43)/8)
	$LF
]p
[h4 
	" Improvements
	$LF
]h4
[p 
	[del 
		[em 
			"The difference between 0.9.2 and 0.9.9 expresses only the number of lags. To compare with these two movies, decrease the frames cost by lags firstly.
		]em
	]del
	"I meant to say that words. But after stage 3, I saved much more lags... So it becomes hard to compare the emulators' difference... 
	$LF
]p
[ul 
	[li 
		" stage 1: 3 frames saved.
		$LF
	]li
]ul
[p 
	"I fall down directly instead of jumping at that short ground.
	$LF
]p
[ul 
	[li 
		" stage 2: 28 frames saved.
		$LF
	]li
]ul
[p 
	"Use C gun better.
	$LF
]p
[ul 
	[li 
		" stage 3: 41 frames saved.
		$LF
	]li
]ul
[p 
	"Several frames saved from each room.
	[br 
	]br
	$LF
	"23 frames saved from boss room. I found 3 RAM addresses for that room. Boss can work if that 3 timers go to 0. So manipulating those RAMs is important.
	$LF
]p
[ul 
	[li 
		" Due to lags saved by me. There is no accurate comparison for later stages.
		$LF
	]li
	[li 
		" stage 4: 
		$LF
	]li
]ul
[p 
	"I climb instead of jumping to save several frames. (Because the old one stop moving for several frames to grasp the platform.)
	[br 
	]br
	$LF
	"Boss (ship) fighting saved 6 frames. Player's speed is faster than ship's speed. So using fewer bullets to beat it would be faster. And I use one fewer bullet to beat it.
	[br 
	]br
	$LF
	"Boss (green one on rocket) fighting saved 22 frames. C gun takes 4 damage for each time after boss stop moving. C=4/12, M=2/5. So using M gun is the best.
	[br 
	]br
	$LF
	"And saved 8 frames after boss fighting.
	[br 
	]br
	$LF
	"Final boss fignting:
	[br 
	]br
	$LF
	"Arm 1 improves 42 frames. Arm 2 improves 6 frames. Head improves 9 frames. (Includes 1 fewer lag.)
	$LF
]p
[ul 
	[li 
		" stage 5:
		$LF
	]li
]ul
[p 
	"Saved from lags.
	$LF
]p
[ul 
	[li 
		" stage 6:
		$LF
	]li
]ul
[p 
	"0+9+2+0+2-4-2.
	$LF
]p
[ul 
	[li 
		" stage 7:
		$LF
	]li
]ul
[p 
	"There is a 96-frame rule for final boss. After boss HP becomes 0, stage ends by every 96-frame check.
	$LF
]p
[ul 
	[li 
		" stage 8:
		$LF
	]li
]ul
[p 
	"1+23+0+129+11+1+2-3
	$LF
]p
[ul 
	[li 
		" stage 9:
		$LF
	]li
]ul
[p 
	"Better movements.
	$LF
]p
[h4 
	" Useful RAMs
	$LF
]h4
[p 
	[a href=/userfiles/info/54193458254706270 
		"part 1
	]a
	"; 
	[a href=/userfiles/info/54193467928983568 
		"part 2
	]a
	"; 
	[a href=/userfiles/info/54193477498208091 
		"part 3
	]a
	$LF
]p
[p 
	"Maybe too many movies are done in these months. I need to have a rest.
	$LF
]p
[hr 
]hr
[p 
	(__wikiLink|user:Memory)
	": Claiming for judging
]p
