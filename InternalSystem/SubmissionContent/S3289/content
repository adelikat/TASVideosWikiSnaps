10
[p 
	(jwplayer|w=256|h=192|v=http://www.archive.org/download/SmsKenseiden100ByJungonIn1302.55/kenseiden-tas-100p-jungon_512kb.mp4)
	$LF
]p
[ul 
	[li 
		" Emulator used: dega-1.16pre1-win32-z80jb MAME core
		$LF
	]li
	[li 
		" Aims for fastest in-game time
		$LF
	]li
	[li 
		" Takes damage to save time
		$LF
	]li
	[li 
		" Aims for 100% collection
		$LF
	]li
	[li 
		" Plays all levels
		$LF
	]li
	[li 
		" ROM used: Kenseiden (UE) [!].sms (the (J) ROM desyncs right after the first boss)
		$LF
	]li
]ul
[p 
	[b 
		"About the game
	]b
	$LF
]p
[p 
	"Kenseiden stars Hayato, a samurai that has to fight against warlocks and evil spirits that plague 16th century Japan. The warlocks stole the five secret scrolls and the sword of the Dragon Lord. Hayato, who has dragon blood in his veins, must recover the scrolls and sword and enter the castle and kill Oda Nobunaga.
	$LF
]p
[p 
	"In the original Japanese version, Hayato is blond. In the Western versions he has black hair.
	$LF
]p
[p 
	[b 
		"About the run
	]b
	$LF
]p
[p 
	"I really suggest that you don't read any of this before seeing the TAS itself.. o_o
	$LF
]p
[p 
	"This run was started when I was paying attention to the 100% Kenseiden run, rewatching it for the second time (that happened when I started voting on videos at the site) and suddenly I remembered that climbing the statue in stage 9 could teleport us 2 floors up, saving exactly 1300 frames on tests, and summing up with the missing of stage 7, which made me lost 1000 frames for being a longer stage comparing to a revisit of stage 10.
	$LF
]p
[p 
	"Numbers of stages: I learned them because of the instruction manual, it had the names, and the order is the same one you get when using the cheat for choosing a stage to start (never used it to play, because not getting the high jump technique made the game impossible to beat) ... stages 1, 3, 7, 11 and 12 have the same music and no boss, 2 and 9 have a ruined house as theme, and bosses wheel and larva, 4 and 13 have waterfall as theme, and bosses big guy and eyeball, 10 and 15 have japanese theme and bosses two-headed worm and blue skull, stage 16 is that final one with a red castle, and the final bosses. Practice rooms are stage 5, 6, 8 and 14.
	$LF
]p
[p 
	"Started playing around, managed to get 28 frames better easily on the first 4 stages, and then lost 16 of them in the cave, which made me restart and search for what I did better, and then it lead to...
	$LF
]p
[p 
	[b 
		"Tricks and glitches
	]b
	$LF
]p
[p 
	"Hayato moves 1 pixel per frame when walking right, left or jumping right, but on left jumps, we can press left once more and he will be faster than this, around 1,0625 pixels per frame, this saved around 12 frames per screen.
	$LF
]p
[p 
	"The game only accepts input on half the frames, and that depends on the scene we are in. It's odd or even, can change a lot, but not during the same scene, the game has no lags at all.
	$LF
]p
[p 
	"There are two types of floor in which Hayato can walk: platform, that recalculates his Y position while keeping the X speed at 1, and ground, that recalculates his Y position but sets X speed to 0.
	$LF
]p
[p 
	"Landing: when the floor is ground, we can land on good frames, which are the ones that set our Y position to the same one as the floor. Example: we're falling at speed Y 3 and 255 for subpixel, which goes 4 pixels per frame. Y floor being 127, if we're at 123 on the frame that accepts input, he will fall directly on 127, which will make we not lose frames, other values, 126, 125, 124, 122, 121, 120 .. make him lose 2 frames. 2 frames per jump made me gain around 170 frames in the end. 119 makes him lose 1 frame, which leads the game into making us lose the other one on a screen transition.
	$LF
]p
[p 
	"Attacking in mid-air is preferred, because Hayato keeps going right or left depending on the situation. This attacks had to be made 16 frames before landing, or else he will pose there, with 0 X speed and lose 2 to 14 frames. I only lose 2 on rare times, when it's impossible to make an enemy rise enough to be hit before.
	$LF
]p
[p 
	"Jumping on ladders: Hayato actually climbs up ladders a little faster and is recalculated for 3 pixels of gaining in one frame when we press up on the ladder at a good situation.
	$LF
]p
[p 
	"Taking damage: when we can't take an enemy out without losing frames, there is the trick that makes it possible to go through them, we just have to be hit by an enemy that cames from our back. Tests indicate that this is faster than going back for 10 frames or more to gain space to jump over something.
	$LF
]p
[p 
	"Some enemies walk with us, that being said, I don't need to attack them, they just go with me, walking back. This saved frames on 1 situation or 2.
	$LF
]p
[p 
	"Snakes are ground enemies that can hit us with their heads or tails, but their bodies are not considered, so we can walk inside them, only when they are striking. This didn't save frames, but it looks really cool.. =P
	$LF
]p
[p 
	[b 
		"Luck Manipulation
	]b
	$LF
]p
[p 
	"Random variables have little use in this game, but enough to not being a good idea to hex-edit, these are the moments that can change completely: falling rocks can change direction randomly, blue fiends can jump right or left, flying bubbles are harmful and can change speed, and the final boss' shots change their flights' directions.
	$LF
]p
[p 
	[b 
		"Data dump
	]b
	$LF
]p
[p 
	"Every attack costs exactly 16 frames: standing attack, jumping, crouching, "tcheufa", "faish", "kaoshi" but two of them costs only 2: "dancing" berserker, and the "pling"
	$LF
]p
[p 
	"- "tcheufa" is done with up+1 after defeating the second boss. 16 frames lost, avoided using it too much.
	$LF
]p
[p 
	"- "faish" is done in air, up+1 after defeating the third boss. 16 frames in air, not a problem.
	$LF
]p
[p 
	"- "kaoshi" is done while crouching, button 1 after defeating the fourth boss. 16 frames lost + 2 to crouch.
	$LF
]p
[p 
	"- "dancing" is acquired after the fifth boss. Hold up while walking and the sword balances around.
	$LF
]p
[p 
	"- "pling" is your frame saving attack in many situation, we just have to start holding 1 after any attack or landing, and then crouch. After a pling, we have to jump front to avoid losing 4 frames, as the game recalculates our crouch position and our standing one.
	$LF
]p
[p 
	"- Standing and crouching attacks are only used when I have to wait for a pike to move away, or in bosses.
	$LF
]p
[p 
	"- Taking damage cost 24 frames of non-moving Hayato, with 3/4 of speed, which means only 6 frames lost if you're pushed front.
	$LF
]p
[p 
	"- Of course I can't take any damage during training stages, getting hit inside those rooms means losing and restarting the whole scene.. =P
	$LF
]p
[p 
	"Memory Watch on MHS got these good memory positions that made the calculation of good frames to land very easy:
	$LF
]p
[p 
	"00D44153- X position subpixel, made me realize that sometimes I was losing frames when turning, and it was fixed.
	$LF
]p
[p 
	"00D44154- X position on screen (stops when it's moving), helped me because it changes on bosses for better positions.
	$LF
]p
[p 
	"00D44155- Y speed subpixel, that was on the formula, button 2 changes it by summing less Y speed each frame.
	$LF
]p
[p 
	"00D44156- Y speed, it's negative when we're going up, and positive when we're falling.
	$LF
]p
[p 
	"00D44157- X speed subpixel, the reason I discovered that left jumps are faster.
	$LF
]p
[p 
	"00D44158- X speed, it's 1 when going right, 255 when going left, 254 (with subpixel 240) when jumping left.
	$LF
]p
[p 
	"00D49F4C- Y position, not the only one, but one was enough to make calculations, even if it gets weird numbers when Hayato take damage..
	$LF
]p
[p 
	"00D44151- This one changes during jumps, but it didn't help at all =P
	$LF
]p
[p 
	[b 
		"Round by round comments
	]b
	$LF
]p
[p 
	[b 
		"1- Higo. the starting level
	]b
	$LF
]p
[p 
	"The new strategy was to not take damage at the end, leading to having to deal with that final enemy differently. Frames saved so far: 8
	$LF
]p
[p 
	[b 
		"2- Chikuzen
	]b
	$LF
]p
[p 
	"This is where jumping left shows how weird this game was programmed, I actually think now that the jumps to right are the glitchy ones. Frames saved so far: 38
	$LF
]p
[p 
	[b 
		"Boss- Fire Wheel Warlock
	]b
	$LF
]p
[p 
	"Didn't change much, but walking inside two fires looked nice to me, so I went with that. Between 7th and 8th attack it looks like a gap, but the boss has to die closer to the floor, really. Frames saved so far: 40 (2 for having more HP after the boss, actually)
	$LF
]p
[p 
	[b 
		"4- Iyo
	]b
	$LF
]p
[p 
	"Most improvements here were on ladders, few left jumps, but the rock avoiding was the best part, aside with the snake walking, of course. Frames saved so far: 66
	$LF
]p
[p 
	[b 
		"Boss- Benkei Warlock
	]b
	$LF
]p
[p 
	"Didn't have anything to improve, except that I could fight him without turning left for half of the battle. Frames saved so far: 66 yet
	$LF
]p
[p 
	[b 
		"5- Tosa (Training Stage)
	]b
	$LF
]p
[p 
	"Plinging some arrows proved really helpful in this run. Frames saved so far: 308
	$LF
]p
[p 
	[b 
		"4- Iyo (revisited)
	]b
	$LF
]p
[p 
	"This is the only stage I could perform a 132-136-140-143 jump... this doesn't look special on the run, but seeing the Y position like that on MHS was nice =P Frames saved so far: 308 yet
	$LF
]p
[p 
	[b 
		"3- Nagato
	]b
	$LF
]p
[p 
	"Tried to have all jumps on good frames, and.. I did it \o/ Sadly I couldn't step on the skull for no damage like before because of subpixels.. Frames saved so far: 324
	$LF
]p
[p 
	[b 
		"6- Izumo (Training Stage)
	]b
	$LF
]p
[p 
	"This one is the hardest on normal playing. Could play around more because the timing of pikes is terrible.. Frames saved so far: 326
	$LF
]p
[p 
	[b 
		"9- Kaga
	]b
	$LF
]p
[p 
	"New path here, it saved almost two floors from being visited. Frames saved so far: 1638
	$LF
]p
[p 
	[b 
		"Boss- Larva Fly Warlock
	]b
	$LF
]p
[p 
	"Could hit the boss faster, but that skull in the cave made me lose 2 frames here for HP, it was 2 here or 2 there, chose this one because less jumps equal less time. Frames saved so far: 1642
	$LF
]p
[p 
	[b 
		"7- Settsu
	]b
	$LF
]p
[p 
	"Bubbles flying, fishes jumping, longer stage, can't compare the videos.. Rough estimate: 1032 frames slower
	$LF
]p
[p 
	[b 
		"8- Yamato (Training Stage)
	]b
	$LF
]p
[p 
	"I only can tell that I could save frames here. Rough estimate: 6 frames faster
	$LF
]p
[p 
	[b 
		"10- Iga
	]b
	$LF
]p
[p 
	"Could walk around a little more for almost the same number of jumps, and escaped a beach ball. Rough estimate: 22 frames faster
	$LF
]p
[p 
	[b 
		"Boss- Two-Headed Warlock
	]b
	$LF
]p
[p 
	"Hitting both heads on the two first jumps made me lose the achievement of killing the strongest one first.. But managed to glitch the jingle out! =P Frames saved so far: 637
	$LF
]p
[p 
	[b 
		"11- Owari
	]b
	$LF
]p
[p 
	"Like the cave, the forest is a big field for better jumping and landing. Frames saved so far: 677
	$LF
]p
[p 
	[b 
		"13- Suruga
	]b
	$LF
]p
[p 
	"Second waterfall stage didn't change that much, except for ladders and the scene where I go left. Frames saved so far: 703
	$LF
]p
[p 
	[b 
		"Boss- Putrid Eye Warlock
	]b
	$LF
]p
[p 
	"Couldn't do the boss come any lower, it actually starts going back up right after the fight if we stop the movie there. Frames saved so far: 701 (actually lost frames because of HP refilling, but that is because of the fruit, it's not coming on this stage anymore)
	$LF
]p
[p 
	[b 
		"12- Etchu
	]b
	$LF
]p
[p 
	"This stage is so random I could get a desync without hex-editing. Nothing to report, all floor is platform here. Frames saved so far: 703
	$LF
]p
[p 
	[b 
		"14- Echigo (Training Stage)
	]b
	$LF
]p
[p 
	"Could make the fruit come from an arrow, yay, and not stop for waiting the arrows. Frames saved so far: 755
	$LF
]p
[p 
	[b 
		"15- Mito
	]b
	$LF
]p
[p 
	"Better berserking got me to less jumping. Frames saved so far: 759
	$LF
]p
[p 
	[b 
		"Boss- Death Head Warlock
	]b
	$LF
]p
[p 
	"Sometimes, stopping for 2 frames is a lucky time saver. Frames saved so far: 773 (all leaving the stage, the boss battle itself has the same number of frames)
	$LF
]p
[p 
	[b 
		"16- Edo
	]b
	$LF
]p
[p 
	"All more careful jumping, and actually had to skip one perfect landing here because of 4 enemies in a row, it's right before the final ladder.. Frames saved so far: 785
	$LF
]p
[p 
	[b 
		"Boss- Yonensai
	]b
	$LF
]p
[p 
	"Not sure if this one is Yonensai, but, actually got better luck with jumps and X speed managing.. Frames saved so far: 791
	$LF
]p
[p 
	[b 
		"Final Boss
	]b
	$LF
]p
[p 
	"This one is a pain in the ass, alright... decided to go crazy and not wait for him to put his weapon back.. more damage, less time waiting equals less time .. Final count: 868 frames faster
	$LF
]p
[p 
	[b 
		"Conclusions
	]b
	$LF
]p
[p 
	"Many thanks to AngerFist, and Neofix, Mklip2001, Keirden, Adelikat, Klmz, and whoever else that helped on the TASing work, maybe it didn't get to a really high number of rerecords, but that's mostly because I learned the formulas to land in good frames, and a formula to attack and not lose frames landing too soon, ...
	$LF
]p
[p 
	"Anyway, I hope people enjoy the work and please don't try to obsolete it by skipping Settsu, it's a nice region to be seen, and has those bubbles that are really random and look nice and escapable on the video, the bubbles on Edo have much less randomness... ._. unless, of course, you discover a different new trick that saves another big amount of frames >_>
	$LF
]p
[hr 
]hr
[p 
	[a class=intlink href=/Users/Profile/Mukki 
		"Mukki
	]a
	": Judging...
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Mukki 
		"Mukki
	]a
	": Accepting as an improvement to 
	[a class=intlink href=/1451M 
		"the currently published run
	]a
	".
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Sgrunt 
		"sgrunt
	]a
	": Processing.
]p
