12
[p 
	(youtube|v=xG4ECwsEzN8)
	$LF
]p
[h2 
	"The Legend of Zelda (second quest)
	$LF
]h2
[ul 
	[li 
		"Aims for fastest time
		$LF
	]li
	[li 
		"Manipulates Luck
		$LF
	]li
	[li 
		"Abuses Programming Errors
		$LF
	]li
	[li 
		"Uses a game restart sequence
		$LF
	]li
	[li 
		"Takes damage to save time
		$LF
	]li
	[li 
		"Uses a level password
		$LF
	]li
	[li 
		"No predefined saves
		$LF
	]li
	[li 
		"No Death
		$LF
	]li
	[li 
		"Genre: Adventure
		$LF
	]li
	[li 
		"Uses Emulator FCEUX 2.0.2
		$LF
	]li
]ul
[p 
	"This run is 
	[b 
		"4 minutes and 13.60 seconds
	]b
	" faster than 
	[a class=intlink href=/8M 
		"Sleepz' published movie
	]a
	".
	$LF
]p
[p 
	"The Legend of Zelda is a game that needs little introduction to most gamers, however, here is a brief description:
	$LF
]p
[p 
	"The player controls the hero character, Link. Ganon, the prince of darkness, and his army attack the kingdom of Hyrule and steal the triforce of power--a legendary relic handed down to each generation of Hyrule's royalty. Now he needs to obtain the triforce of wisdom, but princess Zelda scattered eight pieces of the triforce of wisdom in dungeons around the game's fantasy setting called Hyrule. The princess also sends her most trustworthy nursemaid, Impa, to find a hero with the courage to face Ganon. Ganon, who is upset by Zelda's plot, captures her and imprisons her at LEVEL 9.  
	$LF
]p
[p 
	"Impa is then cornered by Ganon's minions but rescued by a young man. His name is Link, our protagonist. Impa confides in Link, telling him the story of Gannon and the Princess. Now armed with a quest, but no sword, Link goes forth to save Hyrule. I still wonder how the Princess managed to hide those triforce pieces with all the monsters and locked doors in these dungeons...
	$LF
]p
[h2 
	" Techniques and Technical Information
	$LF
]h2
[h3 
	" Luck Manipulation
	$LF
]h3
[p 
	"Luck manipulation is the heart and soul of this run. The most rerecords are used trying to obtain ideal enemy movement in order to quickly kill enemies, bypass them, or damage boost off of them.
	$LF
]p
[h4 
	" Enemy Dropping Patterns
	$LF
]h4
[p 
	"One of the first objectives when starting this run was to determine exactly how the game determines what items enemies drop; with full control of enemy drops, the better we may plan our damage boosting and bomb rationing.  
	$LF
]p
[p 
	"The enemies either drop or do not drop an item based solely on what frame they are killed.
	$LF
]p
[p 
	"What exactly they drop is more complicated. It is determined by two factors:
	$LF
]p
[ul 
	[li 
		"The type of baddie (they are lumped into 4 categories based on what they are programmed to drop)
		$LF
	]li
	[li 
		"The number in $052A
		$LF
	]li
]ul
[p 
	"$052A increases by one every time an enemy is killed.  This chart made by Baxter illustrates the concept better than words:
	$LF
]p
[p 
	[img class=embed src=http://media.tasvideos.org/zeldatricks/zeldaitemdropsnr2.png 
	]img
	$LF
]p
[p 
	"Knowing which enemies are up ahead, and the value of $052A, it was easier to plan our bomb and life boosts based on what would drop.
	$LF
]p
[p 
	"For example, some frames are used in LEVEL 6 to kill three bats. This increases $052A's value by three so that the digdogger (eyes) in level 8 will drop us a fairy and a heart, allowing Link to completely refill the health he used  damage boosting towards LEVEL 8.  
	$LF
]p
[p 
	"0050 will also count the amount of enemies that are killed, but it will drop to 0 again if Link is hit. Killing a number of enemies (for instance 10) without getting hit will cause $0050 to flip to 0 automatically in which case the item at the chart in the picture will be overwritten by a ‘good’ item such as a 5-rupee, a bomb or a fairy. This is how it for instance was possible to get two 5-rupees at LEVEL 1.
	$LF
]p
[h4 
	" Luck manipulation of enemy movement
	$LF
]h4
[p 
	"There are a few ways to control how the enemies move on screen. 
	$LF
]p
[ul 
	[li 
		"When Link enters a room on a different frame, the enemies' initial direction of movement can change. (Waiting before entering next room is done underneath the door, or spread out over the previous room, so that it won’t be very noticeable.)
		$LF
	]li
	[li 
		"Pausing the game using the select button costs a minimum of two frames, but it can save a lot of time in certain situations because it directly effects how enemies behave.
		$LF
	]li
	[li 
		"Enemies behave differently based on where Link is on the screen.
		$LF
	]li
]ul
[p 
	"Even with all of these techniques to manipulate the monsters, it can still be difficult to control all the baddies in an optimal fashion; consequently, this is where many rerecords are spent.  The only way to be sure that a room of blue darknuts, or bunnies, etc is completed as fast as possible is to keep trying to manipulate their movement, while at the same time sparing the least amount of frames. Unfortunately, all said techniques to control monsters' behavior use frames (except Link's position, but it can cost frames to move him for luck manipulation, too).  
	$LF
]p
[p 
	"With this conclusion, it's easy to see that the game lends itself to massive amounts of testing. Generally, one will find that once a certain problem monster has been manipulated to behave in a desired fashion, the rest have all inconveniently changed their minds and are now doing something undesired. The best approach is to keep trying various combinations of the techniques until an optimal one presents itself. 
	$LF
]p
[h4 
	" Luck manipulation and gambling
	$LF
]h4
[p 
	"There is a 4 frame rule at the gamble door (as well as all other doors that lead from the overworld to the underworld). The gamble rupee value can only be manipulated based on what frame the gambling den is entered at. So keep trying every 4th frame until desired rupee value is available. Getting the 50-rupee in the middle is obviously the fastest.
	$LF
]p
[h3 
	" Combat and Movement Techniques
	$LF
]h3
[p 
	"Combat and movement is fairly straightforward in Zelda, but there are some tricks to help save time.
	$LF
]p
[h4 
	" Link's Movement
	$LF
]h4
[p 
	"Some facts:
	$LF
]p
[ul 
	[li 
		"Link can only move and face one of four directions--up left right and down--at a given time. 
		$LF
	]li
	[li 
		"He can only change direction on every 8th X or Y coordinate. 
		$LF
	]li
	[li 
		"These pixels where link can move any direction (i.e. {64,64}, {64,72}, {56, 64}, Let's call them a crossroad coordinate.
		$LF
	]li
	[li 
		"Link moves at roughly 1.5 pixels per frame (there is sub pixel positioning).
		$LF
	]li
	[li 
		"The memory addresses for Link's X,Y position are $0070 and $0248 respectively. Due to sub pixel positioning, when moving these addresses generally increase/decrease in this pattern: 1,2,1,2,1 etc
		$LF
	]li
]ul
[p 
	"There is a timesaving technique in regards to the sub pixel positioning.
	$LF
	"Link can move through an in screen block of area every 6 frames except when moving up followed by right, right followed by up, down followed by left or left followed by down.
	$LF
	"In said case, Link moves at 5 frames per in screen block (8 x or y coordinates constitute a block in game).  This is the explanation for zigzagging up and right or down and left--it saves one frame every 8 coordinates.
	$LF
]p
[ul 
	[li 
		"Screen scroll glitch:
		$LF
	]li
]ul
[p 
	"Sleepz posted this glitch some time ago, but it has yet to be used in a published TAS. In the overworld, just before entering a new screen, press a direction to Link's left or right for one frame when Link only has 5 more coordinates to reach the next screen scroll. It allows Link to wrap around the screen so that he is now on the opposite side!  The timesaving implications are lucrative, especially considering the fact that link can wrap around the entire map, entirely skip the lost woods, and access areas that may otherwise be obscured by water or mountains.
	$LF
]p
[ul 
	[li 
		"Similarly, the above technique may be used to get inside obstacles (blocks, bushes, etc), and sometimes allows Link to bypass areas that he would normally need to walk around. The first example of this is in dungeon 2: Link is able to enter the inside of a block from the top, and then exit the block from the right side. This is not easily performed during console play as it requires frame by frame input (it does not use left+right or anything). Due to the fact that Link can move halfway ‘below’/’inside’ solid blocks normally, this trick allows Link to pass through diagonally placed solid blocks.
		$LF
	]li
]ul
[h4 
	" Combat Techniques
	$LF
]h4
[ul 
	[li 
		"Pressing A + B with bombs equipped allow link to use his sword and deploy a bomb simultaneously--a very useful move on enemies that take multiple blows to kill. It’s especially useful since Link is unable to do anything for a few frames when using his sword, a bomb or another item.
		$LF
	]li
]ul
[ul 
	[li 
		"On a crossroad coordinate, Link may face any direction while thrusting his sword.  Useful in striking multiple enemies that are on various sides of the hero.
		$LF
	]li
]ul
[ul 
	[li 
		"On a crossroad coordinate, press Left, Right, and A.  Link will attack diagonally up and left!
		$LF
	]li
]ul
[ul 
	[li 
		"When hitting an enemy with the sword on the exact frame that a bomb explodes, the enemy will get damaged by both at the same time. This trick is used often to avoid enemy invulnerability time.
		$LF
	]li
]ul
[ul 
	[li 
		"When moving over the ladder or leaving a room, Link can use his sword while he is moving. This is especially useful for collecting pickups when leaving the room after for instance a bossfight.
		$LF
	]li
]ul
[ul 
	[li 
		"When fighting digdoggers (eye boss monsters), lay a bomb and quickly swap to the whistle. Blow the whistle, and the bomb's detonation timer will continue to count down despite the fact that all enemies and actions are paused while the whistle is in use. The bomb will instantly detonate once the whistle is finished playing, instantly exploding on the small eyes spawned by the large eye. (Bombs take 40 frames to detonate, memory address $0038 or $0039)
		$LF
	]li
]ul
[h3 
	" Route
	$LF
]h3
[p 
	"The route begins much like Sleepz' run, but ends differently.  Here's the brief description
	$LF
]p
[ul 
	[li 
		"LEVEL 1
		$LF
		[ul 
			[li 
				"Acquire rupees for gambling
				$LF
			]li
			[li 
				"Heart Piece for damage bumps and the white sword
				$LF
			]li
			[li 
				"Triforce Piece 1
				$LF
			]li
			[li 
				"Reset
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 2
		$LF
		[ul 
			[li 
				"Along the way...
				$LF
				[ul 
					[li 
						"Gamble
						$LF
					]li
					[li 
						"Get Candle (needed for opening a 100 rupee cave after level 2 and opening level 7)
						$LF
					]li
				]ul
				"Pick up the whistle
				$LF
			]li
			[li 
				"Pick up Heart Container for White Sword
				$LF
			]li
			[li 
				"Pick up Triforce Piece 2
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 6
		$LF
		[ul 
			[li 
				"Get ladder. (useful in level 4 and level 5 and this particular level order, needed for entering level 8 on the way to level 4 also)
				$LF
			]li
			[li 
				"Leave for now; bow and arrows needed to finish
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 8
		$LF
		[ul 
			[li 
				"Along the way...
				$LF
				[ul 
					[li 
						"Pick up the bracelet; it's needed to open up LEVEL 4 so we can get the raft, and consequently the bow in LEVEL 5.
						$LF
					]li
				]ul
				"Use stepladder to enter
				$LF
			]li
			[li 
				"Triforce Piece 3
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 4
		$LF
		[ul 
			[li 
				"Along the way...
				$LF
				[ul 
					[li 
						"White sword (in this quest plenty of bosses which make it worthwhile to collect this)
						$LF
					]li
				]ul
				"Pick up the raft for LEVEL 5 and the bow, which is required to finish 6 and 7
				$LF
			]li
			[li 
				"Triforce Piece 4
				$LF
			]li
			[li 
				"Reset
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 5
		$LF
		[ul 
			[li 
				"Pick up Bow
				$LF
			]li
			[li 
				"Triforce Piece 5
				$LF
			]li
			[li 
				"Reset
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 3
		$LF
		[ul 
			[li 
				"Along the way...
				$LF
				[ul 
					[li 
						"Use the secret road man in cave for speed
						$LF
					]li
				]ul
				"Triforce Piece 6
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 7
		$LF
		[ul 
			[li 
				"Triforce Piece 7
				$LF
			]li
			[li 
				"Whistle to the lake by lost woods
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 6
		$LF
		[ul 
			[li 
				"Triforce Piece 8--complete triforce now
				$LF
			]li
		]ul
	]li
]ul
[ul 
	[li 
		"LEVEL 9
		$LF
		[ul 
			[li 
				"Silver Arrow
				$LF
			]li
			[li 
				"Ending
				$LF
			]li
		]ul
	]li
]ul
[h3 
	"Extra
	$LF
]h3
[p 
	"It was also possible to glitch up the level 9 graphics due to entering it before the game expected it. Due to the frame rule of 4 frames, the glitching of the graphics can be avoid by entering a frame later, without losing any time. Fortunately it was possible to hexedit the version with the glitched level 9 graphics (it completes the game in the exact same amount of frames):
	$LF
]p
[p 
	[a class=extlink href=http://dehacked.2y.net/microstorage.php/info/963337494/LoZ%202nd%20quest%20by%20Baxter%20and%20Morrison%20LEVEL9%20glitched.fm2 rel=nofollow 
		"LoZ 2nd quest LEVEL 9 glitched
	]a
	$LF
]p
[p 
	[img class=embed src=http://img66.imageshack.us/img66/576/legendofzeldatheuprg04vz1.png 
	]img
	$LF
]p
[h3 
	"Personal comments:
	$LF
]h3
[p 
	[a class=intlink href=/Users/Profile/Morrison 
		"Morrison
	]a
	": I lost motivation on this project numerous times and just disappeared for long stretches of time. I apologize to Baxter for this, as it is the main reason the run took such a long time to make. While I was away, he finished the dungeons 5, 3, 7, 6 revisited, and 9 all by his lonesome, so about half the run wasn't even a collaboration, but a solo effort. Hats off to you :) I'm not certain my name should even be on the project anymore. I am just glad to see it completed.  
	$LF
	"Baxter is a great TASing partner. Trying to beat the times on his WIPs is not an easy task; he's quite thorough and patient. :) I had a lot of fun spending time with him in irc while we were doing all the testing. Big thanks to all previous Zelda TAS authors, 
	[a class=intlink href=/Users/Profile/Baxter 
		"Baxter
	]a
	", 
	[a class=intlink href=/Users/Profile/Phil 
		"Phil
	]a
	", Sleepz namely.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Baxter 
		"Baxter
	]a
	": The Legend of Zelda is one of few games in TASing where I both really like the results as well as the process. Researching routes, and optimizing rooms can both be quite fun. While the main idea of the fastest completion of a room might be the same, the specifics are not. Due to a change in the order of completion of the levels (…53769 instead of …56379) all of these levels had to be redone (level 5 also). Having to redo stuff that’s was completely optimized before is not fun, and this is when you notice that not each room can be done the same. Even though it’s called luck manipulation, there are frames required to manipulate this luck, and sometimes real luck is needed in the process. When redoing these levels, you constantly gain and lose frames to a previous version in each room, while they both may have been completely optimized for each initial conditions. It’s definitely a bit different from most other games, but very fun nonetheless.
	$LF
	"The cooperation with 
	[a class=intlink href=/Users/Profile/Morrison 
		"Morrison
	]a
	" was very fun, and he was a great partner. He often mentioned options I hadn’t thought of, and produced very accurate work. It was too bad that he lost his motivation for TASing, but more because I really enjoyed working with him than that I had to do more work myself.
	$LF
	"Thanks to everyone who showed their interest in this TAS, which is always a great help.
	$LF
]p
[hr 
]hr
[p 
	[a class=intlink href=/Users/Profile/Mmbossman 
		"mmbossman
	]a
	": Excellent planning, execution, and entertainment; Great job guys. Accepting as an improvement to the published "2nd quest" movie.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Bisqwit 
		"Bisqwit
	]a
	": Encoding. My first FM2 encode :)
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Bisqwit 
		"Bisqwit
	]a
	": Unclaiming the encode, because I can't figure out why mencoder refuses to render the libass subtitles in the movie, and I have too little time to debug it.
	$LF
]p
