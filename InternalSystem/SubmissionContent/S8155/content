9
[h3 id=Introduction 
	" Introduction
	$LF
]h3
[div class=p 
	"This is my third attempt at producing an acceptable TAS for NES Pac-Man.
	$LF
]div
[div class=p 
	"A few days ago I submitted a movie 
	(__wikiLink|href=/8149S|implicitdisplaytext=8149S)
	" that solves a single level of Pac-Man, under the impression it was the fastest route. I was wrong since 
	[a href=https://tasvideos.org/HomePages/Randil rel=noopener external nofollow 
		"Randil
	]a
	" had already produced a much 
	[a href=https://tasvideos.org/Forum/Topics/5431?CurrentPage=2&Highlight=158406#158406 rel=noopener external nofollow 
		"faster movie
	]a
	" with a better route. Then I took that route and transcribe the pellet order into JaffarPlus to solve the level by having a reward function (r) with the following shape:
	$LF
]div
[div class=p 
	"r = #PelletsInPathEatenInOrder * 1000.0 - distanceToNextPellet
	$LF
]div
[div class=p 
	"The PelletsInPathEatenInOrder rewards the bot for every pellet eaten in the optimal path, and not for any other pellet which is out of order in the optimal route. distanceToNextPellet is the manhattan distance from the center of pacman and the position of the next pellet in the route. The result was a movie that's 20 frames faster. 
	$LF
]div
[div class=p 
	"The movie described above was submitted in 
	(__wikiLink|href=/8152S|implicitdisplaytext=8152S)
	" and received, just like the first one, feedback regarding its unacceptability. This was because, although the game has no ending, the movie solved only a part of all what the game can offer. Indeed, playing more levels (forgot how many) will bring a set of new challenges as both the Pac-Man and ghosts get faster and the effect of magic pellets get shorter (a metaphor for developing drug tolerance?).  Not only does the difficulty ramp up, but also the bonus items change. The last item -- a key, of all things in God's good earth -- repeats indefinitely.
	$LF
]div
[div class=p 
	"The movie hereby attached incorporates the exact inputs of the previous one, but plays further. And it does so as fast as computerly possible until the very last noticeable change in the game happens: all keys are shown in the screen. And then it beats that level. Nothing new remains to discover, except of course, an eventual score overflow.
	$LF
]div
[div class=p 
	"I hope this movie now has more chances to be accepted. I am in favor of adding Randil as co-author, if they and the judge considers it fair, since I based the overall route on his previous work.
	$LF
]div
[h3 id=ComparisonMovie 
	" Comparison Movie
	$LF
]h3
[div class=p 
	"The movie below shows the difference for the first level only between the movie by Randil and mine.
	$LF
]div
[div class=p 
	(youtube|v=YnDaJjp2su8)
	$LF
]div
[h3 id=SoftwareHardware 
	" Software + Hardware
	$LF
]h3
[h4 id=RomInformation 
	" Rom Information
	$LF
]h4
[div class=p 
	"Rom: Pac-Man (Tengen)
	$LF
]div
[ul 
	[li 
		" headerless rom hash: SHA1:A34E68372082513209A795786C8EEA493CC2CD14
		$LF
	]li
	[li 
		" headerless rom hash:  MD5:C4AE6CC4E981A8316429572409018DC8
		$LF
	]li
	[li 
		" PRG (8KB) + CHR hash: SHA1:96C8879B8F0C70803A5F7754D53F8BD60F016163
		$LF
	]li
	[li 
		" PRG (8KB) + CHR hash:  MD5:E6EE06910B926DB6A19F1F1C3A3EB21D
		$LF
	]li
]ul
[h4 id=Emulator 
	" Emulator
	$LF
]h4
[ul 
	[li 
		" EmuHawk 2.8.0 (Core: NesHawk)
		$LF
	]li
]ul
[h4 id=RoutingBot 
	" Routing Bot
	$LF
]h4
[ul 
	[li 
		" Bot: 
		[a href=https://github.com/SergioMartin86/jaffarPlus rel=noopener external nofollow 
			"JaffarPlus
		]a
		$LF
	]li
	[li 
		" Routing Core: QuickNES
		$LF
	]li
	[li 
		" Platform: 'The Jaffanator' - AMD Ryzen Threadripper 3990X (64 cores, 128 threads) + 256Gb RAM (Average Exploration Performance: 1.35M States/s)
		$LF
	]li
]ul
[div class=p 
	"Re-record count is 53472478070
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/Darkman425 
		"Darkman425
	]a
	": Claiming for judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Darkman425 
		"Darkman425
	]a
	": I did a little legwork with checking. While I was able to use the final board input done with the one syncing without modification, doing that again after had a desync where Pac-Man eats Pinky. That led me to do some RAM checking.
	$LF
]div
[div class=p 
	"In the RAM the address that tracks how long a power pellet lasts, a big indicator for difficulty, is at 
	[code 
		"0x008C
	]code
	". It starts at 7 and eventually goes down to 0 with some occasional increases in between for reasons only known to Tengen. At 7 the power pellet lasts 480 frames which would indicate the lowest difficulty. At 0 the power pellet lasts only 30 frames and doesn't seem to go lower, indicating maximum difficulty. At the last round done in this submission, the round before the last one, as well as the two rounds immediately after, the address is at 0 so that would be at maximum difficulty.
	$LF
]div
[div class=p 
	"Thus the reason that I came to with the desync on input reuse comes down to a simple matter of slight RNG variance. As this submission has a clear and visible goal of clearing a round with all keys on the score area and with RAM watching revealing that the power pellets are at their weakest, I come to the conclusion that this exhausts all unique content.
	$LF
]div
[div class=p 
	"Accepting to Standard for full completion.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Spikestuff 
		"Spikestuff
	]a
	": Wakka Wakka.
]div
