4
[div class=p 
	"Third Flash submission! This bit already stopped being funny, didn't it? 
	$LF
	"Portal: The Flash Version is a fangame of Valve's Portal, actually releasing one day before the official game. I'll be referring to the Flash game as TFV, and to the official game as Portal in this submission from now on.
	$LF
]div
[h3 id=GameObjectives 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" Emulator used: Ruffle + libTAS 1.4.3
		$LF
	]li
	[li 
		" Aims for fastest completion
		$LF
	]li
	[li 
		" Doesn't skip levels
		$LF
	]li
]ul
[h3 id=LevelSkip 
	" Level Skip
	$LF
]h3
[div class=p 
	"There exists a glitch in the game where by pausing and unpausing the game during a level transition, one can increment the internal level counter as many times as desired. This means the game can be completed in seconds, by simply reaching the chamber 1 exit and pausing 40 times to increment the counter to 41, which is the cake room. This is trivial to do and not interesting in the slightest, so I chose to instead play through all 40 chambers.
	$LF
]div
[h3 id=OtherGlitchesMechanics 
	" Other glitches/mechanics
	$LF
]h3
[h4 id=PortalPeeking 
	" Portal Peeking
	$LF
]h4
[div class=p 
	"One of the tricks used most throughout the run is portal peeking. This is one of the tricks that's shared between TFV and Portal, though the TFV version is slightly less powerful. Unlike Portal, the portal gun shots in TFV are hitscan, meaning they hit the wall the moment they are fired. This means the portal peeking from Portal, where one let's say stands in the orange portal, shoots orange somewhere else and then quickly moves back to blue before the shot lands is not possible here. However, in TFV portals have a bit of floor in front of them, where Chell can stand and shoot the other portal, to quickly move through chambers. 
	$LF
	"Standing in front of a portal is only possible if the portal Chell enters is placed vertically, i.e. on a wall. If the entrance portal is placed on the floor instead, Chell has too much velocity to stop herself in the portal, though it is possible to perform a coyote jump on the last available frame and move back into the portal, which achieves the same result, though is slower due to the extra movement. This extra movement tends to not matter too much though because of...
	$LF
]div
[h4 id=PortalgunDelay 
	" Portalgun Delay
	$LF
]h4
[div class=p 
	"Whenever Chell shoots a portal, there's a bit of cooldown before she can shoot another one. This forces the TAS to wait in some spots for a portal shot to become available. Luckily, the cooldown counts down when the game is paused, meaning some "rapid" portal shots can be performed to maintain velocity. More on this in the 'Optimization Issues' section.
	$LF
]div
[h4 id=Clips 
	" Clips 
	$LF
]h4
[div class=p 
	"Clipping into collision will zip Chell in an arbitrary direction. It's different for every object, though there are some similarities, most notably:
	$LF
]div
[ul 
	[li 
		" Vertical gates tend to zip Chell downwards, though some can send her up depending on look direction
		$LF
	]li
	[li 
		" Horizontal gates zip Chell to the left, regardless of look direction
		$LF
	]li
	[li 
		" Other clippable bits of terrain seem to follow their own rules, though generally you will be zipped down or left
		$LF
	]li
]ul
[div class=p 
	"Clipping itself can be performed fairly easily by simply approaching certain objects with enough velocity. Gates in particular simply need a bit of horizontal speed, just full walking speed is enough, and a bit of upwards momentum, usually achieved by placing a portal right next to a gate and then falling into the other, thus getting launched out of the gate portal, allowing for easy clipping.
	$LF
]div
[h4 id=Bunnyhopping 
	" Bunnyhopping
	$LF
]h4
[div class=p 
	"Just like in Portal, it's possible to jump as soon as Chell touches the ground to maintain any horizontal velocity above regular walking speed. In addition, jumping is faster than walking, so I do it where possible.
	$LF
]div
[h3 id=OptimizationIssues 
	" Optimization Issues
	$LF
]h3
[div class=p 
	"Just like with 
	[a href=https://tasvideos.org/7368S rel=noopener external nofollow 
		"my previous flash submission
	]a
	", libTAS 1.4.3 desynced the movie and it needed to be fixed. TFV being the finnicky mess that it is, this was no easy task if I wanted to maintain the level of optimization I've achieved previously. I've managed to get the movie to be only slightly slower, with mostly later chambers (specifically past 31) being worse than 
	[a href=https://www.youtube.com/watch?v=mrPGjXARTi8 rel=noopener external nofollow 
		"this encode
	]a
	", which itself is slower in some parts than 
	[a href=https://www.youtube.com/watch?v=QDP9JxalI3o rel=noopener external nofollow 
		"this one
	]a
	". This is the case because despite the game not having any RNG, it seems like chamber completion conditions influence the future of the run in some way, as I often came into desyncs after saving a handful of frames on a chamber earlier on. This caused not only desyncs in previous inputs, but also caused some clips to simply not work, meaning I had to go back and do the previous chamber slower again to save time overall. As a result, overall, many of the clips got slower since I just couldn't perform them the same as previously. I believe this to possibly be a result of a couple things, though these are just my theories, not backed by any evidence:
	$LF
]div
[ul 
	[li 
		" something about Chell's position is kept between chambers, meaning precise shots land somewhere else or don't land at all
		$LF
	]li
	[li 
		" Chell's velocity is kept between chambers, making her move forward out of the door further than in the previous movie
		$LF
	]li
]ul
[div class=p 
	"And the worst, most confusing of all
	$LF
]div
[h4 id=PortalgunDelayGlitch 
	" Portalgun Delay Glitch
	$LF
]h4
[div class=p 
	"I don't know how or why it happens, but sometimes the portalgun delay appears to glitch out, sometimes being removed completely. 
	[a href=https://www.youtube.com/watch?v=mrPGjXARTi8 rel=noopener external nofollow 
		"This encode
	]a
	" eventually gets the delay to be 1 frame, allowing for very rapid portal placement later on in the run. I was not able to get this glitch in the 1.4.3 encode, meaning a chunk of frames was lost simply to waiting on portalgun cooldown. If someone were to figure this glitch out, and ideally activate it in an early chamber it could save a lot of time throughout the run, but for now I've decided to call what I have good enough, as the glitch itself was extremely frustrating to play around. The only thing I noticed was after manually releasing a companion cube I was able to shoot a portal quicker than if I had released it by trying to shoot a portal, but that only happened in one chamber. This glitch was the leading cause of desyncs and frustration when redoing the TAS.
	$LF
]div
[h3 id=StageByStageComments 
	" Stage by stage comments
	$LF
]h3
[h4 id=Chamber1 
	" Chamber 1
	$LF
]h4
[div class=p 
	"Jump to have more downwards velocity when exiting the blue portal, otherwise nothing particularly interesting.
	$LF
]div
[h4 id=Chamber2 
	" Chamber 2
	$LF
]h4
[div class=p 
	"An introduction to a common theme throughout this run - teleporting is faster than walking, so I will be doing that as much as possible. In this chamber I do a couple portal peeks to go straight to the exit without covering much distance outside of portals.
	$LF
]div
[h4 id=Chambers34 
	" Chambers 3, 4
	$LF
]h4
[div class=p 
	"Same as before, get through the level by teleporting around as much as possible, while trying to use as few portals as possible.
	$LF
]div
[h4 id=Chamber5 
	" Chamber 5
	$LF
]h4
[div class=p 
	"Same as before, though here the game introduces non-portal surfaces, meaning I have to come up with a different way to get to the exit. In this case I convert my vertical momentum to horizontal and combine it with a bunnyhop to fly into the exit.
	$LF
]div
[h4 id=Chamber6 
	" Chamber 6
	$LF
]h4
[div class=p 
	"Here the game tries to teach me about momentum, but I decide instead to use a combination of a precise portal placement and jump to reach the exit quicker
	$LF
]div
[h4 id=Chamber7 
	" Chamber 7
	$LF
]h4
[div class=p 
	"More bunnyhopping
	$LF
]div
[h4 id=Chamber8 
	" Chamber 8
	$LF
]h4
[div class=p 
	"First instance of a portal peek coming from a floor portal, requiring a jump to not get flung out. Conveniently enough, the portal shot to skip the third part of the puzzle requires a jump to make, so not having a nearby wall at the bottom to place a portal ends up not mattering.
	$LF
]div
[h4 id=Chambers917 
	" Chambers 9 - 17
	$LF
]h4
[div class=p 
	"Nothing of note here. Some new obstacles are introduced, but they shouldn't need an explanation.
	$LF
]div
[h4 id=Chamber18 
	" Chamber 18
	$LF
]h4
[div class=p 
	"Very precise shot at the end to skip waiting for the cycle, took a while to find!
	$LF
]div
[h4 id=Chamber19 
	" Chamber 19
	$LF
]h4
[div class=p 
	"Portal peek across the entire room, followed by a jump up that's only possible by removing the portal at a correct time so that the collision pushes Chell up.
	$LF
]div
[h4 id=Chamber20 
	" Chamber 20
	$LF
]h4
[div class=p 
	"First occurrence of a gate, this one ends up being faster to just open than clipping through.
	$LF
]div
[h4 id=Chamber21 
	" Chamber 21
	$LF
]h4
[div class=p 
	"First gate clip, this one conveniently zipping Chell up provided she faces down-left. 
	$LF
]div
[h4 id=Chamber22 
	" Chamber 22
	$LF
]h4
[div class=p 
	"Same idea for the gate clip, though this time zipping Chell downwards. Falling down at this point would result in death and a chamber reset, so I save myself by placing down a portal halfway through the ground. This has the nice side effect of disabling the collision of the floor above it, meaning I can squeeze under the gate and then get zipped back up by the floor to the right of the portal. This is the most common method of getting through gates.
	$LF
]div
[h4 id=Chamber23 
	" Chamber 23
	$LF
]h4
[div class=p 
	"Nothing new here
	$LF
]div
[h4 id=Chamber24 
	" Chamber 24
	$LF
]h4
[div class=p 
	"Placing a wall portal close enough to the horizontal gate lets me jump up at it and stick the portal gun through it to the other side, and since shots come out of the end of the gun, I can place a portal on the other side and go through. After shooting a portal to the exit on the right, I just need to place a blue portal to get back through. I ended up getting a funny clip through the floor by accident which I decided to leave in, as I'm waiting on portalgun cooldown anyway, so it doesn't lose any time.
	$LF
]div
[h4 id=Chamber25 
	" Chamber 25
	$LF
]h4
[div class=p 
	"First introduction of boxes! These are pretty glitchy, which you can see right away by Chell just pushing this one through the ceiling onto the button.
	$LF
]div
[h4 id=Chambers2627 
	" Chambers 26, 27
	$LF
]h4
[div class=p 
	"Nothing new here, though Chamber 26 is a personal favourite of mine with how it came out.
	$LF
]div
[h4 id=Chamber28 
	" Chamber 28
	$LF
]h4
[div class=p 
	"The chamber of happy accidents. I was unhappy with the route the 
	[a href=https://www.youtube.com/watch?v=HnJHOjPaQcM rel=noopener external nofollow 
		"old TAS
	]a
	" took, so I wanted to find something better and while messing around I ended up falling through the red beam, which is supposed to be lethal, and the place it put me worked out perfectly for the rest of the chamber.
	$LF
]div
[h4 id=Chamber29 
	" Chamber 29
	$LF
]h4
[div class=p 
	"Nothing special happens here. Worth nothing however is that placing down two portals at the end of the chamber to convert vertical speed into horizontal and shoot Chell into the exit ended up being 1 frame slower, despite looking much cooler.
	$LF
]div
[h4 id=Chamber30 
	" Chamber 30
	$LF
]h4
[div class=p 
	"The zip at the beginning was taken from Danbronius' TAS and it both caused and saved me a lot of headache, as the trick is one of the more finicky ones with regards to how the previous level was completed, but it also significantly simplified the route for this chamber, which I'm thankful for.
	$LF
]div
[h4 id=Chamber31 
	" Chamber 31
	$LF
]h4
[div class=p 
	"This chamber is unique in that the gate only opens once all the turrets have been eliminated, which can be done in two ways: knocking them off the level or simply tipping them over. I tried to go for a mix of flashy and fast strats for this one, opting to use the respawning companion cube to knock down the less easily accessible turrets.
	$LF
]div
[h4 id=Chamber32 
	" Chamber 32
	$LF
]h4
[div class=p 
	"The big structure in the middle of the screen has some weird collision, making it clippable and thus zippable. After that I pause buffer a portal to maintain velocity.
	$LF
]div
[h4 id=Chamber3336 
	" Chamber 33-36
	$LF
]h4
[div class=p 
	"Nothing requiring further explaining here
	$LF
]div
[h4 id=Chamber37 
	" Chamber 37
	$LF
]h4
[div class=p 
	"Two new ways of clipping cubes show up here! First, I clip a cube down to the button by closing the portal on the cube's last frame before being teleported, which places it in the floor, low enough to get zipped down rather than up. Then for the second cube I grab it as it's about to teleport while it has a decent amount of velocity to clip it through the floor and down to the lower level. From there I can move it to the button, being careful to not clip it back up. After this it's a matter of finishing the puzzle and going to the exit. 
	$LF
	"According to 
	[a href=https://www.speedrun.com/portal_tfv/thread/7u5cz rel=noopener external nofollow 
		"this person
	]a
	" on the game's speedrun.com forum, this chamber is fully skippable with a clip, however I have not been able to reproduce it myself and seeing how there is no video, I'm not convinced this skip is real.
	$LF
]div
[h4 id=Chamber38 
	" Chamber 38
	$LF
]h4
[div class=p 
	"Nothing new here
	$LF
]div
[h4 id=Chamber39 
	" Chamber 39
	$LF
]h4
[div class=p 
	"I can skip this entire chamber by first doing a very precise shot to the room with the easiest accessible cube, followed by an even more precise jump off the cube midair. While the cube is held, it has no collision with Chell, so I need to release it at the correct time and in the correct spot to be able to jump off it in the first place, and then also not bonk the top bit of the wall that's inconveniently placed there. This is another trick that's shared between TFV and Portal.
	$LF
]div
[h4 id=Chamber40 
	" Chamber 40
	$LF
]h4
[div class=p 
	"This chamber feels very close to being fully skippable, but I was not able to find an angle to shoot a portal into the final room early, so I had to go with a mostly intended solution.
	$LF
]div
[h4 id=Cake 
	" Cake!
	$LF
]h4
[div class=p 
	"The game is very adamant about Chell having the cake, so much so that even teleporting past it ends up with her obtaining it! This has no effect on the run, I just thought it was funny.
	$LF
]div
[h3 id=SpecialThanks 
	" Special thanks
	$LF
]h3
[ul 
	[li 
		" Danbronius, for their 
		[a href=https://www.youtube.com/watch?v=HnJHOjPaQcM rel=noopener external nofollow 
			"TAS
		]a
		$LF
	]li
	[li 
		" Gameboy9917, for their 
		[a href=https://drive.google.com/drive/folders/1C8QuISwtlkM7wMRB5l3axZOuqlFVR_tk rel=noopener external nofollow 
			"TFV Glitch Doc
		]a
		$LF
	]li
	[li 
		" All the randoms on youtube, for their glitch uploads from 15 years ago
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/slamo 
		"slamo
	]a
	": Claiming for judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/slamo 
		"slamo
	]a
	": I really love this TAS. It's chaotic, consistently entertaining, and shows you the full potential of Flash TASing. A level skip glitch is ignored, and it's honestly for the best, as this run is way more fun to watch. Accepting as a No Major Skips branch.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/fsvgm777 
		"fsvgm777
	]a
	": Processing.
]div
