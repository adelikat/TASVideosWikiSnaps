14
[div class=p 
	"This submission improves 
	(__wikiLink|displaytext=ShesChardcore's run|href=/7801S)
	", achieving the best ending faster.
	$LF
]div
[h3 id=GameObjectives 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" Emulator used: BizHawk 2.8.0
		$LF
	]li
	[li 
		" best ending
		$LF
	]li
]ul
[div class=p 
	"Note: this game depends on an uninitialized RAM state, and the optimal TAS solution varies for different platforms (GB/GBC/GBA). I will describe the details later.
	$LF
	"I chose GBA-mode for console verification purpose. Thanks to ViGadeomes for resyncing the original GB-mode movie.
	$LF
]div
[h3 id=Comments 
	" Comments
	$LF
]h3
[div class=p 
	"To achieve the best ending, you have to earn $5,963,776.
	$LF
	"For this purpose, it will be fastest to get a jackpot (about $5,000,000) of $5 slot machine twice. (It is a little slower to use a jackpot (about $1,000,000) of $1 slot machine)
	$LF
]div
[div class=p 
	"The RNG of this game is frame-dependant, and it converts frame counter into random number.
	$LF
	"The reel value of a slot machine is determined by the timing which you operate (insert coin and pull the arm) the slot machine.
	$LF
	"In conclusion, you can get black seven if you operate when the frame counter is 0x0A, 0x4B, 0x6A, or 0xA8.
	$LF
	"This follows from the tables below:
	$LF
]div
[ul 
	[li 
		" 
		[a href=https://gist.github.com/taotao54321/5263017f9a8a0a8e36ac75a96fb3126e rel=noopener external nofollow 
			"frame counter to random number
		]a
		$LF
	]li
	[li 
		" 
		[a href=https://gist.github.com/taotao54321/66325d743807cdd5c947f8df81a1f19f rel=noopener external nofollow 
			"random number to reel values
		]a
		$LF
	]li
]ul
[div class=p 
	"The route of cursor movement is important, because the screen starts to scroll after you move cursor to the same direction for a while.
	$LF
	"In this run, I did the first slot machine operation just in time.
	$LF
]div
[div class=p 
	"I put some useful memory (logical) addresses:
	$LF
]div
[table 
	[tbody 
		[tr 
			[th 
				"address
			]th
			[th 
				"description
			]th
		]tr
		[tr 
			[td 
				"$C0C0
			]td
			[td 
				"frame counter
			]td
		]tr
		[tr 
			[td 
				"$C0C4-$C0C7
			]td
			[td 
				"random number buffer
			]td
		]tr
		[tr 
			[td 
				"$C0C8-$C0CB
			]td
			[td 
				"reel values of slot machine
			]td
		]tr
		[tr 
			[td 
				"$C0D7
			]td
			[td 
				"whether the condition of the best ending is fulfilled
			]td
		]tr
		[tr 
			[td 
				"$C0D8
			]td
			[td 
				"money ($25600 units)
			]td
		]tr
		[tr 
			[td 
				"$C0D9
			]td
			[td 
				"money ($100 units)
			]td
		]tr
		[tr 
			[td 
				"$C0DA
			]td
			[td 
				"money ($10 units)
			]td
		]tr
		[tr 
			[td 
				"$C0DB
			]td
			[td 
				"money ($5 units)
			]td
		]tr
		[tr 
			[td 
				"$C0DC
			]td
			[td 
				"money ($1 units)
			]td
		]tr
		[tr 
			[td 
				"$C0DE
			]td
			[td 
				"money (u24le)
			]td
		]tr
		[tr 
			[td 
				"$C0F5
			]td
			[td 
				"screen scroll x
			]td
		]tr
		[tr 
			[td 
				"$C0F6
			]td
			[td 
				"screen scroll y
			]td
		]tr
		[tr 
			[td 
				"$C0F9
			]td
			[td 
				"cursor x
			]td
		]tr
		[tr 
			[td 
				"$C0FA
			]td
			[td 
				"cursor y
			]td
		]tr
	]tbody
]table
[div class=p 
	"The frame counter ($C0C0) is not initialized on a boot, and its initial value varies for different platforms (GB/GBC/GBA).
	$LF
	"So, the optimal TAS solution also varies for different platforms (GBC/GBA movies are thanks to ViGadeomes):
	$LF
]div
[ul 
	[li 
		" 
		[a href=https://tasvideos.org/UserFiles/Info/638117174014684990 rel=noopener external nofollow 
			"GB-mode movie
		]a
		" (faster by 16 frames gameplay-wise than GBA-mode)
		$LF
	]li
	[li 
		" 
		[a href=https://tasvideos.org/userfiles/info/638096639038097005 rel=noopener external nofollow 
			"GBC-mode movie
		]a
		" (faster by 47 frames gameplay-wise than GBA-mode)
		$LF
	]li
]ul
[h3 id=OtherComments 
	" Other Comments
	$LF
]h3
[div class=p 
	"The number 5963776 is 0x5B0000 in hex. But I'm not sure where the number comes from.
	$LF
	""5963" seems to be the pun on a Japanese word "ご苦労さん", but it might be just an accidental coincidence.
	$LF
	"("ご苦労さん" means "Thanks for your hard work" with a bit of sarcasm)
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Claiming for judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Replacing with a 
	(__wikiLink|displaytext=GBA mode resync|href=/Forum/Posts/519307)
	", for console verification, and adding ViGadeomes to authors, 
	(__wikiLink|displaytext=per agreement|href=/Forum/Posts/519901)
	".
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": The fact that optimal memory values depend on uninitialized RAM is not a problem as long as you don't edit the initial startup state 
	[b 
		"arbitrarily
	]b
	". Even though console startup states are not fully deterministic, they are not completely random and 
	(__wikiLink|displaytext=depend on certain hardware world factors|href=/HomePages/Nach/MemoryInit)
	".
	$LF
]div
[div class=p 
	"When it comes to emulation, we can simulate some real-world hardware factors, but in TASing we can't afford non-determinism. So most emulators enforce a startup state that makes overwhelming majority of games work correctly, even if there's no real-world precedent for that exact state. There are emulators that can be configured to replicate actual device startup states more precisely than usual, and it's mostly fine to use those explicit options. Because even if they are not absolutely accurate, they are very compatible, and on top of that, they guarantee even chances for a speed competition.
	$LF
]div
[div class=p 
	"Even then, the core used in all 3 movies does not provide options for tweaking the startup state, and using 
	(__wikiLink|displaytext=emulator defaults|href=/MovieRules#GameplayMustBeAccurateToHardware)
	" in that regard is 100% legitimate for all our needs.
	$LF
]div
[div class=p 
	"Accepting as an improvement over 
	(__wikiLink|href=/4960M|implicitdisplaytext=4960M)
	" in both gameplay time and the ending.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Restored judgment text that got lost to concurrent editing.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/despoa 
		"despoa
	]a
	": Processing...
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Added original movie's rerecord count.
]div
