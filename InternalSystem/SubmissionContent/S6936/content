7
[div class=p 
	"This is a TAS of Ultima IV for Sega Master System.
	$LF
]div
[h3 id=GameObjectives 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" Emulator used: BizHawk 2.4
		$LF
	]li
	[li 
		" Fastest RTA viable movement
		$LF
	]li
	[li 
		" Menuing is allowed to be inhumanly fast
		$LF
	]li
	[li 
		" NTSC timing
		$LF
	]li
]ul
[h3 id=Comments 
	" Comments
	$LF
]h3
[div class=p 
	"I wanted to know how quickly the game can be beaten without heavy luck manipulation but flawless execution in menus, perfect movement, minimal waiting for stat advancement to be possible, etc. Each port of Ultima IV is very different and has its own leaderboard due to these differences.
	$LF
]div
[h3 id=StageByStageComments 
	" Stage by stage comments
	$LF
]h3
[h4 id=CharacterSelection 
	" Character selection
	$LF
]h4
[div class=p 
	"The exact questions the fortune teller asks are random. Answering yes to a particular virtue gets you +5 to your starting value. Valor is the slowest virtue to grind, but maxing valor would create a fighter with no mana. We want to use a lot of spells early to speed things up so we create a mage by maxing honesty.
	$LF
]div
[h4 id=MoonglowAndTownOfBritannia 
	" Moonglow and Town of Britannia
	$LF
]h4
[div class=p 
	"As a mage we spawn near Moonglow. Grabbing the rune of honesty now gives us a bit more early XP. Same with the black stone. The first portal brings us to Castle Brittania.
	$LF
]div
[h4 id=FirstVirtueGrind 
	" First virtue grind
	$LF
]h4
[div class=p 
	"The biggest hurdle we face is maxing our virtues efficiently and hitting the level cap. We can max compassion by giving money to beggars. We can get very close to the level cap by picking up quest items. So our first visit to Town Britannia lets us grab a ranged weapon but also serves as a chance to raise compassion and grab a quest item (rune of compassion). The game won't give us virtue increases if we do the action on back to back turns for most virtues. This is why we talk to the beggar, move away or bonk the wall, and then talk to the beggar again.
	$LF
]div
[div class=p 
	"Leaving town we head to Castle Brittania where we can max more virtues. Here we can work on spirituality by talking to Hawkwind, Sacrifice by giving blood to the healer, and Humility by talking to the shepherd by the fountain. We also need enough money to buy a better weapon and reagents. The wand, our goal weapon, is 5000 gold. The chests give us money but also have traps. I avoided luck manipulation here to meet my goal of RTA-viability.
	$LF
]div
[div class=p 
	"Talking to Lord British during this time achieves several goals, a) Leveling our character so we have more mana for spells, b) healing us if the traps in the chest prove too much.
	$LF
]div
[div class=p 
	"The primary goal of this phase is the money. We'll be revisiting the castle so we can finish maxing our virtues later.
	$LF
]div
[h4 id=SpellReagents 
	" Spell reagents
	$LF
]h4
[div class=p 
	"Our next objective is to get all the spell reagents we need for the rest of the game. Along the way we check off a few other quest objectives by grabbing quest items and fighting battles. Each battle we win has a chance to increase our valor. Due to how much money we borrowed from Lord British, our honesty, justice, and honor are at the lowest possible values. Because of this there is little point in paying full value for the reagents we need. So we pay the shopkeeper 1 gold for each stack of reagents. We end up with more spells than we need to cast because the most efficient way to buy and mix reagents is 99 at a time. Some planning was done to figure out what order to buy reagents to minimize trips into the menu, but it's not really possible to split things up further plus the number of inputs to input a 99 is less than most other numbers as it's just down, right, down.
	$LF
]div
[div class=p 
	"Once all the spells have been mixed, we can buy a bunch more of a reagent, one per transaction, to raise our honesty, justice, and honor back up from 3 to 99. Interestingly, the first time we rip off the shop keeper our honesty/justice/honor goes from 1 to 3. I believe there is a bug where the game thinks the lowest possible virtue for cheating the shop keeper is higher than the lowest possible virtue for stealing.
	$LF
]div
[div class=p 
	"After the spell/virtue grind, we buy a horse as that will make travel much faster. From this point on we can also use spells to speed things up.
	$LF
]div
[h4 id=PartialAvatarhoodAndDungeons 
	" Partial avatarhood and dungeons
	$LF
]h4
[div class=p 
	"Now that we have several quest items, a few maxed virtues, and spells we can begin our adventure. First stop is meditating at honor shrine for partial avatarhood in honor. Normally meditating would give us a big boost to spirituality but that doesn't happen if the meditation leads to gaining partial avartarhood.
	$LF
]div
[div class=p 
	"In our first dungeon we use a torch because the game prints a message that takes up time whenever it's too dark to see. We use spells to traverse the dungeon. We want the stone and then we're done. The second dungeon is similar except we can manipulate the spell to take us to the correct part of the dungeon by going deeper and then using the up spell to go up instead of the stairs.
	$LF
]div
[div class=p 
	"Next we want more quest objectives for XP, so we abuse the blink spell to reach the town of Cove. The intended way to reach Cove is using the balloon or the whirlpool. Due to the way the game world is coded, in chunks, the blink spell sometimes allows you to blink to specific locations that it may otherwise not allow. The blink to Cove is one such blink.
	$LF
]div
[div class=p 
	"After Cove we visit two more towns and a dungeon. One town gives us another rune and the other town gives us magic keys that we will need for other quest objectives. Because we are at a remote part of the map, we take the moongate across the world to Skara Brae so we can get back to Castle Brittania more efficiently. We need to complete the virtue grind Britannia. This is the point where we now have 600 HP which allows us to more efficiently do the blood giving grind to max our sacrifice virtue.
	$LF
]div
[div class=p 
	"We also use this opportunity to visit Hythloth and get the balloon which we only need for 1 objective: the white stone. However, we still haven't found a boat due to average/poor RNG. So we take this as an opportunity to visit Buccaneer's den where we can buy a wand. This will greatly accelerate our valor grind later by making combat go much faster. The balloon movement is incredibly slow and there doesn't seem to be any glitch (in the SMS version) that allows us to bypass the balloon.
	$LF
]div
[div class=p 
	"In dungeon despise, we see the first use of poison status to manage combat status. The game makes certain statuses mutually exclusive, for example you can be slept, poisoned, or dead but not any two of them (negate/quick/protect are handled separately). If you're poisoned during combat there are no negative effects during combat but it prevents the sleep status. Outside of combat you take damage each turn. So we poison ourselves right before starting a sequence of combats where the enemies might use status effect spells on us. Then cure the poison after the combats.
	$LF
]div
[div class=p 
	"Fixed dungeon combats don't change your valor score. So for those we just flee as quickly as possible as there is no opportunity to increase or decrease valor.
	$LF
]div
[div class=p 
	"Now that we have a wand and most of quest objectives complete, it's time to raise our valor and get mandrake root. We head back towards Minoc. We take advantage of the rate of combat on bridges in this section to get fights faster. The downside is that after each fight we need to clear the chest before another combat can happen. This can also be used to our advantage if we need to regain mana to heal up. During this time we also take advantage of a double full moon to visit the shrine of spirituality. Eventually a double new moon occurs and we can search for mandrake root. Mandrake gives us access to two very important spells, gate travel and tremor.
	$LF
]div
[div class=p 
	"We leave before valor is completely maxed because there are a few more dungeons to do that have a chance to raise valor. The dungeon deceit has a few orbs that will raise our intelligence. Due to the way leveling works, we don't raise our int high enough to reach 99 mana (very important in the final dungeon) without this step. After the dungeon we pick up another quest item that we couldn't get on our first visit to Moonglow then use our first gate spell to get back to castle Brittania to cash in on our XP although we still don't have enough for the level cap.
	$LF
]div
[div class=p 
	"At this point, we need to finish our valor grind, get a boat, and hit max level (so we can recruit all party members). We go to the destroyed down of Magincia. This appears to be the fastest place to farm a boat due to all the water enemy spawns. The boat allows us to grab a quest item that can only be reached by boat and it allows us to enter the abyss which also can only be done by boat. We can technically reach the shrine of humility with the balloon or boat. We're going to use the balloon in this case, so we also get the 3 parts key objective completed in the same revisit to Hythloth. The intended way to visit the shrine of humility is to use the horn so you don't have to fight the demons. We didn't get the horn and the demons are a good source of valor. So we fight our way in. At this point we have avatarhood in all virtues except valor. So we return to Brittania for one last virtue grind.
	$LF
]div
[h4 id=PreparingForTheAbyss 
	" Preparing for the Abyss
	$LF
]h4
[div class=p 
	"Now that we have maxed all virtues, we visit the final shrine. Pickup our first followers and head to Empath Abby. Here we can abuse a mechanic to get max level. We need to hit level 8 so that we can bring a full avatar party to the Abyss, which is a requirement for the final room of the Abyss. The mechanic we abuse is the following: When you get the mystic robes you gain 400xp. If you have any robes in your inventory (equipped robes do not count!) then you will not find more robes if you search. But if you sell the robes from your inventory you can collect them again for 400xp. We execute a tight loop of going to the closest armor shop and searching for the robes. This relies on heavy magic usage and this is the first and last time we rely on party members to accelerate us. The gate spell is crucial to quickly building the avatar party.
	$LF
]div
[div class=p 
	"Once we're level 8, have the book, candle, and bell, and have partial avatarhood in all 8 virtues, and have all 7 followers, then we have met the requires to complete the game. All that is left is to reach the bottom of the Abyss.
	$LF
]div
[h4 id=StygianAbyss 
	" Stygian Abyss
	$LF
]h4
[div class=p 
	"This is the most combat intensive part of the game. Here we rely on some crucial preparation. We use poison status to manipulate combat so that we cannot be put to sleep. We kill off all party members except the avatar to save time. Their turns will just slow us down. The mystic robes are the best defense we can have. The wand is the highest damage ranged weapon we can use. Tremor and other spells allow us to move efficiently through the forced combat encounters. We use another glitch here which is casting a different field over top of an existing field. Sometimes it's faster or more convenient to change a sleep field to a poison field. This doesn't work for all combinations, but when it works it can save mana.
	$LF
]div
[h3 id=OtherComments 
	" Other comments
	$LF
]h3
[div class=p 
	"The time on this could be improved significantly with more intentional and carefully planned RNG manipulation. I think before undertaking that task, the community needs to reverse engineer more of the game's logic and RNG routines and build tools for visualizing and predicting outcomes. The current tas is over an hour and a small change to inputs in the first 2 minutes means that inputs for the rest of the run must be redone, including menuing. So it's often not worth it unless you're redoing significant other things. That said, figuring out how to manipulate a boat spawn to happen very early and how to get guaranteed valor increases would save significant time.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": Judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": File replaced with Spike's spiking. Spikity.
	$LF
]div
[div class=p 
	"Welcome to the site! It's always great to see RTA runners trying their hand at TASing in some way, even if it's just theory TASing like this, and a solid 
	[a href=https://www.speedrun.com/ultima4/run/m7g6xw4m rel=noopener external nofollow 
		"42 minute improvement to your WR
	]a
	" is... Well, it's solid! The key thing here though is that this is in fact a theory TAS, and by your own admission it could be improved through doing any RNG manipulation. We do require as close to perfection as possible for publication, and especially for hour+ long RPGs, RNG manipulation is a pretty large part of that. Also, there's the issue of 
	(__wikiLink|displaytext=not using the proper BIOS|href=/Forum/Posts/501199)
	" for SMS (this submission appears to be using the built-in BIOS for Alex Kidd in Miracle World). The linked post provides the SHA-1 for the recommended BIOS.
	$LF
]div
[div class=p 
	"My recommendation is to make a thread for this game 
	(__wikiLink|displaytext=in this subforum|href=/Forum/Subforum/26)
	", utilizing the site's 
	(__wikiLink|href=/Userfiles|implicitdisplaytext=userfiles)
	" feature to share input files like these. Several of the posts in the submission thread also contain really good advice, including 
	(__wikiLink|displaytext=ideas for improvements|href=/Forum/Posts/501236)
	" and 
	(__wikiLink|displaytext=a potential way to make the menuing much easier to handle|href=/Forum/Posts/501318)
	". 
	[em 
		"Gamechanger. For real.
	]em
	$LF
]div
[div class=p 
	"There's interest in this game receiving an optimized TAS, so I do hope you continue working with it! Imagine sub-1:00:00, achieve it, then surpass it! Forget the avatar, this is 
	[em 
		"your
	]em
	" quest now!
	$LF
]div
[div class=p 
	"Oh, and putting this at the end to emphasize it: The submission text is fantastic. I love really detailed submission texts both as a casual viewer and especially as a Judge. Should you make another submission, I'm very much looking forward to reading about it! ...And watching it too, of course!
]div
