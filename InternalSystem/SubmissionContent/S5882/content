11
[p 
	"This is a sequel to a pair of games infamous for being pirated as "Pokemon Diamond and Jade". This run uses a secret Denjuu unlocked ingame to beat the game quickly.   
	$LF
]p
[pre 
	$LF
]pre
[h3 id=Gameobjectives
 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" Emulator used: BizHawk 2.2.1
		$LF
	]li
	[li 
		" Fastest time with secret denjuu
		$LF
	]li
]ul
[h3 id=Comments
 
	" Comments
	$LF
]h3
[h4 id=Encode
 
	" Encode
	$LF
]h4
[p 
	(youtube|v=hjKmTOet_QM)
	$LF
]p
[h4 id=TheRun
 
	" The Run
	$LF
]h4
[p 
	[a class=extlink href=https://docs.google.com/spreadsheets/d/1VcsEQ5pH-WzHRjSN0XP5qRe1-xCY1UOZ8uTsFZOF7R4/edit#gid=1013913142 rel=nofollow 
		"Spreadsheet of fights
	]a
	$LF
]p
[p 
	"There's 18 fights in the game. Technically there's 20, but 2 of them are from unavoidable NPCs which I ran away from. I was initially going to use that detour to recruit the level 28 Skrippa (Basic) before the first boss, but after actually TASing it, and checking how much different the run would be with Skrippa battle-wise, I decided to just use the level 30 secret Denjuu. From the spreadsheet above, Skrippa, just like Rupicola, would've been used mostly until the 3rd rival fight. Then Cotta would've been recruited, and the rest pretty much identical. If anyone wants, here are the main differences:
	$LF
]p
[table 
	[tbody 
		[tr 
			[th 
				"Boss
			]th
			[th 
				"Skrippa
			]th
			[th 
				"Rupicola
			]th
		]tr
		[tr 
			[td 
				"Mistashi 
			]td
			[td 
				"Takes 3 turns
			]td
			[td 
				"Takes 1 turn
			]td
		]tr
		[tr 
			[td 
				"Mentalis
			]td
			[td 
				"Takes 3 turns
			]td
			[td 
				"Takes 1 turn
			]td
		]tr
		[tr 
			[td 
				"Hermit
			]td
			[td 
				"Takes 2 turns
			]td
			[td 
				"Takes 1 turn
			]td
		]tr
		[tr 
			[td 
				"Demerus
			]td
			[td 
				"Takes 3 turns
			]td
			[td 
				"Takes 1 turn
			]td
		]tr
		[tr 
			[td 
				"Rival v2
			]td
			[td 
				"Takes 4 turns
			]td
			[td 
				"Takes 1 turn
			]td
		]tr
		[tr 
			[td 
				"Easydog
			]td
			[td 
				"Takes 4 turns
			]td
			[td 
				"Takes 2 turns
			]td
		]tr
	]tbody
]table
[p 
	"The main reason for taking x3 more turns is because Skrippa's slow speed allows the enemy's friends to arrive. There are no speed boosting items until the ruins, so there's no way to avoid this. However, at the very least I do not have to manipulate crits for Skrippa, since it's typing seems very effective against most enemies. In other words, if I'm really forced to not use secret Denjuu, I still have a route in mind.  
	$LF
]p
[p 
	"Anyways, I made some mistakes with the routing however, mainly with item management. Special attacks in this game uses "DP". Think of it as special points, which you have 100. The special attacks deal tremendous amounts of damage in comparison to the "normal" attacks, so refilling DP is a must. The problem is, the fastest way to recover DP is to use items, and the best way to get said items is through battles. 
	$LF
]p
[h4 id=DPrecovery
 
	" DP recovery
	$LF
]h4
[p 
	"The game has 3 items that recover DP. The cookie heals 30 DP, the juicebag heals 50 DP, and the bottle drink heals 100 DP. It cost time to heal, both in and out of battle, so it's better to heal in large amounts at a time. In other words, use the bottle/drink.
	$LF
]p
[p 
	"The methods to obtain DP recovery items as follows, from fastest to slowest
	$LF
]p
[ol 
	[li 
		" Finding it from running over grass
		$LF
	]li
	[li 
		" End of battle loot
		$LF
	]li
	[li 
		" Opening up chests
		$LF
	]li
	[li 
		" Buying from stores
		$LF
	]li
]ol
[p 
	"The first 2 are tied in the best case scenario; otherwise obtaining from grass is "better", but at the same time I have no idea how to manipulate it to appear reliably. For battles, it's simply done by delaying when to press A after the XP or phone interface, so it's very easy to brute force check each frame until it appears. I actually did try and made it so that the wait for the drink last at most about 2 seconds, so it won't be too boring to watch.
	$LF
]p
[p 
	"Additionally to using items, you can also talk to certain NPCs to heal you. The NPC inside those dome buildings, along with the people at Bijinia Desert and that one guy at the very end of the game before the boss will heal you fully if talked to. The dome NPCs take far too long to visit, so they were never used.
	$LF
]p
[h4 id="Skippable"things
 
	""Skippable" things
	$LF
]h4
[p 
	"Technically not skippable, since there's no way to clip out or anything, but despite the fact the game forbids storyline events from appearing out of order (including using keys before the dungeon is supposed to be visitable), there are certain events that appear "skippable". Listing them in case some bug is discovered later:
	$LF
]p
[ul 
	[li 
		" The dialogue when you first leave Takedama Village
		$LF
	]li
	[li 
		" The dialogue when you first enter Takedama Cave
		$LF
	]li
	[li 
		" The dialogue right before you go and fight Anpipit.
		$LF
	]li
	[li 
		" The boss, Cabot. Sadly, it's slower to do so.
		$LF
	]li
	[li 
		" The dialogue when you first enter Helchika Village
		$LF
	]li
	[li 
		" Demerus, if you can somehow press the switch without triggering the boss
		$LF
	]li
	[li 
		" Every single key; you're able to fight bosses without ever using a key using cheats to walk through walls
		$LF
	]li
	[li 
		" Every single switch in Bandit's Hideout, outside the final one
		$LF
	]li
	[li 
		" The dialogue with the girl, when leaving Helchika Village (coming back from later will trigger it sadly)
		$LF
	]li
	[li 
		" Every single switch in Kamishino Ruins
		$LF
	]li
	[li 
		" 
		$LF
	]li
]ul
[h4 id=Luck
 
	" Luck
	$LF
]h4
[p 
	"Luck in this game is determined by 3 addresses all in IWRAM. 2 of them are 0x5E08, 0x5E10, which determines what things can happen, and 0x0840, which determines of the things determined to occur, which one will actually occur. If it sounds complicated, 
	[a class=intlink href=/Forum/P/456194#456194 
		"here's
	]a
	" an example from the thread.
	$LF
]p
[p 
	"As you can tell, changing 0x5E08, 0x5E10 causes different outputs depending on 0x0840. 0x0840 acts like a frame counter as well, allowing different strategies to be compared giving difference in lag.
	$LF
]p
[p 
	"The main things that the run depend on luck are:
	$LF
]p
[ul 
	[li 
		" That single herb drop from the grass
		$LF
	]li
	[li 
		" When enemies land a crit
		$LF
	]li
	[li 
		" How certain enemies which move randomly move
		$LF
	]li
	[li 
		" How much damage dealt
		$LF
	]li
	[li 
		" Did the move miss?
		$LF
	]li
	[li 
		" Did ally appeared to help?
		$LF
	]li
	[li 
		" What move the enemy chosed
		$LF
	]li
	[li 
		" What ally is with the enemy (including boss fights)
		$LF
	]li
	[li 
		" Where did the dust particles appear in? (serious)
		$LF
	]li
]ul
[p 
	"The easiest way to manipulate RNG is by jumping. This creates dust particles on landing, which advances 0x5E08, 0x5E10. Unfortunately, the ability to jump is only after the first half the game, so what I did was to either delay, or chop down grass. While delaying would normally do almost nothing in the overworld, certain caves such as Chiawata Cave have lots of enemies moving randomly, which allows the RNG to advance around every 3 frames.
	$LF
]p
[p 
	"Also in fights, the RNG advances differently one extra time if the attack hits, compared to missing, so sometimes, even if it may be slower to get hit, it may be worth it for a better RNG.
	$LF
]p
[p 
	"To determine how much frames to wait, I used the script from the thread (
	[a class=intlink href=/Forum/P/455691#455691 
		"here
	]a
	", also on 
	[a class=extlink href=https://github.com/lunjesse/BizHawk-display-scripts/blob/master/Keitai%20Denj%C5%AB%20Telefang%202%20(Battle%20Stats).lua rel=nofollow 
		"github
	]a
	"). Using the display script from the thread (
	[a class=intlink href=/Forum/P/439938#439938 
		"link
	]a
	", also on 
	[a class=extlink href=https://github.com/lunjesse/BizHawk-display-scripts/blob/master/Keitai%20Denj%C5%AB%20Telefang%202.lua rel=nofollow 
		"github
	]a
	"), I advanced the frame until the battle state displayed on via the the script. Then I closed TAStudios, and started the battle stats script, which would then output a file showing the next 500 frames worth of possible actions. It's highly probably that this process could be almost completely automated, but I lack the knowledge to do so.
	$LF
]p
[p 
	"One thing I did notice was that the results of what could occur seems "periodic". For instance, for item drops after battle, it always loop from item ID 0,1,2,...,24, then skips to 62,63,64,...,109, then finally back to 0 again. For battles, the damage dealt loops from lowest possible, then +1, +2, etc up to the maximum amount of damage, before going back to lowest again. Similarly for moves used by NPCs.
	$LF
]p
[p 
	"For luck regarding NPCs wandering around the overworld, I made a spreadsheet that lists the locations and NPCs that needed luck, along with the maps that gave me the most trouble. You can find it 
	[a class=extlink href=https://docs.google.com/spreadsheets/d/1DMwXqUgWF6V_Arabm3AOhf5IUhvMYM11N2GB1izF9po/edit#gid=0 rel=nofollow 
		"here
	]a
	".
	$LF
]p
[h3 id=Tricks
 
	" Tricks
	$LF
]h3
[h4 id=Fasterdialogue
 
	" Faster dialogue
	$LF
]h4
[p 
	"Pressing A once 2 frames after a lag frame, then subsequent A's 5 frames after each other saves 1 frame per dialogue compared to autofiring A/B. If confused, look at the run's input file. 
	$LF
]p
[h4 id=PushingstationaryNPCs
 
	" Pushing stationary NPCs
	$LF
]h4
[p 
	"By standing next to a stationary NPC, then save-reset, the NPC get's pushed a bit every file load. Doing this at Tokaribe Village would've allowed the rival fight to be skipped if not for the fact subsequent story events would not be triggered. Other locations which this trick could've been used include:
	$LF
]p
[ul 
	[li 
		" Accessing lvl 47 Cotta early (takes 20 minutes however)
		$LF
	]li
	[li 
		" Skip the Cabot (Basic) fight (takes too long compared to OHKO)
		$LF
	]li
	[li 
		" Skip guards at various other villages (future story events won't trigger)
		$LF
	]li
]ul
[p 
	"This trick was not used in the run as a result.
	$LF
]p
[h4 id=EarlymidlevelDenjuu
 
	" Early mid level Denjuu
	$LF
]h4
[p 
	"I'm not sure if this counts as a bug or not, but at Tekku Sea accessible near Tokaribe Forest, you could get a level 28 Skrippa to notice you and attack. The reason I mentioned "not a bug" is because 1) the prequel also had a situation where you could visit Liz Island waters as soon as you unlocked the ability to swim and encounter mid level creatures, without ever reaching the island. 2) One can argue the Denjuu sees you over the thin rocks. 
	$LF
]p
[p 
	"This was used in the no secret Denjuu route, since despite the initial setup, makes most of the fights much more manageable. The trick also makes this game itself feasible to speedrun real time, since the only obstacle would be recruiting Skrippa.
	$LF
]p
[h4 id=Jumpingpastenemies
 
	" Jumping past enemies
	$LF
]h4
[p 
	"Once you unlocked the ability to jump, not only can it be used to manipulate luck, but it can also be used to avoid encounters much quicker. Enemies will not notice you while in mid air, so a well-timed jump can allow you to hop past them. In terms of real time feasibility, technically this isn't really needed except for that 1 encounter in the desert, since I actually went and avoided most enemies in a playthrough without jumping before this trick was discovered.
	$LF
]p
[h4 id=Otherenemytips
 
	" Other enemy tips
	$LF
]h4
[p 
	"Running triggers enemies from a further distance than walking, so sometimes, it's better to walk around them than it is to run.
	$LF
]p
[p 
	"If you need to jump twice near an enemy, let go of R for 1 frame before you jump again, or else it would alert the enemy.
	$LF
]p
[p 
	"Enemies either have set paths, or move at random. The latter can be manipulated to an extent either by running through grass, or hopping.
	$LF
]p
[p 
	"Oh, and before anyone wonders; running in the grass only slows you down this game; it's not like the prequel or Pokemon where random encounters could appear. In fact, there are no random encounters of that type in this game.
	$LF
]p
[h4 id=ClippingoutofTakadamaVillage
 
	" Clipping out of Takadama Village
	$LF
]h4
[p 
	"It's possible to clip out of the guards at Takadama Village in the very beginning, but this causes the story to not proceed, so it wasn't done.
	$LF
]p
[h3 id=Stagebystagecomments
 
	" Stage by stage comments
	$LF
]h3
[p 
	"First, 
	[a class=extlink href=https://docs.google.com/spreadsheets/d/135odGXTdEpMx455atPVrGcSG3I2el6C7vNt9r3CVPGU/edit#gid=0 rel=nofollow 
		"here's
	]a
	" a spreadsheet that documents the time it took from the earliest input of a map (or area/location/whatever), up until the last input needed to leave the map. 
	$LF
]p
[h4 id=TakadamaVillage
 
	" Takadama Village
	$LF
]h4
[p 
	"Before you even enter the village, there's a 3 minute segment with nothing but dialogue. Based on the english rom hack, it appears to be about summer break, and going to the telefang world to look for the protagonists' parent.
	$LF
]p
[p 
	"In order to recruit Rex, you have to talk to the pink Denjuu (rom hack claims it's the Elder) inside the building to the right, followed by 2 other Denjuu. Even with the english patch, I have no idea why Rex joins you, but he's used in literally 1 battle, so that doesn't matter. Recruiting him also unlocks the ability to open the menu and leave the village.
	$LF
]p
[p 
	"There's a chest below the gate inside the dungeon which gives a blue bracelet. This could be equiped to raise the holder's attack stat by 5. While this run mostly relies on special attacks that don't use the attack stat, the non-secret Denjuu route may or may not potentially benefit from it for the Skrippa fight. Unfortunately, I forgot this even existed until the run was finished.
	$LF
]p
[p 
	"After returning the seed to the elder, the village's shop and exit would be unlocked. 
	$LF
]p
[h4 id=TokaribeVillage
 
	" Tokaribe Village
	$LF
]h4
[p 
	"Between any point from Takadama Village to the human in Tokaribe Forest, a herb must be obtained to skip a boss fight. The fastest way to get a herb is to make it drop randomly from the grass, but waiting for it seems to kill off any minor improvements made in the previous village.
	$LF
]p
[p 
	"After exchanging the herbs for the bracelet, the group of Denjuu blocking Tokaribe Village will depart, and at this point I disabled fighting animations, along with calling up a secret Denjuu called Rupicola to help out at the rival fight.
	$LF
]p
[p 
	"A minor note, but if Rex was used for the fight, a splashscreen showing Gyuun and Rex facing off would appear, before the fight starts. 
	$LF
]p
[p 
	"With the help of Rupicola, the first fight becomes a breeze, but as it turned out in the other run, even without any secret Denjuu the fight was a joke due to Skrippa anyways. The "hardest" part of the fight was manipulating a friend (or ally, whatever) to appear for Rupicola, or a critical hit for the Skrippa run, followed by manipulating an NPC in the next area to move away from where I'll run.
	$LF
]p
[p 
	"Once the fight is over, you need to get that pink haired girl back with you. You can actually fight the frog Denjuu, but this serves no purpose in a speedrun, so it wasn't done. Winning the fight would've also allowed you to recruit a level 10 Denjuu, but even in the non-secret Denjuu route, this is completely pointless to do.
	$LF
]p
[p 
	"I forgot to mention this, but it takes 34 frames to grab a barrel, and 19 frames to throw it. They are also unable to leave the area thier in. To make it worth using a barrely against an enemy, it must take longer than 53 frames or so waiting for them to leave. 
	$LF
]p
[p 
	"The main difficulty of the mountain is actually at the very end of the mountain. I need the last green Denjuu in the cave to move away, while also having the green insect Denjuu at the fields to stay to the south. There's not much grass in the map between the 2 Denjuu, so most of the manipulation was done before the last cave area. Unfortunately, this also meant having to manipulate 2 events mostly at once.
	$LF
]p
[h4 id=ChiawataVillage
 
	" Chiawata Village
	$LF
]h4
[p 
	"<Explain the second stage here>
	$LF
]p
[p 
	"<And so on>
	$LF
]p
[h3 id=Othercomments
 
	" Other comments
	$LF
]h3
[p 
	"I initially started a "run" of this back in 2010, about after the first game TAS. Due to my inexpierence, I had a number of setbacks, including almost no route planning, no maps, nothing about the boss stats, and others that caused me to become demotivated. While I had found a bug that allowed "moving" NPCs 1 pixel away from where they stand every time you save near them, it ended up being useless, since it turns out the game events are rather "strict"; (almost) everything must be done in order, or plot-wise NPCs will NOT appear, nor will any story triggers, unlike the first game.
	$LF
]p
[p 
	"In 2013, while messing around the game again, I found out a 
	[a class=extlink href=https://www.youtube.com/watch?v=YplDV4cDc1Y rel=nofollow 
		"glitch
	]a
	" that allowed you to recruit a level 28 NPC before the first boss.
	$LF
]p
[p 
	"Sadly, that required extroadinary luck to even beat the NPC, so I didn't do anything for a while. In 2016, due to boredom, I poked around the game again, and found a number of addresses related to battle. By freezing 0x2870 in IWRAM to 1, I could always win a fight, even when I lose. With this, I started making a route of the game for real, and then later found all the stats of the bosses I will fight.
	$LF
]p
[p 
	"By luck, I found out that freezing 0x2C16 in IWRAM allows one to find out the possible max/min hits, when a critical lands, what moves are determined, and more, allowing planning how fights should go much easier. I made a bunch of maps, and tried various different strategies, before starting to TAS for real this year.
	$LF
]p
[p 
	"While making the run, I realized that the in the process of redoing sections over and over, most areas were actually quite spliceable. I was quite curious on how much does using a secret Denjuu actually even help on this game, and so I decided to try to do 2 runs; one that uses a secret Denjuu, and one that uses the glitch that allowed an early level 28 Denjuu. This game features a lot of running and talking, which while also made it very boring at times, allowed TASing the 2 types of run far easier. Parts of the run were still annoying as hell to manipulate twice, however. 
	$LF
]p
[p 
	"The lack of forced, random encounters in my opinion, is one of the best things about this game compared to the sequel; at least for TASing purposes. I think the run had almost 500 maps/rooms/areas it went around (not different areas; just running around the same places), and within those places, almost 100 of them had NPCs that were affected by luck and could affect the run.
	$LF
]p
[p 
	"<Explain here things the audience would probably like to see>
	$LF
	"<Explain also things that could be improved in your movie>   
	$LF
	"<You may also suggest screenshots.>
	$LF
]p
[hr 
]hr
[p 
	[a class=intlink href=/Users/Profile/ThunderAxe31 
		"ThunderAxe31
	]a
	": Judging.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/ThunderAxe31 
		"ThunderAxe31
	]a
	": This run takes advantage of using a password in order save time. Since the code itself can't be found by playing the game or by reading the official game manual it counts as cheat, whoose usage is forbidden by the 
	[a class=intlink href=/MovieRules.html#CheatsDebuggingCodesAndArcadeContinuesAreNotAllowed 
		"Movie Rules
	]a
	". I also have to note that an exception could be raised in case the usage of a cheat would result in enough entertain and unique movie contents, but that's not the case for this submission. 
	$LF
]p
[p 
	"Rejecting for cheat usage.
]p
