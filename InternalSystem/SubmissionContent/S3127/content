8
[p 
	(youtube|v=KLcbTiJMHuo)
	$LF
]p
[h2 
	"About the movie
	$LF
]h2
[p 
	"Categories:
	$LF
]p
[ul 
	[li 
		" As fast as possible
		$LF
	]li
	[li 
		" Takes damage to save time
		$LF
	]li
	[li 
		" Dies to save time
		$LF
	]li
	[li 
		" Best Genesis movie 2011
		$LF
	]li
	[li 
		" Heavy luck manipulation (boss 1, stage 3, boss 3, stage 4)
		$LF
	]li
	[li 
		" 108 seconds (6521 frames) faster than the fastest Dream Team contest movie
		$LF
	]li
]ul
[p 
	"Ranger-X is a movie where you pilot a giant Mech. There are several weapons and modes of transportation. Each stage contains a number of Targets (stated in the top middle). When all targets have been killed, the level end.
	$LF
]p
[h2 
	"Work, work, work 
	$LF
]h2
[p 
	"This movie was recorded by TheRandomPie_IV and Truncated. Earlier in the project, there was a bigger team consisting of mz, Dammit, cpadolf, and Cardboard. All input by these persons is gone due to redos, with the exception of the menus in the beginning, and the playaround on the first boss which was hexedited in, slightly modified, to save time.
	$LF
]p
[p 
	"All previous team members found important strategies and tricks, but mz deserves special mention for the fantastic scripts he engineered, which gives a HUD of speed, position, energy, jetpack heat, and most importantly, all onscreen enemies' health. He also disassembled the RNG function which saved huge amounts of time, especially on stage 3 (see stage notes). 
	$LF
]p
[p 
	[em 
		"Truncated
	]em
	": Finally done! My next project will be something simpler. Big thanks to RandomPie for sticking with the project for so long, and thanks to everybody who helped out earlier in the project. 
	$LF
]p
[p 
	[em 
		"TheRandomPie_IV
	]em
	": This was probably the thoughest project I've worked on to date and my next is also very likely to be something a touch easier. Truncated was great to work with as were all the others who made contributions. Enjoy.
	$LF
]p
[h2 
	"Tricks
	$LF
]h2
[ul 
	[li 
		" The Ranger and the bike can be moved separately, or merged. Changing weapons or jumping with the bike is only possible while merged. The bike moves at 7 pixels per input frame.
		$LF
	]li
	[li 
		" Left and right movement is not identical. 
		$LF
	]li
	[li 
		" The speed when flying straight ahead switches between two values, 8 and 6. However, it is also possible to have a subpixel speed of 0.5. (If you are careless, the speed can also switch between 7 and 5.) This is only possible when going to the right.
		$LF
	]li
	[li 
		" When you duck on the ground and then press up-forward, you take off. This gives you max upwards speed instantaneously and slightly higher than max sideways speed. The sideways speed quickly goes down to its standard value. Because there is also 1 frame of zero movement, the gain is not very big (4.5 pixels going right, 5 pixels going left).
		$LF
	]li
	[li 
		" In upslopes, you can use two take off-boosts in a row because of a bug in the collision handling.
		$LF
	]li
	[li 
		" The game does not properly clear ducking status between levels. This can be used to use a take-off boost even if you start a level in the air.
		$LF
	]li
	[li 
		" The game does not properly clear subpixel position between levels.
		$LF
	]li
	[li 
		" Most projectiles give damage boosts. Some big projectiles give big damage boosts. Obviously big projectiles also take lots of health.
		$LF
	]li
	[li 
		" The ranger likes to kick enemies to temporarily disarm them. This also gives the ranger a small backwards boost.
		$LF
	]li
	[li 
		" Flying into some objects and enemies pushes you away from them. Examples are the targets and saucers in level 1-1.
		$LF
	]li
	[li 
		" Turning around is controlled by the player. The ranger will only kick enemies in front of it. Also, the game only calculates collisions which are actually onscreen. (It's a bit like a tree falling in the forest. If there is no Ranger there to witness it, did it actually happen?) By looking away, you can slip the blue explosions traveling along the ground past enemies.
		$LF
	]li
]ul
[h2 
	"Lag
	$LF
]h2
[p 
	"The lag in this game is a bad joke. Every other frame is lag. Input-Lag-Input-Lag-Input-Lag...
	$LF
]p
[p 
	"Sometimes the input frames are switched: Input-Lag-Lag-Input-Input-Lag.
	$LF
]p
[p 
	"This makes it difficult to hexedit and to keep track of how laggy a section really is. We (mz, Truncated, Pie) wrote a script which takes care of the counting.
	$LF
]p
[h2 
	"Weapons
	$LF
]h2
[p 
	"There are 8 weapons you can wield. Your unicycle and airship fire separately, only the unicycle can be controlled. 
	$LF
]p
[table 
	[tbody 
		[tr 
			[th 
				"Weapon		
			]th
			[td 
				"Damage per shot
			]td
			[td 
				"Energy per shot
			]td
			[td 
				"Rate of fire	
			]td
			[td 
				"Damage per input frame
				$LF
			]td
		]tr
		[tr 
			[td 
				"Pulse rifle		
			]td
			[td 
				"1		
			]td
			[td 
				"N/A		
			]td
			[td 
				"every 5 frames 
			]td
			[td 
				"0.2
				$LF
			]td
		]tr
		[tr 
			[td 
				"Flame			
			]td
			[td 
				"1		
			]td
			[td 
				"16		
			]td
			[td 
				"every 2 frames 
			]td
			[td 
				"0.5
				$LF
			]td
		]tr
		[tr 
			[td 
				"Bomb			
			]td
			[td 
				"12+1
				"[
				[a id=1 
				]a
				[a href=#r1 
					"1
				]a
				"]
				"	
			]td
			[td 
				"256		
			]td
			[td 
				"every 32 frames
			]td
			[td 
				"0.406
				$LF
			]td
		]tr
		[tr 
			[td 
				"Blue laser		
			]td
			[td 
				"1+1		
			]td
			[td 
				"32 or 64 
				"[
				[a id=2 
				]a
				[a href=#r2 
					"2
				]a
				"]
				"	
			]td
			[td 
				"every 4 frames 
			]td
			[td 
				"0.5
				$LF
			]td
		]tr
		[tr 
			[td 
				"Falcon			
			]td
			[td 
				"[
				[a id=3 
				]a
				[a href=#r3 
					"3
				]a
				"]
				"		
			]td
			[td 
				"[
				[a id=3 
				]a
				[a href=#r3 
					"3
				]a
				"]
				"		
			]td
			[td 
				"[
				[a id=3 
				]a
				[a href=#r3 
					"3
				]a
				"]
				"		
			]td
			[td 
				"erratic
				$LF
			]td
		]tr
		[tr 
			[td 
				"Green laser		
			]td
			[td 
				"200		
			]td
			[td 
				"3968 (all of it)
			]td
			[td 
				"energy limitation
			]td
			[td 
				"2 or 0.88
				"[
				[a id=4 
				]a
				[a href=#r4 
					"4
				]a
				"]
				$LF
			]td
		]tr
		[tr 
			[td 
				"Plasma (spread shot)	
			]td
			[td 
				"10		
			]td
			[td 
				"256		
			]td
			[td 
				"every 24 frames
			]td
			[td 
				"0.417
				$LF
			]td
		]tr
		[tr 
			[td 
				"Shield			
			]td
			[td 
				"4
				"[
				[a id=5 
				]a
				[a href=#r5 
					"5
				]a
				"]
				"		
			]td
			[td 
				"[
				[a id=5 
				]a
				[a href=#r5 
					"5
				]a
				"]
				"		
			]td
			[td 
				"every 4 frames	
			]td
			[td 
				"1
				$LF
			]td
		]tr
		[tr 
			[td 
				"Indra (unicycle)	
			]td
			[td 
				"1		
			]td
			[td 
				"N/A		
			]td
			[td 
				"every 5 frames	
			]td
			[td 
				"0.2
				$LF
			]td
		]tr
		[tr 
			[td 
				"Indra while joined	
			]td
			[td 
				"1		
			]td
			[td 
				"N/A		
			]td
			[td 
				"every 3 frames	
			]td
			[td 
				"0.333
				$LF
			]td
		]tr
		[tr 
			[td 
				"Eos (airship)		
			]td
			[td 
				"4		
			]td
			[td 
				"N/A		
			]td
			[td 
				"erratic	
			]td
			[td 
				"erratic
				$LF
			]td
		]tr
	]tbody
]table
[h3 
	"Pulse rifle
	$LF
]h3
[p 
	"This is your standard peashooter. It is always available and can be combined with all other weapons. The shots get the same vertical speed as you had when you fired them, so you can "angle" shots.
	$LF
]p
[h3 
	"Flame
	$LF
]h3
[p 
	"Flame shoots a rapid stream of fireballs, which is supposed to look like a flamethrower. The flames receive both your vertical speed and horizontal speed added to them, and then a random addition in vertical speed (which is the reason that using the Flame advances the RNG).
	$LF
]p
[h3 
	"Bomb
	$LF
]h3
[p 
	"Fires a bomb in an arc forward. Vertical and horizontal speed is not added. The bomb bounces on walls but detonates on ground, and on enemies. A blue flame starts to travel along the ground, for 128 input frames. Max traveling bombs on screen is 4.
	$LF
]p
[p 
	"The blue flame can go up slopes and down walls. It turns at walls and at the end of the screen.
	$LF
]p
[p 
	"[
	[a id=1 
	]a
	[a href=#r1 
		"1
	]a
	"]
	": The bomb does 1 damage, the blue cream does 12. So only a direct hit scores 13.
	$LF
]p
[h3 
	"Blue laser
	$LF
]h3
[p 
	"[
	[a id=2 
	]a
	[a href=#r2 
		"2
	]a
	"]
	": The blue laser autoaims if you hold the button. The energy usage is then 32/4 input frames. If you tap the button it doesn't autoaim. The energy usage is then 32/8 frames.
	$LF
]p
[h3 
	"Falcon
	$LF
]h3
[p 
	"A homing bird. It travels slower than the ranger sideways and is therefore hard to use during horizontal stages.
	$LF
]p
[p 
	"[
	[a id=3 
	]a
	[a href=#r3 
		"3
	]a
	"]
	": The falcon is weird in many aspects. Energy usage is 64 to release the bird, 2 per input frame after that, 64 every time it does damage. Every other frame the bird creates a shadow which has the damage of the latest projectile fired (so you can fire the rifle to set this value to 1, best is if the airship fires so it turns to 4). There are max 3 shadows. The damage is 2 every other input frame, plus the value of all shadows, which are then removed.
	$LF
]p
[h3 
	"Green laser
	$LF
]h3
[p 
	"A huge laser. 
	$LF
]p
[p 
	"[
	[a id=4 
	]a
	[a href=#r4 
		"4
	]a
	"]
	": The green laser (also called Proton Cannon) takes 64 input frames to start up, and then fires for 100 input frames, with 2 damage every frame. If the start-up is included, it is 0.88 damage per frame.
	$LF
]p
[h3 
	"Shield
	$LF
]h3
[p 
	"The shield makes you invincible and dishes out damage like nothing else, but it also eats energy extremely rapidly.
	$LF
]p
[p 
	"[
	[a id=5 
	]a
	[a href=#r5 
		"5
	]a
	"]
	": The shield does damage in this pattern: 2, 2, 0, 0. The pattern is on a global timer. The shield takes 144 energy to start and 16 energy every input frame after that.
	$LF
]p
[h2 
	"Lua scripts
	$LF
]h2
[p 
	"I have gotten requests for the Lua scripts used for this movie, here they are:
	$LF
]p
[ul 
	[li 
		" 
		[a class=extlink href=http://pastebin.com/aGRxssRb rel=nofollow 
			"OneScript
		]a
		" - Combination of the most important functions: HUD, lagcounter, enemy HP, RNG precognition, etc. Mainly written by mz, with additions by Dammit, Truncated and TheRandomPie_IV.
		$LF
	]li
	[li 
		" 
		[a class=extlink href=http://pastebin.com/6nvJG7Up rel=nofollow 
			"enemy HP
		]a
		" - The targets in level 6 have a different memory structure, this script takes care of those and also shows the number of kicks/cooldown for the robot that holds the Shield weapon. Written by mz.
		$LF
	]li
	[li 
		" 
		[a class=extlink href=http://pastebin.com/4DQxxmnG rel=nofollow 
			"getframes
		]a
		" - Extracts measuring points (target deaths and stage changes) formatted for pasting into spreadsheet. Works well for stage changes, less reliable for targets, since the position of the Ranger also matters a lot. Written by Dammit (I think?)
		$LF
	]li
]ul
[h2 
	"Stage notes
	$LF
]h2
[h3 
	"1-1
	$LF
]h3
[p 
	"The targets in this level are big buildings shooting fireballs.
	$LF
]p
[p 
	"We tested the level both with flame thrower and bombs. In the competition the team that used flame thrower was the fastest, but optimizing both weapons it was clear that bombs was the winner. In this level it is actually advantageous to have a high difficulty level, because the targets shoot more often, making it easier to get damage boosts.
	$LF
]p
[h3 
	"1-2
	$LF
]h3
[p 
	"Boss time! Flame is the obvious choice because of higher damage over a long time. Doppler effect used to damage the legs faster.
	$LF
	"After mz's discovery of the RNG seed, we figured out that moving the bike makes it change, and manipulated the homing missiles to fly in advantageous directions. That is, hitting us in the back instead of getting in the way of our flamethrower.
	$LF
]p
[h3 
	"2-1
	$LF
]h3
[p 
	"The targets in this level return fire after a few hits, generate energy balls that fly in your direction, and lag. It's important to deliver all the damage over a short period of time to avoid the lag.
	$LF
]p
[p 
	"We pick up the blue twin lasers. They will come in handy later.
	$LF
]p
[p 
	"Target 4 (behind the huge wall of eggs that release pesky fish) goes down to the combined force of a bomb and two boulders that the bike shoves in. We are pretty happy with that trick. 
	$LF
]p
[h3 
	"2-2
	$LF
]h3
[p 
	"The fighter planes are airborne, but can be manipulated to move down into the explosions traveling along the ground. This was suggested by Cardboard. We stack multiple explosions on top of each other to kill them in one hit.
	$LF
]p
[p 
	"Twin lasers works great on this boss, because of the range and damage output. They also make the tactic of moving away from the boss possible. The boss appears immediately when the last target is destroyed, so it's important to switch weapons just before that.
	$LF
]p
[p 
	"If you wonder why we stood here eating lasers for a while, read on...
	$LF
]p
[h3 
	"3-1
	$LF
]h3
[p 
	"In this level, the targets drop down from the sky. The time when the targets appear are random, but they are decided when the level starts. mz did some fantastic work by disassembling the randomness subroutine and the code which calls it before the level starts. From this he also made a nice lua script which essentially grants us precognition, showing at what heights all targets would end up with the current RNG seed.
	$LF
]p
[p 
	[img class=embed src=http://i54.tinypic.com/1rrclz.png 
	]img
	$LF
]p
[p 
	"The x-position (drop location) of the pods are always the same.
	$LF
]p
[p 
	"This is obviously a huge factor in completing this level quickly. mz's team gained about 1400 frames on this level in the dream team competition.
	$LF
]p
[p 
	"After an idea by Dammit, Truncated researched and wrote a script to estimate a level completion time for any combination of drop times. Pie then had the idea to calculate a lot of combinations (thousands), so we could pick the best.
	$LF
]p
[p 
	"The RNG is called for a lot of different reasons, but the ones we can influence directly are moving the bike, firing the flame thrower or flying upwards (one step each). Indirectly, we can make the boss fire its laser. This advances the RNG about 500 steps! Because of this we can reach a better RNG without losing too much time.
	$LF
]p
[p 
	"Eating the lasers takes about 180 frames, but the order of targets we get means we can complete the level 1700 frames faster than the best dream team competition movie, because almost all of the waiting for targets to drop is gone.
	$LF
]p
[p 
	"About the level: when going trough the treetops at too high speed, a bunch of small leaves come off. These create lag if there is other stuff on the screen, and also block shots and bombs, so we avoid it when possible. The targets release small fighter jets, which shoot lasers that are great for boosting your speed. The jets are also great at getting in the way when trying to destroy a target.
	$LF
]p
[p 
	"We also pick up the homing bird for the next level. It's crazy fast at killing targets, but has problems catching up to the ranger after that. It would also have meant an extra weapon switch at the boss, which is why it isn't used in this level.
	$LF
]p
[h3 
	"3-2
	$LF
]h3
[p 
	"The boss has two forms, each has 64 HP.
	$LF
]p
[p 
	"First form, the boss only takes damage when the eye is open. When the boss takes damage, it closes the eye. The fastest way around this is to buffer up 4 bombs (which is the max number on-screen) for 4*12=48 HP, and as soon as they hit, release another bomb and fire four rifle shots, 4+12=16 HP, for a total of 48+16=64 HP. The boss dies almost instantly.
	$LF
]p
[p 
	"The second form has spheres floating around it in a predefined pattern, the spheres block all shots. The pattern is decided when the boss spawns. It starts under the ground and moves up, towards your position. This gives us some time to both get a favourable pattern (one with a sphere opening in ground level just as the boss appears) and stack up a welcoming present of 4 bombs. As before, one more bomb and 4 rifle shots just after that kills it.
	$LF
]p
[h3 
	"4-1
	$LF
]h3
[p 
	"This is a vertical level. The targets here release tracking bombs, which really hurt. However, the explosion from the bombs also hurt enemies. If you set off the bomb while it is still inside the target, the target goes down!
	$LF
]p
[p 
	"Unfortunately, the targets release their bombs not when you get close, but on a timer which is initialized when the level starts. So we went through the process for stage 3 again, wrote a program so calculate a comparison value for different timer values, and found a very good one just a few RNG numbers away. So good actually, that all the targets release their bombs without any delay. This results in what you see, we fly upward at max speed the whole time, targets suiciding along the way, we never fire a shot. :)
	$LF
]p
[p 
	"The bird is used to kill the enemy rangers to decrease the lag we would otherwise have later. We pick up the giant green laser.
	$LF
]p
[h3 
	"4-2
	$LF
]h3
[p 
	"This boss works something like this:
	$LF
	"There are turrets shooting ballistic lasers at you. The part of the boss which you have to kill to end the level is housed under the middle turret. You have to destroy that turret to remove the walls and be able to shoot the boss. The boss consists of a small module and a ball rotating around each other. The module must be damaged to kill the boss. If the ball is damaged, it attacks the player and the module goes invulnerable for a while.
	$LF
]p
[p 
	"Since the green laser shoots through walls, we do not have to kill the middle turret at all. We must however make sure not to damage the ball. This is the reason that we starts firing in the "wrong" direction and turn around twice during firing: the module needs to be in the correct phase of the rotation, and we only want to scroll the module into view, not the ball. 
	$LF
]p
[p 
	"The position of the ball and module is fixed (non-random) at the start of the stage.
	$LF
]p
[h3 
	"5-1
	$LF
]h3
[p 
	"This stage has three main features: 
	$LF
]p
[ol 
	[li 
		" It is in the dark, which means very slow energy refill for the ranger, and it has searchlights, which quickly refills energy but alerts enemies to your position. All nearby missile ships and one trailing robot start to attack you. The trailing robots switch sides so they are always behind you.
		$LF
	]li
	[li 
		" The targets are on rails and move back and forth. It is possible to destroy the targets (32 HP), but you can also destroy the small modules on the rails (16 HP) instead. This makes the targets fall to their doom. This works on all targets except two last ones.
		$LF
	]li
	[li 
		" The enemy rangers that are walking on the ground react differently to kicking than most enemies:
		$LF
	]li
]ol
[ul 
	[li 
		[ul 
			[li 
				" They receive 1 HP damage from kicks.
				$LF
			]li
			[li 
				" It doesn't matter which direction you face, you will always collide with them. It is not possible to pass them by turning around.
				$LF
			]li
			[li 
				" The kick recoil is huge, which is good for traveling faster.
				$LF
			]li
		]ul
	]li
]ul
[p 
	"Since the targets fall off their rails and die when they hit the ground, it's important to kill the last two targets when their falling distance is short.
	$LF
]p
[h3 
	"5-2
	$LF
]h3
[p 
	"The boss consists of two parts. Neither has any attacks on their own, they only attack once they are connected. The left one starts next to you and travels at medium speed to the right. We kill the left part with the bombs since that's what we come into the stage with. This makes it fly right quickly and attach to the right part.
	$LF
]p
[p 
	"During the long travel to the right part we switch to the green laser and start it so it will fire exactly as we reach the boss. The idea is to get off as many rifle shots as possible during the green laser, which as before means some turning around. It is only possible to fire the rifle when you are in view.
	$LF
]p
[p 
	"To finish off the boss, we get in the bike just as the laser stops, switch to the bombs while jumping with the bike, and deliver a final bike/rifle/bomb salvo.
	$LF
]p
[h3 
	"6-1
	$LF
]h3
[p 
	"The second enemy robot carries the arguably best weapon of the game, the shield. It makes you invincible and damages anything you touch at double the rate of the flame. The robot does not give you this weapon if you just shoot it though - you have to kick it to death. Both the ranger and the bike can kick it. If the robot goes too high and touches the ceiling, it stops moving, so this needs to be avoided most of the time.
	$LF
]p
[p 
	"Before the end, we switch to the green laser to kill the boss quicker. The green laser is a bit strange in that it requires full energy to activate, but the energy isn't depleted at once, only when it fires 2 seconds later. Meanwhile, you can pick up a health refill, which converts energy to health. 
	$LF
]p
[p 
	"We take our only death here, to pass a health refill just before the boss, which would otherwise sap our energy for the green laser.
	$LF
]p
[p 
	"The boss has two weak points: a gun on the top and a gun on the bottom which retracts and goes invincible. With the damage output of the green laser, the bottom gun can be killed before it retracts the first time, even if it means a slower kill of the top gun.
	$LF
]p
[h3 
	"Final boss:
	$LF
]h3
[p 
	"During the long fall we get 14 frames ahead with the use of slightly faster velocity cycle. Always something!
	$LF
]p
[p 
	"As for the boss, we just shield him in the face while shooting the rifle. Even though he has a phase where he blocks your shots and you have to reflect his projectiles against him, it is still possible to damage him normally if you are behind his shield.
	$LF
]p
[h3 
	"Possible improvements
	$LF
]h3
[p 
	"Better lag management. The lag management in this game is hell. Theoretically better strategies in the last level weren't used because they caused more lag.
	$LF
]p
[p 
	"Not picking up the blue laser. Getting the blue laser was based on how much time it would save against the second boss. It does save time there, but since we were forced to wait in the third phase, perhaps a slower weapon would work out too.
	$LF
]p
[p 
	"Better randomness management. Perhaps it is possible to grind enough RNG steps during the first two levels that a laser shot from the second boss could be skipped, but it's doubtful.
	$LF
]p
[p 
	"See you next mission!
	$LF
]p
[hr 
]hr
[p 
	(__wikiLink|user:feos)
	": HD encode.
	$LF
]p
[hr 
]hr
[p 
	(__wikiLink|user:Baxter)
	": Complex game TASed very well, accepting.
	$LF
]p
[p 
	(__wikiLink|user:sgrunt)
	": To be published as soon as I grab a screenshot.
]p
