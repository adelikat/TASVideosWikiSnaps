10
[h3 
	" Introduction
	$LF
]h3
[p 
	"This is my first ever completed TAS, and I'm quite proud of it. Hopefully the first of many more, if inspiration strikes.
	$LF
]p
[p 
	"Magical Tetris Challenge is a rather obscure Tetris game made by Capcom in 1998. Like a lot of Tetris games, the objective is to clear multiple lines at once and/or clear lines with consecutive pieces to send attacks to your opponent, and whoever fills their field to the top first loses. But unlike most Tetris games, attacks don't come in the form of rising rows of garbage blocks. Instead, sending attacks fills up your opponent's queue with unusual, harder to use "magical" pieces which they then have to place.
	$LF
]p
[p 
	"The magical pieces start out as pentominoes. However, if you clear a line while you have magical pieces in your queue, you can counter some of your magical pieces, which turn into square blocks and are sent back to your opponent, showing up as "?"s in their queue. These are 2x2 square blocks after the first counter, but they can be countered right back, and they grow with every volley up to a maximum size of 5x5 after 4 counters.
	$LF
]p
[p 
	"After a certain amount of time has passed in the match, you can start receiving "!"s in your queue. These show up if you let your queue fill to capacity; any overflow turns existing pieces in your queue into "!". A "!" piece can't be countered, and they're massive pieces you really do NOT want to get, such as pyramids and diamonds.
	$LF
]p
[p 
	"One other unique feature is a meter in the bottom corner. Single-line clears that don't counter anything fill up the meter. When it reaches the maximum, after the next piece you drop, your entire playing field will collapse down to the bottom, your lowest column gets removed entirely, and then everything above meter's height is erased and the meter grows longer for next time. Doing an All Clear is the only way to shrink the meter back down.
	$LF
]p
[p 
	(youtube|v=Y26b27Cf-rA)
	$LF
]p
[h3 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" Emulator used: BizHawk 1.7.0
		$LF
	]li
	[li 
		" Aims for fastest time to 999,999,999
		$LF
	]li
	[li 
		" Aims for in-game time instead of real time
		$LF
	]li
	[li 
		" Uses easiest difficulty
		$LF
	]li
	[li 
		" Genre: Puzzle
		$LF
	]li
]ul
[h3 
	" Comments
	$LF
]h3
[p 
	"By far the hardest part of this run was the luck manipulation involved. No matter what I tried in the menus, the initial piece sequence stayed the same. I think the first game after startup always starts with the same seed, much like Sega's 1988 arcade Tetris and its famous "power-on pattern".
	$LF
]p
[p 
	"However, there are ways to advance the seed in mid-game without dropping a piece, meaning the piece sequence will not always be entirely the same throughout the match. Sending magical pieces appears to be the primary cause of seed advancement. I'm fairly sure each pentomino sent increments the seed when it gets added to the queue, I'm not so sure about "!" pieces, and I don't think "?" increment the seed at all.
	$LF
]p
[p 
	"Alternatively, since both players share the second-to-next piece in the middle when neither player has any magical pieces queued, it's possible to manipulate luck by simply stalling and waiting for the opponent to drop a piece. But this is boring to watch so I kept it to a minimum.
	$LF
]p
[p 
	"Additionally, when the meter does its thing, the next several pieces in the sequence are guaranteed to be I's. Presumably this was programmed to help the player who just triggered their meter, since it tends to leave a flat playing field with one deep canyon in it, where an I would be extremely useful and anything else would be of minimal use. But with some luck manipulation and/or good timing, this can be exploited to get an All Clear. I tried to do it in stage 1 without much luck, but I successfully pull it off a couple times in stage 2.
	$LF
]p
[h3 
	" Stage by stage comments
	$LF
]h3
[h4 
	" Stage 1
	$LF
]h4
[p 
	"Since the first match after startup appears to always start with the same seed, there wasn't much room for luck manipulation at the start. I go for a big combo first, because the stage bonus multiplier is determined by your biggest combo in the stage. The reason I do it first because it inevitably results in a lot of single-line clears which contribute significantly to the meter, so it helps to start the combo with an empty or near-empty meter so that it doesn't trigger in mid-combo. Additionally, combos send attacks as well, and the AI takes a while to die even after it gets a ton of magical pieces, so the purpose of comboing right away is threefold. As icing on the cake, the point value for the Nth hit in a combo is multiplied by 2^(N-1), making this good for score as well, although it's loose change in comparison to the stage bonus.
	$LF
]p
[p 
	"After that, I go for All Clears since they each add 100K to the base stage bonus. My primary strategy is to fill up the meter while also filling up my playing field in a way that the collapsed field is ideal for an All Clear, then luck-manipulate my way into getting the perfect piece for the All Clear. Since there's a delay between when I clear the line and when the credit for the line actually gets added to the meter, I try to time the line clear so that I have just enough time to fill my field and get the ideal piece just as the meter triggers. As a secondary goal, I attempted to manipulate the piece sequence to give me an easy All Clear in the following 2 or 4 lines, but I wasn't successful in the first stage.
	$LF
]p
[p 
	"After 3 all clears, I was left with not enough time to go for a 4th before the AI dies, so instead I try to counter everything the AI throws at me since each countered piece adds 1000 to the base stage bonus. Then I manipulate luck to give me a good piece sequence for stage 2. I had to experiment with  several stopping points in the piece sequence before I settled on this one, including one sequence that started out promising on stage 2 before giving me a string of S/Z/O pieces every time I tried to start a combo. I had to scrap a significant amount of work on stage 2 because of that.
	$LF
]p
[p 
	"Score for stage 1:
	$LF
]p
[ul 
	[li 
		" 1,699,150 from line clears & combos
		$LF
	]li
	[li 
		" Bonus subtotal: 344,000
		$LF
		[ul 
			[li 
				" 35,000 points for time
				$LF
			]li
			[li 
				" 9,000 points for 9 countered magical pieces
				$LF
			]li
			[li 
				" 300,000 points for 3 All Clears
				$LF
			]li
		]ul
		" Bonus multipler: x1600 for 14 combo
		$LF
	]li
	[li 
		" Bonus: 344,000 x 1600 = 550,400,000
		$LF
	]li
	[li 
		" 1 point for clearing the stage (added during the stage transition)
		$LF
	]li
]ul
[p 
	"Total score for stage 1: 552,099,151
	$LF
]p
[h4 
	" Stage 2: Once More, With More Luck Manipulation
	$LF
]h4
[p 
	"The strategy is the same as stage 1. Big combo first, then All Clear as much as possible. Except this time I manage to luck-manipulate my way into an ideal piece sequences without too much stalling, allowing me to get two quick All Clears in succession.
	$LF
]p
[p 
	"The movie can be stopped at the third All Clear on this stage (frame 10340) and the run will still hit 999,999,999 once the AI dies, but that would've been boring to watch. At first I tried to see if I could finish off the AI faster, but the bottleneck there was how fast it dropped its own pieces, not what was in its queue. So instead I went for more All Clears to overshoot the score cap by as much as I could. As the MythBusters say, "If it's worth doing, it's worth overdoing." So I get 2 more All Clears before the AI dies, followed by one last clear timed to counter some magical pieces just before the AI dies for a little more score.
	$LF
]p
[p 
	"Score for stage 2:
	$LF
]p
[ul 
	[li 
		" 1,726,550 from line clears & combos
		$LF
	]li
	[li 
		" Bonus subtotal: 541,000
		$LF
		[ul 
			[li 
				" 35,000 points for time
				$LF
			]li
			[li 
				" 6,000 points for 6 countered magical pieces
				$LF
			]li
			[li 
				" 500,000 points for 5 All Clears
				$LF
			]li
		]ul
		" Bonus multipler: x1600 for 14 combo
		$LF
	]li
	[li 
		" Bonus: 541,000 x 1600 = 865,600,000
		$LF
	]li
	[li 
		" 1 point for clearing the stage (added during the stage transition)
		$LF
	]li
]ul
[p 
	"Total score for stage 2: 867,326,551
	$LF
]p
[p 
	"Running total: 1,419,425,702
	$LF
]p
[h4 
	" Stage 3: So Long, and Thanks For All the Fish
	$LF
]h4
[p 
	"Not much to say here. I intentionally top out as soon as possible, since the in-game time only stops when you lose. Then I input "TAS" for initials and end the movie.
	$LF
]p
[h3 
	" Other comments
	$LF
]h3
[p 
	"This could probably be optimized further if someone figures out better luck manipulation methods, especially what makes the seed tick.
	$LF
]p
[p 
	"Frame 11777 showing the massive stage bonus might make a good screenshot. Or frame 8388 showing my nearly-full field just before I obliterate most of it.
	$LF
]p
[p 
	"Thanks for watching, I hope you enjoyed it. This took me many sleep-deprived nights to make, but it was worth it and I'm quite happy with the result.
	$LF
]p
[hr 
]hr
[p 
	(__wikiLink|user:feos)
	": Accepting this to Moons, despite of using the easiest difficulty, which improves the speed and the entertainment compared to other difficulties, allowing important speedrun features and looking fresh and fast-paced overall.
	$LF
]p
[p 
	(__wikiLink|user:Spikestuff)
	": Considering that I'm half done already with the publishing part of it and expected the other user to do this, I will be able to publish this very soon (because Mario Bros. is a butt). Publishing.
]p
