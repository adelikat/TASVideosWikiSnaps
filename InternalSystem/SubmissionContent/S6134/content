7
[h3 
	" Summary
	$LF
]h3
[p 
	"It's one small step for a DOS TAS, one giant leap for DOS TASsing.
	$LF
	[br 
	]br
	$LF
]p
[h3 
	" Introduction
	$LF
]h3
[p 
	"This submission is a 9.7 second improvement to my previous submission, mostly from some optimized inputs and better choice of character class.  More importantly, however, this TAS was done entirely using TASScript 2.0, a new custom upgrade I made to JPC-rr which finally provides reasonable refactoring functionality to the emulator, among other significant advantages. 
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h3 
	" Encodes
	$LF
]h3
[p 
	"There are two encodes.  The first one cuts out two long and boring waits in Raseir.  Probably the one to watch unless you're really interested in details of the screen transition time nudges.
	$LF
	(youtube|v=K5HItPrCC9w)
	$LF
]p
[p 
	"The second is the full encode, for those who want to manage the waits themselves (or just watch them).
	$LF
	(youtube|v=NZh8n-FxSAM)
	$LF
]p
[p 
	"Also, I've added a HUD to each to show what's going on with the game clock, where it's important.
	$LF
]p
[hr 
]hr
[p 
	[br 
	]br
	$LF
]p
[h3 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" 
		[b 
			"To become a Hero!
		]b
		" (
		[em 
			"again
		]em
		")
		$LF
	]li
	[li 
		" Plays on Hardest Difficulty
		$LF
	]li
	[li 
		" Aims for fastest time
		$LF
	]li
	[li 
		" Contains Speed/Entertainment Trade-offs
		$LF
	]li
	[li 
		" Emulator used: JPC-rr 11.2 (Modified with TASScript 2.0)
		$LF
	]li
	[li 
		" Game Version 1.102
		$LF
	]li
]ul
[p 
	[br 
	]br
	$LF
]p
[h3 
	" TAS Details
	$LF
]h3
[p 
	"My 
	[a class=intlink href=/5693S 
		"previous submission text
	]a
	" has all the major details of the tricks used to skip the elementals, manipulate in-game time, as well as the speed/entertainment trade-off in the run.  I won't repeat those here and just list the improvements.
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h3 
	" Improvements
	$LF
]h3
[h4 
	" Choosing the Right Character Class
	$LF
]h4
[p 
	"In my previous run, I wasted time by choosing a thief and giving him magic, whereas a basic wizard's stats are more than enough to finish the game.  This was probably the most embarrassing mistake in my first run and I'm glad to have it fixed, saving 0.3 seconds.
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h4 
	" Noun Stacking
	$LF
]h4
[p 
	"A nice feature of this version of the Sierra Creative Interpreter is that it only reads the first verb and the last noun you enter.  This allows you to use the same verb more than once for different nouns by stacking the nouns.  For example, you can "Buy Lamp" to purchase the lamp and then hit <F3> to bring up "Buy Lamp" again and add "Map" to the end of it to purchase the Map.  If you wanted to, you could then "Buy Lamp Map Incense" to get the incense and so forth.  Seeing as any time you type a key costs 0.1 seconds, eliminating unnecessary typing can add up to big savings fast.
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h4 
	" Click to Submit
	$LF
]h4
[p 
	"Speaking of eliminating unnecessary typing, you can submit your command by clicking on the text input box instead of typing Enter.  Since clicking is instantaneous compared to the 0.1 seconds to hit enter, it made for a big time saver.
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h4 
	" Command Buffering
	$LF
]h4
[p 
	"There are three places in the run where we are just waiting for the clock to tick down.  Each time, I pre-entered my next command so that I could then recall it later with a single <F3> key-hit.  The trick is that the clock doesn't tick when the text input box is open, so the commands I want to buffer have to be typed in the 1 second between clock ticks.
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h4 
	" Early Fragmentation Error
	$LF
]h4
[p 
	"In my last run, I encountered a fragmentation error after the final boss was defeated, preventing me from ending input early.  This time I sell two beards at the start of the run to trigger the error early, meaning the joke message doesn't appear when the fragmentation error happens a second time at the end of the run.  Thus, I can end input a little earlier.  As a side benefit, this also gives me enough money to noun-stack my purchases.
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h4 
	" Subframe Improvements
	$LF
]h4
[p 
	"Each frame at JPC-rr's default CPU speed is 14 milliseconds long and all the inputs in my previous submission were limited by that frame rate.  The TASScript 2.0 enhancement (see below) allows for extremely precise control of inputs, down to the sub-millisecond, and I took advantage of that to optimize many of my inputs within the 14 ms frame window.  There are certainly many more inputs that could be improved, however I think if I tried to sub-frame optimize every single input in this nine-minute TAS, it would never get submitted.  
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h3 
	" TASScript 2.0
	$LF
]h3
[p 
	"I have been working on this submission for over a year in my spare time, and the majority of that time has been writing the TASScript enhancement to JPC-rr.  I won't go into the details, as 
	[a class=intlink href=/Forum/T/20567 
		"I have created a separate thread for that
	]a
	", but it feels great to submit this as proof that the refactoring limitations of JPC-rr have finally been solved.  I hope that this opens up new possibilities for current DOS TASsers and lowers the complexity barrier of the emulator for new ones.  If you've ever considered doing a DOS TAS, but have been concerned about the usability of the JPC-rr emulator, now is a great time to give it a try with the TASScript enhancement.
	$LF
]p
[p 
	"In case you're interested, 
	[a class=extlink href=https://www.dropbox.com/s/bsk9x4eu6f870gc/QFG2-Refactor.TAS?dl=1 rel=nofollow 
		"here's the TASScript for this run
	]a
	".
	$LF
	[br 
	]br
	$LF
	[br 
	]br
	$LF
]p
[h3 
	" Files:
	$LF
]h3
[p 
	"HDD, 16 tracks, 63 sectors, 16 sides.
	$LF
]p
[table 
	[tbody 
		[tr 
			[th 
				"Timestamp
			]th
			[th 
				"MD5
			]th
			[th 
				"Size
			]th
			[th 
				"Filename
			]th
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"eeca13109c381afef6584d78daaccab2
			]td
			[td 
				"7976
			]td
			[td 
				"ADL.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"57a3da77af2b48851cf048e5752695fb
			]td
			[td 
				"2049
			]td
			[td 
				"CGA320M.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"4b5bd8739e73f44ce5562b93b2723287
			]td
			[td 
				"3734
			]td
			[td 
				"CMS.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"d80d8207b80d8d108c749a2d5629cb15
			]td
			[td 
				"3273
			]td
			[td 
				"EGA320.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"61f35eec8998802abe2118b26e0c9cfa
			]td
			[td 
				"574
			]td
			[td 
				"EXISTS.COM
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"4ff2dc339352972581da584cc0a8d2f1
			]td
			[td 
				"1782
			]td
			[td 
				"FONT.000
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"28d7efe8c850bfb52231fc58567e25cc
			]td
			[td 
				"507
			]td
			[td 
				"GODIR.COM
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"2bc97203eb593636d0271569e3c01f92
			]td
			[td 
				"2212
			]td
			[td 
				"HERCMONO.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"fdf344726b857a44934eb14dd0d37c59
			]td
			[td 
				"449
			]td
			[td 
				"IBMKBD.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"121983ae1b4df7c47986bd32f5790ab3
			]td
			[td 
				"4354
			]td
			[td 
				"IBMPS1.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"7271fb1d6430c1807584021e8d01dc58
			]td
			[td 
				"13355
			]td
			[td 
				"INST.EXE
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"20aeb5df74627a17202ff290925f5f1c
			]td
			[td 
				"2169
			]td
			[td 
				"INSTALL.BAT
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"e152f2bce8445fa4fba255d1668b8416
			]td
			[td 
				"6464
			]td
			[td 
				"INSTALL.HLP
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"549c24a94d6a602591909039f4bd9ac7
			]td
			[td 
				"727
			]td
			[td 
				"INSTGAME.BAT
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"c75b73974160ff652a909a0d01f97214
			]td
			[td 
				"607
			]td
			[td 
				"JOYSTICK.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"3a24c298a2d77b07d9459ba89d9bf375
			]td
			[td 
				"2745
			]td
			[td 
				"MCGA320.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"1216bb30f321c652909aa1c2239dd7d4
			]td
			[td 
				"1989
			]td
			[td 
				"MT32.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"fe18a816a08c89f245f9143642bf84eb
			]td
			[td 
				"212119
			]td
			[td 
				"RESOURCE.000
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"733686eea71255794a9762f683ac789f
			]td
			[td 
				"867866
			]td
			[td 
				"RESOURCE.001
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"3d5223fd488fb04025ba3199485a0756
			]td
			[td 
				"790750
			]td
			[td 
				"RESOURCE.002
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"f0544e220e3a5b66df2070d9638527b4
			]td
			[td 
				"972804
			]td
			[td 
				"RESOURCE.003
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"7cb86c2af9399b81a1f796a6b07aeeb3
			]td
			[td 
				"983617
			]td
			[td 
				"RESOURCE.004
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"f961b3028d27f36b778e10bfd78e3da0
			]td
			[td 
				"79
			]td
			[td 
				"RESOURCE.CFG
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"06d0cb2c9496d7d4494b0f37f2c6c4c2
			]td
			[td 
				"6906
			]td
			[td 
				"RESOURCE.MAP
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"2a20c5077e59902e84f26982b502c10a
			]td
			[td 
				"59150
			]td
			[td 
				"SCIV.EXE
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"48e6faeb6af8e540fed0523f17ec4c0d
			]td
			[td 
				"538
			]td
			[td 
				"SIERRA.COM
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"7ed06259b381a75fe4e761e4bbeb963d
			]td
			[td 
				"9672
			]td
			[td 
				"SNDBLAST.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"c645587408e33998e9fc6f51be4ee639
			]td
			[td 
				"500
			]td
			[td 
				"SPACE.COM
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"380f442686174ae0282b851ac4c1e765
			]td
			[td 
				"1448
			]td
			[td 
				"STD.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"f70edf481b1a320fd10190fe041c29cc
			]td
			[td 
				"4429
			]td
			[td 
				"TANDY.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"3e0716270e0953a5a64c95a9765b9c9f
			]td
			[td 
				"2999
			]td
			[td 
				"TANDY320.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"bf2856d43f4bc063fe20820651dc1657
			]td
			[td 
				"3893
			]td
			[td 
				"TANDY3V.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"da0e7a40996a64224d918069ef8adea9
			]td
			[td 
				"476
			]td
			[td 
				"TANDYKBD.DRV
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"04a413f79a5e15bcad59ae5d39824694
			]td
			[td 
				"10
			]td
			[td 
				"TRIAL.BAT
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"d4129050848dc8628e43b64ac751a28e
			]td
			[td 
				"900
			]td
			[td 
				"TSTDRIVE.EXE
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"26913b564c71d9fb7f83e0f4f165d999
			]td
			[td 
				"7
			]td
			[td 
				"VERSION
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"5511c133471681cab70295d860be96c4
			]td
			[td 
				"2449
			]td
			[td 
				"VOCAB.913
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"1d3beaac41d0d09790a47c8dc1cadf85
			]td
			[td 
				"112
			]td
			[td 
				"VOCAB.994
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"b99b2ceac1a672c6e4785b48d6dc11be
			]td
			[td 
				"609
			]td
			[td 
				"VOCAB.995
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"f230096194cc9791737b634b36ac7980
			]td
			[td 
				"590
			]td
			[td 
				"VOCAB.996
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"e501f7de3c7a3b68d6d11f0b965b6697
			]td
			[td 
				"8339
			]td
			[td 
				"VOCAB.997
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"0ef7f63b24dfe1bbeea28e2f8ede90d6
			]td
			[td 
				"1229
			]td
			[td 
				"VOCAB.998
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"df638320d85ee4029e6c3d62b86f7043
			]td
			[td 
				"1148
			]td
			[td 
				"VOCAB.999
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"e6a4bd8b2f3391791797d4a372c0a7ab
			]td
			[td 
				"27
			]td
			[td 
				"_HDTRIAL.BAT
			]td
		]tr
		[tr 
			[td 
				"19900101000000
			]td
			[td 
				"d7d2d88a7695db8e0f39bd81cd7eec9f
			]td
			[td 
				"1071
			]td
			[td 
				"_
				[em 
				]em
				"_
				[em 
				]em
				"INSTH.BAT
			]td
		]tr
	]tbody
]table
[hr 
]hr
[p 
	[a class=intlink href=/Users/Profile/Feos 
		"feos
	]a
	": Nice job with the improvements. Accepting to obsolete 
	(__wikiLink|/3551M|3551M)
	".
	$LF
]p
[p 
	"As for tier, it seems DOS games that we've published just 
	[a class=intlink href=/Movies-Moons-DOS-RatingE 
		"don't get too high
	]a
	" entertainment rating in general. But the current QfG2 publication is far from the bottom, so it makes sense to inherit the tier for this update.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Fsvgm777 
		"fsvgm777
	]a
	": Processing.
]p
