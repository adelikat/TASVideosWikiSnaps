4
[div class=p 
	"Little Ninja Brothers (also known as Super Chinese 2) is a RPG with action battles based on Kung-Fu Heroes (Super Chinese 1) gameplay, and the first of a series of similar RPG's on NES/GB/SNES (including Super Ninja Boy, Ninja Boy 2 and others Japan-only).
	$LF
]div
[div class=p 
	"I just felt like doing it after recently playing through the game, and it was one I attempted nearly 20 years ago (but didn't get far into at the time).
	$LF
]div
[ul 
	[li 
		" Recorded on FCEUX 2.2.3, syncs on FCEUX 2.6.6 (with either PPU core)
		$LF
	]li
	[li 
		" Any%, no passwords or debug code
		$LF
	]li
	[li 
		" RNG manipulation
		$LF
	]li
	[li 
		" 1 player, Hard difficulty
		$LF
	]li
]ul
[h3 id=RouteComments 
	" Route comments
	$LF
]h3
[div class=p 
	"I start by selecting 1 player mode and Hard difficulty:
	$LF
]div
[ul 
	[li 
		" 2 player mode could be more interesting, allow more RNG manipulation and maybe improve turn based battles, but would be much harder to optimize, and it doubles the required kill counts in action battles. This can also be switched at any town's convenience store, but would obviously waste time
		$LF
	]li
	[li 
		" The difficulty setting affects enemies' speed in action battles (Easy is slow, Hard is fast) and your starting attack power (1 on Hard, 4 otherwise, then +1 per level). I chose Hard for the faster action, and the reduced attack power doesn't make too much of a difference.
		$LF
	]li
]ul
[div class=p 
	"The intro sequence gives 160 sen (gold) and prism bell #1, with the eventual goal of collecting all 7 of them. Then we're off to 
	[del 
		"manipulate all encounters away
	]del
	" have a nice casual walk around the world.
	$LF
]div
[ul 
	[li 
		" RNG (at $0130-0132) advances once per frame and per call, so it's generally manipulated by delaying calls or adding some
		$LF
	]li
	[li 
		" Encounters are determined at each tile change (movement is per pixel) and can be manipulated by waiting or turning at specific pixels between tiles, but each direction change costs 1 frame. Several areas have 15-20% encounter rate per tile, so they normally happen quite often
		$LF
	]li
]ul
[div class=p 
	"The first priority is to get the Golden claw (+12 punch damage, second best weapon) since it's available for free from the start, only far away.
	$LF
]div
[div class=p 
	"I buy 5 whirly birds (warps to any previously visited town) on the way to visit Tub-A-Tummy which exits farther ahead, then I activate warp points at Cilly and Yokan, and enter Shorin where I get the Golden claw and fight the temple's scholars:
	$LF
]div
[ul 
	[li 
		" Punches do [attack+weapon] damage, kicks/jumps/sword do [attack] damage, so currently 13 and 1 (then both +1 per level up), and each enemy here has around 150-200 HP
		$LF
	]li
	[li 
		" Punching blocks has a few possible random effects:
		$LF
		[ul 
			[li 
				" Usually nothing
				$LF
			]li
			[li 
				" "?" ball that will either give one [M] (max 6) or lose them all, in a fixed sequence (approximately every 5th ball is bad, that's the ones I don't pick up). 6 [M] can then be spent on a "Mighty Ball"
				$LF
			]li
			[li 
				" Block is destroyed and respawns a bit later
				$LF
			]li
			[li 
				" Block is sent flying in a straight line, killing any enemy it hits (if vulnerable to it, which the ones here aren't)
				$LF
			]li
		]ul
	]li
	[li 
		" Some other battles (not here) have specific spots to punch for chests containing items or bonuses (not random), which will be useful too
		$LF
	]li
]ul
[ul 
	[li 
		" After each hit, they're invulnerable for 120 frames, so it's all about hitting once as early as possible and using only punches (unless one jump doesn't take an extra hit). They can't be hit while attacking or jumping, so I also have to make sure they don't do it at a bad time.
		$LF
	]li
	[li 
		" After every 3 hits, they stay knocked down for 2 seconds. I first use this spare time to pick up 6 [M] for later
		$LF
	]li
	[li 
		" Obviously I avoid getting hit since it wouldn't save time, and anything here would kill me in one hit
		$LF
	]li
	[li 
		" Destroying blocks delays a framerule slightly, that (if not properly aligned) can lose up to 15 frames after entering the door, so I've had to do that a few times
		$LF
	]li
	[li 
		" On the last battle, I repeatedly punch a block to advance RNG for the next part coming
		$LF
	]li
]ul
[div class=p 
	"After defeating them all, I earn the Amulet-III (protects against some curses, not useful here) and bell 
	[del 
		"#2
	]del
	" #5, then leave the town and move on.
	$LF
]div
[div class=p 
	"I immediately get 2 encounters, which have a Boo Bomb chest (that I'll need soon), 1 enemy to kill and good EXP.
	$LF
]div
[div class=p 
	"The next cave is completely dark and would require getting the Candle from a tower north of Shorin, but of course a TAS can see just fine anyway (I set a palette in PPU $3F04-3F07 while recording).
	$LF
	"Then I enter/exit Chatzy to activate the warp, and go through another dark cave that would require buying the Torch for 1050 sen (which I don't even have at this point).
	$LF
	"I walk past another tower, towards the first turn based battle in this run:
	$LF
]div
[ul 
	[li 
		" Punch/Kick damage works the same way as before, and Dragon Kick (unavailable for now, costs 1 [K]) does [attack*2] damage
		$LF
	]li
	[li 
		" Punch has a longer animation, so sometimes a weaker Kick is still worth using
		$LF
	]li
	[li 
		" Call lets Ryu join in 1 player mode, and he'll select Punch/Kick randomly (or Dragon Kick if used) for a second attack per turn. Here it just barely saved more time than it cost to use
		$LF
	]li
	[li 
		" I start by using a Boo Bomb to stun the enemy, which blocks the enemy's attacks, gives me 100% hit chance (instead of 30%), and avoids having to buy the Fire Shield for a 5% dodge chance (and wait several seconds per turn to manipulate multiple 30% and a 5% at once)
		$LF
	]li
	[li 
		" I then use the Mighty Ball for triple damage, and only have to manipulate Ryu's action and stun+mighty lasting forever, making the fight look extremely simple
		$LF
	]li
	[li 
		" 5 punches were just enough (270 HP, 54 per hit), not doing the 2 random encounters would require one more hit here
		$LF
	]li
]ul
[div class=p 
	"This gives the Eagle Sword and access to the Fire Castle, but now it's time to backtrack to the previously skipped areas.
	$LF
	"I return to Deli-Chous to fight Tub-A-Tummy, in a series of battles:
	$LF
]div
[ul 
	[li 
		" Each battle requires 8 kills (or 16 in 2 player mode) to open the door, which also has to be entered as fast as possible. The enemy sequence is fixed, but with random spawn locations (at regular intervals, up to 3 enemies on screen). Enemies don't become vulnerable until they move enough off the edge, and tend to stay there (and attack) if you're near them. This is where the real action begins, and the hardest part to optimize!
		$LF
	]li
	[li 
		" Battle 1: the jumping slugs can't be hit by punches, and the pigs survive one jump, I get 5 [K] (for long jumps or Dragon Kick) from a chest
		$LF
	]li
	[li 
		" Battle 2: ninjas spawn from random blocks and are vulnerable for a very short time before they jump out. I get another Boo Bomb on the way, and the shuriken powerup in a chest gives a ranged attack (with [attack] damage) but only for the rest of this battle
		$LF
	]li
	[li 
		" Battle 3: edge invulnerability is more apparent here and I had to wait a few times
		$LF
	]li
	[li 
		" Boss: the projectile throw causes significant lag and had to be dodged with jumps, and I refill the 6 [M] here while waiting between hits
		$LF
	]li
]ul
[div class=p 
	"This gives bell #2, then I warp to Cilly for the next series of battles:
	$LF
]div
[ul 
	[li 
		" Battle 1: all enemies here would survive one jump, and there's no diagonal jump movement on the screen edge
		$LF
	]li
	[li 
		" Battle 2: the block throw kill is seen here, the jumping frog requires a sword
		$LF
	]li
	[li 
		" Battle 3: the dragons have 60 HP and require a sword, so they're not worth killing (and get in the way a lot). I also pick up more [K] and a [*] (T-Star) here, for later
		$LF
	]li
	[li 
		" Battle 4: the bulls can't be hit by jumps, but go down very fast anyway
		$LF
	]li
	[li 
		" Boss: turn based, same strategy as before but now faster without Call, using 3 punches and a Dragon Kick
		$LF
	]li
]ul
[div class=p 
	"Then I get the antidote for bell #3, and go to Yokan:
	$LF
]div
[ul 
	[li 
		" Battle 1, 2: now enemies have enough HP to require 2 punches, and some have ranged attacks
		$LF
	]li
	[li 
		" Battle 3: I get a few [M] here while attacking, until the projectile spawns fill all slots
		$LF
	]li
	[li 
		" Battle 4: one enemy + 3 fakes randomly warp around and would take 5 hits, but some manipulation and a block throw make this one very short
		$LF
	]li
	[li 
		" Battle 5: enemies bounce back fast from punches, I get the remaining [M] here
		$LF
	]li
	[li 
		" Battle 6: enemies can't be hit while moving, constantly throw projectiles to dodge, can't be grouped fast enough to be hit together, and have 150 HP (at 20 per punch and 8 per jump now), so this is definitely the worst one to optimize. I considered using a Mighty Ball here (spawns on the edge at a random spot, makes you invincible, then walk into enemies to kill them) but would then immediately need another 6 [M] for the next battle, while avoiding Ryu coming for the combined attack, so I went without.
		$LF
	]li
	[li 
		" Boss: turn based, same strategy again, 4 punches
		$LF
	]li
]ul
[div class=p 
	"With bell #4, I now warp back to Chatzy and go through Fire Castle (dark again), fight Devillian (sword required, another [M] refill) and get bell #6, then enter Ling-Rang:
	$LF
]div
[ul 
	[li 
		" The Prism claw is available here by doing a minigame, but wouldn't do any good at this point (2 more punch damage), so it's skipped
		$LF
	]li
	[li 
		" Unlike all other towns, this one can't be warped back to. The menu entry does exist but never gets set, and entering the underground section sets Chatzy instead
		$LF
	]li
	[li 
		" I buy the Fixer here (800 sen), which works like Boo Bomb but uses 1 [*], only because this was slightly faster than getting one more Boo Bomb from random encounters. It's also buyable in Chatzy (1000) but too expensive at that time
		$LF
	]li
	[li 
		" Bell #7 in the palace requires all other bells. I first thought I could clear Yokan during the next trip to save a warp, got here and ... well, had to redo everything, then later realized the best time to buy whirly birds was at the beginning (not while visiting Shorin or Chatzy) and had to redo everything again
		$LF
	]li
]ul
[div class=p 
	"Long walk from Yokan to Shin-Shin tower, another dark cave, a game crash (not), free warp back to Ling-Rang (how nice it's possible just that one time) and the entrance to Mt. Cone-Rum can be opened, yet another cave and dungeon (which has a second path with 1 less door transition, but slightly longer).
	$LF
]div
[div class=p 
	"Then the final boss, defeated in a similar way again:
	$LF
]div
[ul 
	[li 
		" Fixer is used instead of Boo Bomb, but same effect
		$LF
	]li
	[li 
		" The boss has 512 HP, and now (with Mighty Ball active) Punch does 66, Kick 30, Dragon Kick 60
		$LF
	]li
	[li 
		" I used 1 kick, 2 punches, 6 dragon kicks, which was slightly faster than using mostly punches for 1 less hit
		$LF
	]li
]ul
[div class=p 
	"One last cutscene and this is it!
	$LF
]div
[h3 id=KnownPossibleImprovements 
	" Known/possible improvements
	$LF
]h3
[ul 
	[li 
		" It turns out Tub-A-Tummy can be killed in one hit with a flying block, unlike other bosses or stronger enemies (I only found out after finishing), but it would require getting 6 [M] elsewhere (in any of 7 battles, have fun routing it). This also gives the possibility of clearing Deli-Chous first, with only a few slow kills and a small backtrack (then save one warp and a few hits on Shorin's scholars), but not sure that would be faster
		$LF
	]li
	[li 
		" All of the (non boss) action battles could probably be improved more with a lot of experimentation or different RNG, but I already went through them multiple times (and of course, any change will give different RNG for the rest of the run)
		$LF
	]li
	[li 
		" I had enough [K] left over that could have been skipped or used more, but it was a minimal cost or potential time save
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/Darkman425 
		"Darkman425
	]a
	": Claiming for judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Darkman425 
		"Darkman425
	]a
	": The overall routing and item planning look solid. The bits of playaround during the action boss invulnerability periods were also fun in how coordinated they were with boss attacks. This one is just a fun watch for me overall. Nice work, and glad to see you're still around making some good TASes!
	$LF
]div
[div class=p 
	"Accepting to Standard.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/despoa 
		"despoa
	]a
	": Processing...
]div
