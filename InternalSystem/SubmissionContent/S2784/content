13
[div class=p 
	"While working on the New Game+ run, I found a few improvements for the any% run. These improvements include a couple of new shortcuts, better off-screen coordination with Tails, better control of Tails re-spawns and slightly improved precision; they combine to make an epic movie faster by 1226 frames in the in-game timer, which amounts to 832 frames faster in real time. Note that although neither Nitsuja nor Upthorn were actively involved in this improvement, they are listed as co-authors because their input comprises a large portion of the movie.
	$LF
]div
[div class=toc 
	[ul 
		[li 
			[ul 
				[li 
					[a href=#Gameobjectives 
						" Game objectives
						$LF
					]a
				]li
				[li 
					[a href=#Comments 
						" Comments
						$LF
					]a
					[ul 
						[li 
							[a href=#ComparisonTable 
								" Comparison Table
								$LF
							]a
						]li
					]ul
				]li
				[li 
					[a href=#Stagebystagecomments 
						" Stage by stage comments
						$LF
					]a
					[ul 
						[li 
							[a href=#Hydrocity1 
								" Hydrocity 1
								$LF
							]a
						]li
						[li 
							[a href=#Hydrocity2 
								" Hydrocity 2
								$LF
							]a
						]li
						[li 
							[a href=#MarbleGarden1 
								" Marble Garden 1
								$LF
							]a
						]li
						[li 
							[a href=#MarbleGarden2 
								" Marble Garden 2
								$LF
							]a
						]li
						[li 
							[a href=#LaunchBase1 
								" Launch Base 1
								$LF
							]a
						]li
						[li 
							[a href=#LaunchBase2 
								" Launch Base 2
								$LF
							]a
						]li
						[li 
							[a href=#FlyingBattery1 
								" Flying Battery 1
								$LF
							]a
						]li
						[li 
							[a href=#FlyingBattery2 
								" Flying Battery 2
								$LF
							]a
						]li
						[li 
							[a href=#LavaReef1 
								" Lava Reef 1
								$LF
							]a
						]li
						[li 
							[a href=#LavaReef2 
								" Lava Reef 2
								$LF
							]a
						]li
						[li 
							[a href=#SkySanctuary 
								" Sky Sanctuary
								$LF
							]a
						]li
					]ul
				]li
				[li 
					[a href=#Othercomments 
						" Other comments
						$LF
					]a
					[ul 
						[li 
							[a href=#PossibleImprovements 
								" Possible Improvements
								$LF
							]a
						]li
						[li 
							[a href=#Suggestedscreenshot 
								" Suggested screenshot
								$LF
							]a
						]li
					]ul
				]li
			]ul
		]li
	]ul
]div
[h3 id=Gameobjectives 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" Emulator used: Gens 11a + S3KCamhack + SolidityViewer + (partial)HitboxDisplay + 
		[a class=intlink href=/Forum/T/8827 
			"LUA HUD for Genesis Sonic games
		]a
		$LF
	]li
	[li 
		" Ignores delays caused by bonus effects
		$LF
	]li
	[li 
		" Aims for fastest (primarily in-game) time
		$LF
	]li
	[li 
		" Takes Damage to save time
		$LF
	]li
	[li 
		" Abuses death
		$LF
	]li
	[li 
		" Abuses programming errors
		$LF
	]li
	[li 
		" Counts time spent dying
		$LF
	]li
	[li 
		" One player controls two characters
		$LF
	]li
]ul
[h3 id=Comments 
	" Comments
	$LF
]h3
[div class=p 
	"Several levels are improved due to slightly better precision: notably, Hydrocity 1, the death sequence at the start of Hydrocity 2, Marble Garden 2, Launch Base 1, the cutscene after Launch Base 2 and Lava Reef 2. "Improved precision" in this context also includes improvements to the boss fights.
	$LF
]div
[div class=p 
	"Hydrocity 2 and Marble Garden 1 were improved mainly due to better off-screen manipulation of Tails, leading to better boss fights.
	$LF
]div
[div class=p 
	"Flying Battery 1 and 2 gained new shortcuts, resulting in the large share of the improvement of this revision.
	$LF
]div
[div class=p 
	"There are 20 frames worth of luck-manipulating pauses at the end of Sky Sanctuary; these are intended to put the Death Egg 1 mini-boss in a more favorable pattern. All other luck manipulation pauses from previous versions of the run have been eliminated.
	$LF
]div
[h4 id=ComparisonTable 
	" Comparison Table
	$LF
]h4
[table 
	[tbody 
		[tr 
			[th 
				"Act
			]th
			[th 
				"New Time
			]th
			[th 
				"Old Time
			]th
			[th 
				"Savings
			]th
		]tr
		[tr 
			[td 
				"Hydrocity 1
			]td
			[td 
				"0:33::05
			]td
			[td 
				"0:33::21
			]td
			[td 
				"16
			]td
		]tr
		[tr 
			[td 
				"Hydrocity 2 death
			]td
			[td 
				"0:09::09
			]td
			[td 
				"0:09::19
			]td
			[td 
				"10
			]td
		]tr
		[tr 
			[td 
				"Hydrocity 2
			]td
			[td 
				"0:25::24
			]td
			[td 
				"0:28::23
			]td
			[td 
				"179
			]td
		]tr
		[tr 
			[td 
				"Marble Garden 1
			]td
			[td 
				"0:30::07
			]td
			[td 
				"0:30::29
			]td
			[td 
				"22
			]td
		]tr
		[tr 
			[td 
				"Marble Garden 2
			]td
			[td 
				"0:35::36
			]td
			[td 
				"0:35::53
			]td
			[td 
				"17
			]td
		]tr
		[tr 
			[td 
				"Launch Base 1
			]td
			[td 
				"0:37::03
			]td
			[td 
				"0:37::41
			]td
			[td 
				"38
			]td
		]tr
		[tr 
			[td 
				"Post Launch Base cutscene 2
			]td
			[td 
				"0:17::53
			]td
			[td 
				"0:18::01
			]td
			[td 
				"8
			]td
		]tr
		[tr 
			[td 
				"Flying Battery 1
			]td
			[td 
				"0:56::16
			]td
			[td 
				"1:08::22
			]td
			[td 
				"726
			]td
		]tr
		[tr 
			[td 
				"Flying Battery 2
			]td
			[td 
				"1:11::21
			]td
			[td 
				"1:14::48
			]td
			[td 
				"207
			]td
		]tr
		[tr 
			[td 
				"Lava Reef 2
			]td
			[td 
				"0:21::41
			]td
			[td 
				"0:21::44
			]td
			[td 
				"3
			]td
		]tr
	]tbody
]table
[div class=p 
	"Total savings: 1226 frames (20 seconds and 26 frames) in in-game time, 832 frames (13 seconds and 52 frames) in real time. Differences in lag and the removal of the aforementioned pauses compensated each other almost completely; but I gained a net 6 frames in real time from the balance.
	$LF
]div
[div class=p 
	"The table shows the in-game timer values. The value after the final colon indicates the in-game frame counter, and is restricted to the 0-59 range. It is updated every frame (except during lag frames), and increments the in-game second when resetting to zero.
	$LF
]div
[h3 id=Stagebystagecomments 
	" Stage by stage comments
	$LF
]h3
[h4 id=Hydrocity1 
	" Hydrocity 1
	$LF
]h4
[div class=p 
	"There was a substantial delay between the last two hits in the boss; with a slight change of velocity manipulation, it was possible to eliminate that delay. This was discovered by accident because I needed to manipulate Sonic's subpixel position to improve the death sequence at the beginning of the next act.
	$LF
]div
[h4 id=Hydrocity2 
	" Hydrocity 2
	$LF
]h4
[div class=p 
	"The death sequence is improved in precision.
	$LF
]div
[div class=p 
	"For the normal portion of the act, I manipulate Tails to stay on-screen longer at the start of the level; this way, his re-spawn is delayed enough that he gets teleported along with Sonic to the boss. Heavy off-screen coordination of Tails and Sonic allow me to get Tails flying above the top of the screen boundary at the boss, for a much faster boss fight.
	$LF
]div
[h4 id=MarbleGarden1 
	" Marble Garden 1
	$LF
]h4
[div class=p 
	"Manipulating Tails offscreen allows him to reach the boss faster.
	$LF
]div
[h4 id=MarbleGarden2 
	" Marble Garden 2
	$LF
]h4
[div class=p 
	"Improved precision when going inside the wall gives 8 frames because Sonic falls faster into the wall. The boss configuration is much more favorable, giving the rest of the improvement in this level.
	$LF
]div
[h4 id=LaunchBase1 
	" Launch Base 1
	$LF
]h4
[div class=p 
	"The better boss fight gives a better time for the act. I delay the death at the end by 2 frames (by holding the jump button for 1 more frame) to manipulate the timing of the first flamethrower in the next act; if I didn't, it would harm Sonic.
	$LF
]div
[h4 id=LaunchBase2 
	" Launch Base 2
	$LF
]h4
[div class=p 
	"Better positioning after the boss is killed slightly reduces the transition cutscene.
	$LF
]div
[h4 id=FlyingBattery1 
	" Flying Battery 1
	$LF
]h4
[div class=p 
	"The first improvement found for the any% run; I found this while working on the New Game+ run. The handle causes Sonic to fall to the ground several times, and makes for a jerky motion horizontally -- it is this jerkiness allows me to enter the wall. I must enter the wall to get both the handle 
	[b 
		"and
	]b
	" Tails offscreen while I jump off and hit the "ground" in the wall; anything else will cancel the anti-gravity glitch.
	$LF
]div
[h4 id=FlyingBattery2 
	" Flying Battery 2
	$LF
]h4
[div class=p 
	"The above improvement placed some timed objects in very inconvenient positions in the level, preventing me from using the route from the old movie. Undaunted, I found another one faster :-)
	$LF
]div
[h4 id=LavaReef1 
	" Lava Reef 1
	$LF
]h4
[div class=p 
	"Several frames worth of pauses were removed from the end of Sandopolis 2. This forced me to replay the boss battle which had desynched due to differences in luck.
	$LF
]div
[h4 id=LavaReef2 
	" Lava Reef 2
	$LF
]h4
[div class=p 
	"At the very end, an extra rev in the spindash not only is possible, but saves 2 frames due to the higher speed; the earlier jump to the platform saves the other frame.
	$LF
]div
[h4 id=SkySanctuary 
	" Sky Sanctuary
	$LF
]h4
[div class=p 
	"Instead of adding pauses to correct the desynch, I simply replayed the boss battle, given that the attack pattern was as favorable as it was in the 
	[a class=intlink href=/2460S 
		"previous run
	]a
	".
	$LF
]div
[h3 id=Othercomments 
	" Other comments
	$LF
]h3
[div class=p 
	"For more comments about the run, see the comments from the 
	[a class=intlink href=/2460S 
		"previous run
	]a
	", as well as the runs that it obsoletes.
	$LF
]div
[div class=p 
	"I started the run from the 
	[a class=intlink href=/2460S 
		"previous run
	]a
	", keeping the rerecord count and splicing in the unchanged input as needed.
	$LF
]div
[div class=p 
	"I also corrected the version of the run to the correct value (version 7) as discussed 
	[a class=intlink href=/Forum/T/8764#219724 
		"here
	]a
	".
	$LF
]div
[div class=p 
	"I wish to thank Nitsuja and Upthorn for making the previous run(s), as well as improving the tools for making runs.
	$LF
]div
[h4 id=PossibleImprovements 
	" Possible Improvements
	$LF
]h4
[div class=p 
	"In Marble Garden 2, there is 
	[em 
		"one
	]em
	" of Robotnik's attack patterns which allows a 1 frame improvement; it takes much longer to manipulate it (with pauses or by loitering) than it is worth, unless one were to gain enough frames in the preceding levels to manipulate this attack pattern (
	[b 
		"not
	]b
	" an easy task).
	$LF
]div
[div class=p 
	"If one were to replay the Death Egg 1 boss, up to 20 frames in real time (but none in in-game time) might be saved by removing the pauses at the end of Sky Sanctuary. However, most of the boss attack patterns in that range are highly unfavorable and probably slower to kill; in all likelihood, at most about 10 frames of pauses might be gained by replaying the fight. Again, this would only be a gain in real time; in in-game time, no frames can be gained from this.
	$LF
]div
[div class=p 
	"With the same input and the same position (right down to the same subpixel position), the death at the start of Hydrocity 2 can be 1 frame faster -- Sonic even dies at the same frame, but the timer stops 1 frame earlier. Likewise, the post-Launch Base 2 cutscene can be 2 frames faster by standing in the same exact position. I don't know what causes these differences, but it is probably related to cumulative differences in execution, as they usually occur when the preceding levels have changed in length (up or down). If one were to gain "enough" frames in the preceding levels (again, 
	[b 
		"not
	]b
	" an easy task), these "extra" frames 
	[em 
		"might
	]em
	" simply just go away; I have no idea what would constitute "enough" frames for this to happen, though.
	$LF
]div
[div class=p 
	"I am not aware of any other improvements at this time.
	$LF
]div
[h4 id=Suggestedscreenshot 
	" Suggested screenshot
	$LF
]h4
[div class=p 
	"Frame 59745:
	$LF
]div
[div class=p 
	[img class=embed src=http://img820.imageshack.us/img820/2268/76439220.png 
	]img
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/sgrunt 
		"sgrunt
	]a
	": Removing the branch tag for consistency with previous runs.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/marzojr 
		"marzojr
	]a
	": Updating and linking in suggested screenshot.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/adelikat 
		"adelikat
	]a
	":  Accepting for publication as an improvement to the published movie.
]div
