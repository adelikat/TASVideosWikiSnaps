10
[p 
	"Cratermaze (AKA Doraemon: Meikyū Daisakusen) is a game where you must collect 16 chests and a key and then head to the exit. Monsters will chase you, and you can use a variety of powerups including your trusty long distance shovel to dispatch them. The game was originally for the PC-Engine/TurboGrafx-16, but was rereleased for WiiWare.
	$LF
]p
[p 
	(youtube|v=QkABRFnh8jI)
	$LF
]p
[h3 id=Gameobjectives 
	" Game objectives
	$LF
]h3
[p 
	"This movie beats all 60 levels on "difficult" mode, aiming for fastest time.
	$LF
]p
[h3 id=Comments 
	" Comments
	$LF
]h3
[p 
	"This is the fastest (only?) speed run of Cratermaze. I discovered many new tricks, such as ways to use doors to jump over water, and abuses in pixel alignment when walking up and flickering right or left. Many of these I didn't discover until halfway through the game, so I ended up rerecording the first 30 levels at least 3 times to incorporate new paths and optimizations.
	$LF
]p
[p 
	"The majority of the time in each level's input is just getting from one chest to the next. Choosing the best order is the main way to go fast. In order to optimize the path to the 16 chests, key, and exit, I wrote scripts to export the game map, solve for frame distances between each objective, and then plugged that into another script to get an approximate best order.
	$LF
]p
[p 
	"The key has a preference to spawn to the top left of the last chest. This isn't always possible, and it also varies depending on currently unknown factors. However this preference is good enough to get a near optimal suggestion.
	$LF
]p
[h3 id=Stagebystagecomments 
	" Stage by stage comments
	$LF
]h3
[h4 id=Stage1 
	" Stage 1
	$LF
]h4
[p 
	"While Oli is moving at normal speed, digging holes doesn’t actually slow him down. In Difficult mode, he can fall in his own holes, but he is invulnerable for the first 3 seconds of the timer. When you dig holes it raises a counter. When the counter reaches 256, an item spawns (HU-Card) which is worth a bunch of points. I never actually collect it, so this is just for fun. There is also a secret Maximum-Shovel item hidden above the red thing on that house. It probably costs a couple frames to get this item even though I don’t need it, but it’s pretty cool to have this early, and I didn’t find any record of this secret so I’m revealing it here.
	$LF
]p
[h4 id=Stage2 
	" Stage 2
	$LF
]h4
[p 
	"Going slow is really painful. I want to go fast as soon as possible. Lucky for me, I stumbled upon another secret item in this level (this one is actually really useful!). Digging next to the bush will give a ninja shoe, which maxes out your running speed. I make a bee-line for the shoe before finishing the rest of the level. The character now is maxed out for speed and shovels.
	$LF
]p
[h4 id=Stage3 
	" Stage 3
	$LF
]h4
[p 
	"I take advantage of invuln frames to walk on water. This lets me skip 2 warp trips, worth about 10s. I continue to walk over the enemies in the holes because otherwise my velocity goes to 0, so it’s better to keep moving. The last chests I have to collect in a weird order to get the best key spawn. 
	$LF
]p
[h4 id=Stage4 
	" Stage 4
	$LF
]h4
[p 
	"Fun fact: This is one of only 2 stages in the game where the warps don’t have a 1:1 correspondence.  Two warps both exit at a single warp, which means one of them is not used as an exit.
	$LF
]p
[h4 id=Stage5 
	" Stage 5
	$LF
]h4
[p 
	"First example of those annoying robots. I need to take a weird path, and still get stuck by them twice. On all future robot levels, just imagine I tried ~10 different paths to optimize the robot positions, because I did for most of them. They have a bad habit of always being in the way, and they move slower than our character.
	$LF
]p
[h4 id=Stage6 
	" Stage 6
	$LF
]h4
[p 
	"The NEC item which appears at the end of every level spawns shortly after getting the key. It’s just points.
	$LF
]p
[h4 id=Stage7 
	" Stage 7
	$LF
]h4
[p 
	"I play with a bubble gun. The bridges near the south are scary because you can’t dig holes on them, so I’m careful to make sure the green monster doesn’t get in the way with some luck manipulation.
	$LF
]p
[h4 id=Stage9 
	" Stage 9
	$LF
]h4
[p 
	"The player can move both horizontal and vertical when going around corners.  I use this for some big speed here. Going horizontal 1 square is about 8 frames at max speed, but going diagonal is between 10 and 12.
	$LF
]p
[h4 id=Stage10 
	" Stage 10
	$LF
]h4
[p 
	"I think this is the first spot I use a to jump over water. It requires almost pixel perfect timing, or else you fall in the water. Also shows off the YoYo.
	$LF
]p
[h4 id=Stage14 
	" Stage 14
	$LF
]h4
[p 
	"I got a little silly with the door jumps. It’s probably a mistake.
	$LF
]p
[h4 id=Stage15 
	" Stage 15
	$LF
]h4
[p 
	"Saved our first friend.
	$LF
]p
[h4 id=Stage18 
	" Stage 18
	$LF
]h4
[p 
	"The character is lazy and just walks around the door at the start. This trick is actually easy to do in normal play. For a few frames he is inside the door, which I discovered near the end of the game. As a result I miss a boost which would save about 16 frames here. The springs blocking the exit make the keyspawn here really annoying. No choice but to go through twice.
	$LF
]p
[h4 id=Stage22 
	" Stage 22
	$LF
]h4
[p 
	"This level is cool. I use invuln frames to walk on water then use upward flickering (5 up, 1 left/right) to move faster than the camera can scroll.
	$LF
]p
[h4 id=Stage24 
	" Stage 24
	$LF
]h4
[p 
	"Another nice shortcut over water.
	$LF
]p
[h4 id=Stage26 
	" Stage 26
	$LF
]h4
[p 
	"The fish on this level are no match for my flickering. I successfully avoid all waiting through judicious use of this trick.
	$LF
]p
[h4 id=Stage27 
	" Stage 27
	$LF
]h4
[p 
	"In the TAS I make it look effortless but make no mistake this level is a nightmare. I probably tried 20 different times, and found every frame I could save. The first robot I pass within 2 frames of getting killed before I enter the winding area. I catch the robots a good mood and they let me pass with minimal blocking after that. The last robot blocks the exit 2 frames after I finish the level (I know because I kept running into it). Digging a hole costs about 4 frames, so one more hole anywhere in the level would add several seconds to the level.
	$LF
]p
[h4 id=Stage29 
	" Stage 29 
	$LF
]h4
[p 
	"An enemy falls in a non-existent hole at the end of the level. Weird
	$LF
]p
[h4 id=Stage30 
	" Stage 30
	$LF
]h4
[p 
	"BOSS STAGE! Because it’s wide open, all the tricks related to diagonal movement, and upward movement can be abused to their fullest. I exit the level so fast, that don’t actually get the 100,000 bonus points.  Second friend is saved.
	$LF
]p
[h4 id=Stage31 
	" Stage 31
	$LF
]h4
[p 
	"This level is much more mazelike than other levels. There are also a couple corridors which are 100% blocked by a robot on patrol. A helmet would be nice here, because it could open up some possible paths I didn’t consider by walking over the bots. Due to the snakeyness  the level, I have to pick a chest that’s a bit far from the door to avoid major backtracking for the key.
	$LF
]p
[h4 id=Stage33 
	" Stage 33
	$LF
]h4
[p 
	"Around 29:42 I get to an area which looks a lot like other areas in this game. The difference is the doors here are spaces in such a way that I can get 4 door boosts in a row! The problem is that by the time I got to the third door, I was already only 1 tile away from the screen edge, and a door boost will send me +2 tiles in such a way that the camera can’t keep up. This results in looping to the left side of the screen and getting temporarily inside of a building. As a result I have to slow down so the camera can catch up.
	$LF
]p
[h4 id=Stage35 
	" Stage 35
	$LF
]h4
[p 
	"It’s around this point when I really started to notice the repetition in the levels. 
	$LF
]p
[h4 id=Stage45 
	" Stage 45
	$LF
]h4
[p 
	"Friend 3 saved. We see a big evil guy, who is presumably the boss.
	$LF
]p
[h4 id=Stage49 
	" Stage 49
	$LF
]h4
[p 
	"This is the other level in the game which has warps that aren’t 1:1. 
	$LF
]p
[h4 id=Stage54 
	" Stage 54
	$LF
]h4
[p 
	"This level has some interesting possible paths if you use the doors to jump the water. Unfortunately it’s a one way trip in most cases, so hard to take advantage of, as you’ll still need to backtrack.
	$LF
]p
[h4 id=Stage57 
	" Stage 57
	$LF
]h4
[p 
	"An enemy spawned a bomb powerup. I never show it off. It’s just like bomberman. 
	$LF
]p
[h4 id=Stage58 
	" Stage 58
	$LF
]h4
[p 
	"This level is pretty fun. Unique level tiles, plenty of water to do tricks with.
	$LF
]p
[h4 id=Stage60 
	" Stage 60
	$LF
]h4
[p 
	"BOSS TIME! The path I was going to take was actually way too fast. I kept getting really high on the screen, and he *will* kill you if he covers you up. As a result I’m forced to purposely delay and try to manage the camera to keep him from covering the chests. There was no chest nearby the exit, so I can’t make it to the door before the bonus points get collected. I pick up my first NEC bonus just before exiting and collecting my prize: My fourth friend, and about a millions kisses.
	$LF
]p
[h4 id=Ending 
	" Ending
	$LF
]h4
[p 
	"We go back to our time, and immediately start thinking about cake and beating each other up. The end. 
	$LF
]p
[h3 id=Othercomments 
	" Other comments
	$LF
]h3
[ul 
	[li 
		" I never did figure out how the item drops from enemies work. If someone could figure that out (specifically if they can manipulate Helmets to drop), then major improvements could be made to any level with robots in it. 
		$LF
	]li
]ul
[ul 
	[li 
		" Also I realized late in the process that you can unlock level 1 of Expert mode with the passcode Blue Right, Blue Back, Blue Right, Red Forward. Presumably it’s the same levels as Difficult mode with faster/more  enemies.
		$LF
	]li
]ul
[ul 
	[li 
		" Overall this run uses nearly optimal paths, though I did miss a few door boosts. It’s possible there are frames to be saved by carefully going through the paths and choosing slight detours that allow more doors to be used, or with changes in enemy behavior due to luck manipulation.
		$LF
	]li
]ul
[ul 
	[li 
		" I did find a way to loop around the screen (3 door jumps to the right without stopping). It didn’t seem useful, however, because the chests behind you usually have already collected. I thought maybe there could be a place where you could clip past a wall to avoid taking a warp or spring, but I didn’t see any.
		$LF
	]li
]ul
[ul 
	[li 
		" Additionally, I didn’t investigate if looping the screen caused a memory overflow. Since it can happen as early as level 33, if there is any useful way to abuse a memory glitch there, there is nearly 30 minutes of game time after that point which could maybe take advantage of it.
		$LF
	]li
]ul
[hr 
]hr
[p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": Updated with 
	[a class=intlink href=/Userfiles/Info/25943608464033400 
		"a new file
	]a
	" that truncates 8571 frames of blank input at the end. 220000 frames > 211429 frames.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": Updated with 
	[a class=intlink href=/Userfiles/Info/25950981317621192 
		"another new file
	]a
	" with further fixed ending input. 211429 frames > 211421 frames.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": One last file replacement, since the last one was a frame short of finishing the game. 211421 frames > 211422 frames.
	$LF
]p
[hr 
]hr
[p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": Judging...
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": This is an excellent run of a game that, unfortunately, isn't too suited too well for entertainment. The route planning looks tight and the entire run looks well-executed. I've verified that this is not just the fastest known time for this game... but that this is the first TAS and speedrun of this game (to the extent of my searching at least).
	$LF
]p
[p 
	"All in all, the run's optimized enough to make it to the site. Audience feedback is mixed for the most part, so I'm accepting it to Vault.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/Spikestuff 
		"Spikestuff
	]a
	": Soon to be a Barbie Girl, in a Barbie World. 
	[small 
		[small 
			"Wrong game. Shut it.
		]small
	]small
]p
