3
[div class=p 
	"Have you ever used your phone to record a landscape in portrait mode? The future is now. Earlier this year TASVideos officially started having a mobile-friendly website. No better time than now to submit a mobile-friendly movie.
	$LF
]div
[div class=p 
	"Have you ever used your phone to play Super Mario World? The past is now. The imprecision of the touch screen and the total lack of useful buttons make for an experience. Mobile versions of games accommodate by removing all interesting gameplay controls. Truly the pinnacle of gaming.
	$LF
]div
[h3 id=GameObjectives 
	" üèÅ Game objectives
	$LF
]h3
[ul 
	[li 
		" üì±.
		$LF
	]li
	[li 
		" Fall.
		$LF
	]li
	[li 
		" I can't believe they made a mobile version of the game.
		$LF
	]li
	[li 
		" Beat the game!
		$LF
	]li
]ul
[h3 id=Comments 
	" üí¨ Comments
	$LF
]h3
[div class=p 
	"Welcome to my 12th entry in April Fools Day submissions featuring Super Mario World! This year I thought I'd follow the trend to make everything on the internet use portrait orientation. So why not convert our lovely retro games as well? Who needs widescreen hacks if you can have tallscreen hacks.
	$LF
]div
[div class=p 
	"From this point I will assume you already watched the run.
	$LF
]div
[h4 id=Explanation 
	" ü§î Explanation
	$LF
]h4
[div class=p 
	"You might have noticed while Mario is falling towards the goal the rest of the game still works with regular gravity and physics. And this becomes much more apparent when watching the run in the emulator. The rotation is a video editing trick and Mario is actually falling sideways.
	$LF
]div
[div class=p 
	[img class=embedright mw-100 src=https://gist.githubusercontent.com/Masterjun3/43b2e6e8f1a9ce394a325ee746679756/raw/2f1ff5d81b76c7e1361d054567ed5c5f1425d482/fullanim.png 
	]img
	$LF
]div
[h4 id=Control 
	" üéÆ Control
	$LF
]h4
[div class=p 
	"As I've mentioned in the past, there are two types of playing around with ACE. The easy type and the difficult type.
	$LF
]div
[div class=p 
	"When you have total control over a system, you actually only have control over the CPU and all types of RAM, which also means audio and video. And so the easy type of manipulation is creating a new experience, a new game, or a new program.
	$LF
]div
[div class=p 
	"The only part you can't control is the ROM, after all it's Read-Only Memory. And here lies the problem. The ROM contains all of the data to execute the currently running game. If you want easy manipulation you can't use any large chunks of the ROM. This is the difficult type, once you start a routine inside the ROM you're locked in.
	$LF
]div
[div class=p 
	"As a metaphor, the easy type is breaking out of jail to use limited resources to create a new building where you can do whatever you want.
	[br 
	]br
	$LF
	"The difficult type is breaking out of jail just to go back in and hope whatever changes you made outside allows you to eventually break out soon enough.
	$LF
]div
[div class=p 
	"As you can tell from the run, most of the game is still intact. So this is the difficult type of manipulation.
	$LF
]div
[h4 id=Physics 
	" ü™ê Physics
	$LF
]h4
[div class=p 
	"Mario falling sideways is not a feature of Super Mario World. (It does have sideways running up a wall, but that's an extreme edge case with a lot of code just for the ~4 times it's used in the game.) The reason why the video still looks somewhat authentic is because I recreated the physics and simulated every frame sideways and wrote them to the Mario speed addresses.
	$LF
]div
[div class=p 
	"However, since I have to let the game run normally the regular physics are also executed every frame. I decided to let the game handle collisions with blocks and enemies, and just override the speed. This results in some weird looking interactions and especially a lot of clipping into blocks. I tried to move around as naturally as possible. Well except for when I wanted to accomplish something more interesting, like the Big Boo boss fight. Speaking of boss fights.
	$LF
]div
[h4 id=Bosses 
	" üëæ Bosses
	$LF
]h4
[div class=p 
	"Sorry, the mobile version has simplified bosses. That's just how mobile versions are.
	$LF
]div
[h4 id=SnesPpu 
	" üñºÔ∏è SNES PPU
	$LF
]h4
[div class=p 
	[img class=embedright mw-100 src=https://i.imgur.com/bVLiOog.png 
	]img
	$LF
]div
[div class=p 
	"The SNES Picture Processing Unit truly has amazing features. Did you know rotating tiles is 
	[b 
		"not
	]b
	" one of them? It can flip vertically and horizontally, it can prioritize tiles and change the palette on the fly. But rotating? Nope.
	$LF
]div
[div class=p 
	"For this movie I had to rewrite the entire tileset of Mario graphics to turn every single tile sideways. While the game was running of course. It was also interesting to find every instance of horizontal flipping when turning and all that, and turn it into vertical flipping, because that's how it works now.
	$LF
]div
[div class=p 
	"Every additional moving part made this more complicated, because not only did I have to reposition the tiles sideways, I had to recalculate the offsets. The upper tile of Mario, the lower tile, and the cape tile. I gave up at the swimming feet tiles, because apparently those aren't part of Mario's tileset so I couldn't easily rotate them.
	$LF
]div
[h4 id=Video 
	" üé• Video
	$LF
]h4
[div class=p 
	"You might have noticed the encode showing more of the level than an emulator, similar to so-called Atlas videos. I used a Lua script to draw outside the screen using live level data. It's not perfect and in certain situations you can clearly see the original edges, but overall it was good enough for this run.
	$LF
]div
[div class=p 
	"There are issues whenever Layer 3 is involved. Usually it's only Layer 1 for level tiles and Layer 2 for the background. But occasionally the game uses Layer 3 for things like moving water or smashing spikes. I had only just made Layer 2 work last minute, so I skipped the rare Layer 3. (I also ran into a lsnes specific bug where drawing outside the screen over both the gap area and left edge of the game area would write pixels out of bounds and crash the emulator.)
	$LF
]div
[div class=p 
	"Of course no enemies or sprites can be seen. This is partly because... well... they don't exist off-screen, they despawn, most do at least. They do exist beyond a small area outside the game screen, but the varying animation tiles require running actual subroutines of the game to get the proper poses. This was too big of a challenge for a barely noticable effect because most despawn soon anyway.
	$LF
]div
[div class=p 
	"Another noticable artifact is the mosaic effect or lack thereof in the added area. This could have been simulated, but with all the bitmap drawings existing I was already running out of Lua memory. Yes there is a lot of memory overhead. This is all done pixel by pixel and the performance was already poor. I also dreaded the docs saying "Note that mosaic is applied after scrolling, but before any clip windows, color windows, or math." I really don't want to recreate a snes rendering pipeline in Lua. I also didn't want to look into the maths of the fadeout circle.
	$LF
]div
[div class=p 
	"I do think when it's working it looks nice! :D
	$LF
]div
[div class=p 
	[a href=https://i.imgur.com/Gs1TZ8R.png rel=noopener external nofollow 
		[img class=embed mw-100 src=https://i.imgur.com/Gs1TZ8R.png 
		]img
	]a
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": great, thanks, now i'm going
	[br 
	]br
	$LF
	"to have to format my judgement notes to
	[br 
	]br
	$LF
	"fit on a mobile device. please use your deve-
	[br 
	]br
	$LF
	"loper privileges to turn the site into an agree-
	[br 
	]br
	$LF
	"able mobile version, thanks in advance.
	$LF
]div
[div class=p 
	"it's called a phone btw
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": Okay, I'm going to admit some-
	[br 
	]br
	$LF
	"thing straight up. I have literally no idea how
	[br 
	]br
	$LF
	"to approach this. Like... As per usual, the bar
	[br 
	]br
	$LF
	"for your AFD submissions remains at the high-
	[br 
	]br
	$LF
	"est 50 star mark, so please enjoy your, like, 5th
	[br 
	]br
	$LF
	"or 6th rotatey-symboly minigame on my behalf,
	[br 
	]br
	$LF
	"but with the amount the site has changed since
	[br 
	]br
	$LF
	"last year, COINCIDENTALLY WITH YOUR HELP,
	[br 
	]br
	$LF
	"it became a lot more difficult to differentiate be-
	[br 
	]br
	$LF
	"tween submissions that are Quite Obvious Reject-
	[br 
	]br
	$LF
	"s, and submissions that could conceivably go to
	[br 
	]br
	$LF
	"Playground. Y'know, that thing you coded into
	[br 
	]br
	$LF
	"the site and all that.
	$LF
]div
[div class=p 
	"This is not a Quite Obvious Reject anymore. In
	[br 
	]br
	$LF
	"fact, this is the first of your AFD submissions th-
	[br 
	]br
	$LF
	"at I've personally judged in which that is the cas-
	[br 
	]br
	$LF
	"e. As nice as it would have been to find some sort
	[br 
	]br
	$LF
	"of loophole like "it won't end in the lifetime of our
	[br 
	]br
	$LF
	"universe" or "it doesn't sync without a couple RAM
	[br 
	]br
	$LF
	"pokes", there is theoretically nothing wrong with th-
	[br 
	]br
	$LF
	"is run, apart from me stubbornly sticking to a joke
	[br 
	]br
	$LF
	"in my judgement notes that's going to bite me in
	[br 
	]br
	$LF
	"the ass given that it's being taken somewhat seri-
	[br 
	]br
	$LF
	"ously.
	$LF
]div
[div class=p 
	"The only judgement loophole I can think of is,
	[br 
	]br
	$LF
	"sadly, to just reject it on the basis of it not being
	[br 
	]br
	$LF
	"meant as a serious submission to begin with. It's
	[br 
	]br
	$LF
	"not perfect, and I'm not saying I'm looking for an
	[br 
	]br
	$LF
	"excuse to reject it, but it severely simplifies things
	[br 
	]br
	$LF
	"for the near future while we try and figure out the
	[br 
	]br
	$LF
	"direction that Playground, and the site itself, is goi-
	[br 
	]br
	$LF
	"ng to be going in.
	$LF
]div
[div class=p 
	"Don't get me wrong, I'm glad to have the issue of
	[br 
	]br
	$LF
	""oh no, the site's more accepting now and I don't
	[br 
	]br
	$LF
	"know how to handle that yet", but I'm not exactly
	[br 
	]br
	$LF
	"glad to have the resulting issue of "oh no, there's
	[br 
	]br
	$LF
	"almost 100 submissions on the workbench right
	[br 
	]br
	$LF
	"now". In terms of keeping things running smoot-
	[br 
	]br
	$LF
	"hly, it's safer to stick this on the backburner and
	[br 
	]br
	$LF
	"focus on ensuring everything else is processed.
	[br 
	]br
	$LF
	"In that case, I'm gonna stick this on the backburn-
	[br 
	]br
	$LF
	"er.
	$LF
]div
[div class=p 
	"Also, I want to stop this gimmick now. It's real fu-
	[br 
	]br
	$LF
	"nny, but it's getting pretty annoying to maintain.
]div
