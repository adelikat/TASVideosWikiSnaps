17
[p 
	[b 
		"Special Links
	]b
	": 
	[a class=extlink href=http://www.youtube.com/watch?v=BnE1vTjwv70 rel=nofollow 
		"Youtube
	]a
	", 
	[a class=extlink href=http://www.nicovideo.jp/watch/sm8093884 rel=nofollow 
		"NicoNico
	]a
	" (with extra displays; 
	[a class=extlink href=http://dic.nicovideo.jp/v/sm8093884 rel=nofollow 
		"watch w/o register
	]a
	"), 
	[a class=extlink href=http://d.hatena.ne.jp/GOCHA/20090831/DawnOfSorrowTAS rel=nofollow 
		"日本語
	]a
	$LF
]p
[p 
	"Castlevania: Dawn of Sorrow is a one of famous Castlevania games,
	$LF
	"and it is also the sequel to 
	[a class=intlink href=/1129M 
		"Castlevania: Aria of Sorrow (GBA)
	]a
	".
	$LF
]p
[p 
	"I recommend downloading my 
	[a class=extlink href=http://code.google.com/p/dawnofsorrow/downloads/list rel=nofollow 
		"release package
	]a
	" as it includes the movie file as well as other accessories such as memory watch files, lua scripts, etc. 
	$LF
]p
[p 
	"This run aims for the fastest time to complete the game with the good ending, on normal difficulty.
	$LF
	"The run starts with no predefined save, but it completes the game in 8 minutes and 20.12 seconds,
	$LF
	"by utilizing a variant of a famous zipping glitch.
	$LF
	"The in-game completion time of this run should be 00:07:18 (26310 frames),
	$LF
	"but since game timers have been overwritten by a glitch,
	$LF
	"it is shown as 00:43:43 after the game has been completed.
	$LF
]p
[ul 
	[li 
		" Emulator used: 
		[a class=intlink href=/Forum/P/210670#210670 
			"DeSmuME 0.9.4+
		]a
		" (with no lag reduction options; i.e. official timing)
		$LF
		[ul 
			[li 
				" The game sometimes lags more than the real console, because of the emulator's inaccurate timing emulation.
				$LF
			]li
			[li 
				" I recommend OpenGL. Both OpenGL and SoftRasterizer work well, but I think SoftRasterizer causes a minor display glitch.
				$LF
			]li
		]ul
		" Aims for fastest time (to get the good ending)
		$LF
	]li
	[li 
		" Abuses programming errors in the game / Uses zipping glitch
		$LF
	]li
	[li 
		" Manipulates luck (for soul/item drops, boss moves, etc.)
		$LF
	]li
	[li 
		" Takes damage to save time
		$LF
	]li
	[li 
		" Genre: Action, Platform, RPG
		$LF
	]li
	[li 
		" Colors a warp room
		$LF
	]li
]ul
[h3 
	" About the run
	$LF
]h3
[p 
	"The run completes the game in the following process.
	$LF
]p
[ol 
	[li 
		" Prologue
		$LF
	]li
	[li 
		" Meet Yoko and Julius, obtain Magic Seal 1
		$LF
	]li
	[li 
		" Obtain Axe from Axe Armor
		$LF
	]li
	[li 
		" Defeat Flying Armor
		$LF
	]li
	[li 
		" Defeat Balore
		$LF
	]li
	[li 
		" Save game for later glitch use
		$LF
	]li
	[li 
		" Obtain Magic Seal 2
		$LF
	]li
	[li 
		" Defeat Dmitrii
		$LF
	]li
	[li 
		" Perform zipping to collect achieve things and suspend/restart the game
		$LF
	]li
	[li 
		" Go to Warp Room and warp to The Abyss. The castle will self-destruct in a few seconds
		$LF
	]li
]ol
[p 
	"It is well known that the famous zipping glitch, which is called Succubus glitch,
	$LF
	"allows you to obtain a bunch of souls and items immediately.
	$LF
	"That Succubus glitch is used in a few of speedruns. However, they needed to get to
	$LF
	"The Pinnacle to obtain Succubus' soul.
	$LF
]p
[p 
	"While making this run, I invented a variation of Succubus glitch,
	$LF
	"a method to interrupt special attack by a cutscene.
	$LF
	"It allowed me to perform a zipping much earlier than before.
	$LF
	"Moreover, I enthusiastically investigated what can be done by the zipping,
	$LF
	"and I finally concluded that the last warp room can be activated and also Menace can be skipped.
	$LF
]p
[p 
	"Since the emulator generates a ridiculous amount of lags,
	$LF
	"I did not mind lags and 1 frame losses very strictly
	$LF
	"(still I generally did my best, of course!).
	$LF
	"Instead, I tried to optimize the whole route/strategy hard,
	$LF
	"and also to discover general tricks of the game.
	$LF
]p
[h3 
	" Tricks
	$LF
]h3
[p 
	"Here I show you what I have found.
	$LF
]p
[h4 
	" Backdash
	$LF
]h4
[p 
	"There are three methods of move, backdash-jump, forward-backdash-blank and backdash-crouching.
	$LF
	"I compared their average speeds to see which is faster. I show the comparison on flat ground below.
	$LF
]p
[ul 
	[li 
		" Backdash-jump: (13784+13232+12680+12128+11576+11024+10472+9920+9368+8816+8264+7712)/12 = 10748 
		$LF
	]li
	[li 
		" Forward-backdash-blank: (6144 + 13784 + 11384)/3 = 10437.3333
		$LF
	]li
	[li 
		" Backdash-crouching: (13784+13232+12680+12128+11576+11024+8624+0)/8 = 10381 (8 frame pattern = fastest one)
		$LF
	]li
	[li 
		" Additional note: Replacing crouching to subweapon use seems to be slightly faster if it does not lag. It will greatly decrement your MP, though.
		$LF
	]li
]ul
[p 
	"That is why Soma jumps again and again.
	$LF
	"Crouching is used as an alternative move method,
	$LF
	"when Soma is on a downslope, or when Soma wants to jump earlier.
	$LF
	"Sometimes, it is also used for some luck-manipulations.
	$LF
]p
[p 
	"Actually, I also considered about one more method, "forward, backward + backdash, release".
	$LF
	"It has never been used since it was slower than the two methods above.
	$LF
]p
[h4 
	" Motion cancels
	$LF
]h4
[ul 
	[li 
		" Backdash can cancel an attack motion. It is a well-known behavior.
		$LF
	]li
	[li 
		" Landing can cancel an attack motion of some weapons. It is a well-known behavior, too.
		$LF
	]li
	[li 
		" Axe Armor's ability can cancel a landing motion after damage.
		$LF
	]li
	[li 
		" To cancel Black Panther's ability just before landing can cancel a landing motion.
		$LF
	]li
]ul
[h4 
	" Randomness
	$LF
]h4
[p 
	"Some rooms (more precisely, enemies, backgrounds, and other effects) change the randomness on every frame, some rooms do not.
	$LF
]p
[p 
	"Soma can affect the randomness at least by a normal attack (changes it once),
	$LF
	"backdashing (sometimes changes it while doing that), or turning around (changes it once).
	$LF
	"It cannot be changed by jumping, crouching, or using a soul that I used in the run.
	$LF
	"Backdash+crouching is a handy way to manipulate randomness without losing speed much.
	$LF
]p
[p 
	"The recurrence equation of RNG is identical with later 2 DS games, Portrait of Ruin and Order of Ecclesia. Also, it is almost identical with Aria of Sorrow. It is a sort of linear congruential generator. The following C code emulates the behavior of the RNG.
	$LF
]p
[pre 
	"static int32_t x = 0; // $020c07e4
	$LF
	"int32_t rand() {
	$LF
	"    x = (x >> 8) * 0x3243f6ad + 0x1b0cb175;
	$LF
	"    return x;
	$LF
	"}
	$LF
]pre
[p 
	"I wrote a 
	[a class=extlink href=https://github.com/gocha/gocha-tas/blob/56195d1fa97c0d77fa59723d639b72017bb0f29a/Tools/DS/Lua/Castlevania%20-%20Dawn%20of%20Sorrow%20-%20RNG.lua rel=nofollow 
		"Lua script that displays how many times the RNG is called in a frame
	]a
	" (I learned about the implementation of RNG after I finished the run, so the script was not used for the run).
	$LF
]p
[h4 
	" Crystal blocks
	$LF
]h4
[p 
	"Crystal blocks are shattered by touching the screen (Balore's soul needed).
	$LF
	"In a tool-assisted speedrun, so many blocks can be shattered immediately, by moving the stylus incredibly fast.
	$LF
]p
[p 
	[img class=embed src=http://img.f.hatena.ne.jp/images/fotolife/G/GOCHA/20090830/20090830170336.png 
	]img
	$LF
]p
[h4 
	" Go down floating footholds without losing speed (not used)
	$LF
]h4
[p 
	"Here is the 
	[a class=extlink href=http://www.youtube.com/watch?v=paUs8h3Quqg rel=nofollow 
		"demonstration video (youtube)
	]a
	".
	$LF
]p
[p 
	"I just discovered it after I finished the run, so I cannot tell you the detail at present.
	$LF
	"I assume that it happens under a limited pixel conditions.
	$LF
	"This trick might improve the run a little. I hope it will because it looks good.
	$LF
]p
[h4 
	" Activate a switch behind the wall (not used)
	$LF
]h4
[p 
	"One of famous glitches. The Cutall/Cinquedea/Alucard Sword's special attack is teleporting behind an enemy and stabbing it.
	$LF
	"By utilizing that, you can activate a switch, which is on the other side of the wall.
	$LF
]p
[h4 
	" Infinite jump glitch (not used)
	$LF
]h4
[p 
	"http://www.youtube.com/watch?v=HoyLggIDa9g
	$LF
]p
[p 
	"I don't know the detail since I have never had a look at it.
	$LF
]p
[h4 
	" Zipping: General info
	$LF
]h4
[p 
	"When Soma goes outside the room, the game writes "visited" flag to abnormal location.
	$LF
	"As a result, it causes various things like the run has done.
	$LF
]p
[p 
	"In other words, the write address is determined from Soma's location.
	$LF
	"I studied how to calculate the exact write address from Soma's position,
	$LF
	"and wrote up a lua script which shows the write address in realtime.
	$LF
	"It definitely helped me to consider the optimal route of the zipping part.
	$LF
]p
[p 
	"When Soma goes to the right as long as one room, the write bit gets shifted to the left.
	$LF
	"However, the range of the write address changes per 16 rooms (i.e. 2 bytes). Read the script below for details.
	$LF
]p
[pre 
	"-- Address view for memory writing with zipping
	$LF
	"-- Open the memory viewer to see what's actually going on.
	$LF
	$LF
	"if not emu then
	$LF
	"  error("This script runs under DeSmuME.")
	$LF
	"end
	$LF
	$LF
	"if not bit then
	$LF
	"  require("bit")
	$LF
	"end
	$LF
	$LF
	"function cvdosPosToMapFlag(x, y)
	$LF
	"  x, y = x % 256, y % 256
	$LF
	$LF
	"  local xl, xh = x % 16, math.floor(x / 16) % 16
	$LF
	"  local i = (y * 16) + (xh * 46 * 16) + xl
	$LF
	"  local pos = 0x20F6E34 + math.floor(i / 8)
	$LF
	"  local mask = math.pow(2, math.floor(i % 8))
	$LF
	"  return pos, mask
	$LF
	"end
	$LF
	$LF
	"gui.register(function()
	$LF
	"  local x = memory.readbyte(0x0210F018)
	$LF
	"  local y = memory.readbyte(0x0210F014)
	$LF
	"  local i = (y * 16) + x
	$LF
	"  local pos, mask = cvdosPosToMapFlag(x, y)
	$LF
	"  agg.text(140, 5, string.format("%08X:%02x", pos, mask))
	$LF
	"  agg.text(140, 24, string.format("
	"[%04X-%04X]
	"", cvdosPosToMapFlag(x - (x % 0x10), 0) % 0x10000, cvdosPosToMapFlag(bit.bor(x, 0x0f), 255) % 0x10000))
	$LF
	"  agg.text(140, 43, string.format("
	"[%04X-%04X]
	"", cvdosPosToMapFlag(x - (x % 0x10) + 0x10, 0) % 0x10000, cvdosPosToMapFlag(bit.bor(x, 0x0f) + 0x10, 255) % 0x10000))
	$LF
	"  agg.text(140, 62, string.format("(%03d/%X,%03d)", x, x % 16, y))
	$LF
	"end)
	$LF
]pre
[p 
	"Here are some of addresses I planned to (not) manipulate in the run.
	$LF
]p
[table 
	[tbody 
		[tr 
			[th 
				"Address
			]th
			[th 
				"Size
			]th
			[th 
				"Description
			]th
		]tr
		[tr 
			[td 
				"020F70D7
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Yorick
			]td
		]tr
		[tr 
			[td 
				"020F70E0
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Succubus
			]td
		]tr
		[tr 
			[td 
				"020F70E1
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Erinys
			]td
		]tr
		[tr 
			[td 
				"020F70EB
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Black Panther
			]td
		]tr
		[tr 
			[td 
				"020F70F3
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Final Guard
			]td
		]tr
		[tr 
			[td 
				"020F70FC
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Golem
			]td
		]tr
		[tr 
			[td 
				"020F70FD
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Lilith
			]td
		]tr
		[tr 
			[td 
				"020F7104
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Draghignazzo
			]td
		]tr
		[tr 
			[td 
				"020F7109
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Stolas
			]td
		]tr
		[tr 
			[td 
				"020F710A
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Malphas
			]td
		]tr
		[tr 
			[td 
				"020F710B
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Doppelganger
			]td
		]tr
		[tr 
			[td 
				"020F710B
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Rahab
			]td
		]tr
		[tr 
			[td 
				"020F710C
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Hippogryph
			]td
		]tr
		[tr 
			[td 
				"020F710C
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Procel
			]td
		]tr
		[tr 
			[td 
				"020F710D
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Mud Demon
			]td
		]tr
		[tr 
			[td 
				" 
			]td
			[td 
				" 
			]td
			[td 
				" 
			]td
		]tr
		[tr 
			[td 
				"020F71E2
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Cutall
			]td
		]tr
		[tr 
			[td 
				"020F71E2
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Cinquedia
			]td
		]tr
		[tr 
			[td 
				"020F71ED
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Kaladbolg
			]td
		]tr
		[tr 
			[td 
				"020F71F2
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Claimh Solais
			]td
		]tr
		[tr 
			[td 
				" 
			]td
			[td 
				" 
			]td
			[td 
				" 
			]td
		]tr
		[tr 
			[td 
				"020F720E
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Dracula's Tunic
			]td
		]tr
		[tr 
			[td 
				"020F7216
			]td
			[td 
				"higher 4 bits
			]td
			[td 
				"Death's Robe
			]td
		]tr
		[tr 
			[td 
				" 
			]td
			[td 
				" 
			]td
			[td 
				" 
			]td
		]tr
		[tr 
			[td 
				"020F721B
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Rosary
			]td
		]tr
		[tr 
			[td 
				"020F7226
			]td
			[td 
				"lower 4 bits
			]td
			[td 
				"Chaos Ring
			]td
		]tr
		[tr 
			[td 
				" 
			]td
			[td 
				" 
			]td
			[td 
				" 
			]td
		]tr
		[tr 
			[td 
				"020F6E20
			]td
			[td 
				"1 byte
			]td
			[td 
				"Room X position (for start from suspend)
			]td
		]tr
		[tr 
			[td 
				"020F6E22
			]td
			[td 
				"1 byte
			]td
			[td 
				"Room Y position (for start from suspend)
			]td
		]tr
		[tr 
			[td 
				"020F6DFC
			]td
			[td 
				"4 bytes
			]td
			[td 
				"If the value bitand 0x44000007 is non-zero, disable Suspend
			]td
		]tr
		[tr 
			[td 
				"020F7018
			]td
			[td 
				"4 bytes
			]td
			[td 
				"X position for start from suspend
			]td
		]tr
		[tr 
			[td 
				"020F701C
			]td
			[td 
				"4 bytes
			]td
			[td 
				"Y position for start from suspend
			]td
		]tr
		[tr 
			[td 
				"020F703C
			]td
			[td 
				"4 bytes
			]td
			[td 
				"Ingame time
			]td
		]tr
		[tr 
			[td 
				"020F7187
			]td
			[td 
				"bit2
				"|
				"bit3 (04
				"|
				"08)
			]td
			[td 
				"Save Room & Warp Room first time message flag
			]td
		]tr
		[tr 
			[td 
				"020F718A
			]td
			[td 
				"1 byte
			]td
			[td 
				"Menace related flags ($30 is the best value to skip him)
			]td
		]tr
		[tr 
			[td 
				"020F71A8
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Activated warp destinations (bit11/$0800 = The Abyss)
			]td
		]tr
		[tr 
			[td 
				"020F7228
			]td
			[td 
				"2 bytes * 6
			]td
			[td 
				"Button settings
			]td
		]tr
		[tr 
			[td 
				"020F7256
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Disable Suspend/Pause (Julius Mode)
			]td
		]tr
		[tr 
			[td 
				"020F7259
			]td
			[td 
				"1 byte
			]td
			[td 
				"Hard Mode if nonzero
			]td
		]tr
	]tbody
]table
[p 
	"Note: As you can see in the run, Soma can move through the wall by sliding.
	$LF
]p
[h4 
	" Zipping: The Succubus glitch and its variations
	$LF
]h4
[p 
	"All of these glitches cancels a special attack halfway to go into the wall.
	$LF
	"The difference is only how to cancel an attack.
	$LF
]p
[p 
	"The steps to achieve the most famous Succubus glitch are:
	$LF
]p
[ol 
	[li 
		" Equip Cutall/Cinquedea/Alucard Sword and Succubus
		$LF
	]li
	[li 
		" Use its special attack then cancel the motion by Succubus immediately
		$LF
	]li
	[li 
		" Walk/Attack for about 2.5 seconds (do not stop, jump, backdash, and so on. It's important)
		$LF
	]li
	[li 
		" Use the special attack again against the wall
		$LF
	]li
	[li 
		" The special attack will be canceled in the wall if it succeed
		$LF
	]li
]ol
[p 
	"Axe also can be used to perform the glitch. Here is a 
	[a class=extlink href=http://www.youtube.com/watch?v=l7eTxjuXPsA rel=nofollow 
		"demonstration video (youtube)
	]a
	".
	$LF
	"When you use Axe, you'll need to switch your equipment during the glitch, because Axe's special attack is too long.
	$LF
]p
[p 
	"Axe also can be used to perform the glitch. However, you'll need to unequip the Axe once
	$LF
	"after you used a special attack (it's good to use Doppelganger to unequip a weapon quickly, by the way),
	$LF
	"because Axe's special attack is too long.
	$LF
]p
[p 
	"A cutscene after the boss fight also cancels the special attack (it's the core of the run).
	$LF
	"It can be used earlier since it doesn't require a Succubus' soul.
	$LF
]p
[p 
	"Additionally, there are some special locations you can perform the zipping
	$LF
	"(flat ground + door, narrow gap + Skeleton Ape): http://www.youtube.com/watch?v=lkohuZnKPAg
	$LF
]p
[p 
	"See also: 
	[a class=extlink href=http://www.angelfire.com/stars5/tkcpics2/dawnofsorrow/ rel=nofollow 
		"Castlevania: Dawn of Sorrow - Glitch Locations
	]a
	$LF
]p
[h4 
	" Memory addresses
	$LF
]h4
[p 
	"Most of the zipping related addresses are shown above.
	$LF
]p
[table 
	[tbody 
		[tr 
			[th 
				"Address
			]th
			[th 
				"Length
			]th
			[th 
				"Description
			]th
		]tr
		[tr 
			[td 
				"020CAA40
			]td
			[td 
				"4 bytes
			]td
			[td 
				"X position
			]td
		]tr
		[tr 
			[td 
				"020CAA44
			]td
			[td 
				"4 bytes
			]td
			[td 
				"Y position
			]td
		]tr
		[tr 
			[td 
				"020CA95C
			]td
			[td 
				"4 bytes
			]td
			[td 
				"X position (next)
			]td
		]tr
		[tr 
			[td 
				"020CA960
			]td
			[td 
				"4 bytes
			]td
			[td 
				"Y position (next)
			]td
		]tr
		[tr 
			[td 
				"020CA968
			]td
			[td 
				"2 bytes
			]td
			[td 
				"X velocity
			]td
		]tr
		[tr 
			[td 
				"020CA96C
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Y velocity
			]td
		]tr
		[tr 
			[td 
				"020C07E4
			]td
			[td 
				"4 bytes
			]td
			[td 
				"Random number
			]td
		]tr
		[tr 
			[td 
				"020F703C
			]td
			[td 
				"4 bytes
			]td
			[td 
				"Ingame frame
			]td
		]tr
		[tr 
			[td 
				"020CA9F3
			]td
			[td 
				"1 byte
			]td
			[td 
				"Soma invulnerability 1
			]td
		]tr
		[tr 
			[td 
				"020CAA24
			]td
			[td 
				"1 byte
			]td
			[td 
				"Soma invulnerability 2
			]td
		]tr
		[tr 
			[td 
				"020F7410
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Current HP value
			]td
		]tr
		[tr 
			[td 
				"020F7412
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Max HP value
			]td
		]tr
		[tr 
			[td 
				"020F7414
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Current MP value
			]td
		]tr
		[tr 
			[td 
				"020F7416
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Max MP value
			]td
		]tr
		[tr 
			[td 
				"020F7448
			]td
			[td 
				"4 bytes
			]td
			[td 
				"Current EXP value
			]td
		]tr
		[tr 
			[td 
				"0210AF42
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Left of sprite hitbox
			]td
		]tr
		[tr 
			[td 
				"0210AF46
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Right of sprite hitbox
			]td
		]tr
		[tr 
			[td 
				"0210AF44
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Top of sprite hitbox
			]td
		]tr
		[tr 
			[td 
				"0210AF48
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Bottom of sprite hitbox
			]td
		]tr
		[tr 
			[td 
				"020F2A88
			]td
			[td 
				"1 byte
			]td
			[td 
				"Magic Seal Step
			]td
		]tr
		[tr 
			[td 
				"020F2A8C
			]td
			[td 
				"1 byte
			]td
			[td 
				"Magical Seal Substep
			]td
		]tr
		[tr 
			[td 
				"020CED88
			]td
			[td 
				"4 bytes
			]td
			[td 
				"Succubus timer
			]td
		]tr
	]tbody
]table
[p 
	"The following addresses might change randomly.
	$LF
]p
[table 
	[tbody 
		[tr 
			[th 
				"Address
			]th
			[th 
				"Length
			]th
			[th 
				"Description
			]th
		]tr
		[tr 
			[td 
				"020D36A8
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Flying Armor HP
			]td
		]tr
		[tr 
			[td 
				"020D3513
			]td
			[td 
				"1 byte
			]td
			[td 
				"Flying Armor invincibility #1
			]td
		]tr
		[tr 
			[td 
				"020D3514
			]td
			[td 
				"1 byte
			]td
			[td 
				"Flying Armor invincibility #2
			]td
		]tr
		[tr 
			[td 
				"020D3515
			]td
			[td 
				"1 byte
			]td
			[td 
				"Flying Armor invincibility #3
			]td
		]tr
		[tr 
			[td 
				"020D26E8
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Balore HP
			]td
		]tr
		[tr 
			[td 
				"020D2553
			]td
			[td 
				"1 byte
			]td
			[td 
				"Balore invincibility #1
			]td
		]tr
		[tr 
			[td 
				"020D2554
			]td
			[td 
				"1 byte
			]td
			[td 
				"Balore invincibility #2
			]td
		]tr
		[tr 
			[td 
				"020D2555
			]td
			[td 
				"1 byte
			]td
			[td 
				"Balore invincibility #3
			]td
		]tr
		[tr 
			[td 
				"020D2EC8
			]td
			[td 
				"2 bytes
			]td
			[td 
				"Dmitrii HP
			]td
		]tr
		[tr 
			[td 
				"020D2D33
			]td
			[td 
				"1 byte
			]td
			[td 
				"Dmitrii Invisibility #1
			]td
		]tr
		[tr 
			[td 
				"020D2D34
			]td
			[td 
				"1 byte
			]td
			[td 
				"Dmitrii Invisibility #2
			]td
		]tr
		[tr 
			[td 
				"020D2D35
			]td
			[td 
				"1 byte
			]td
			[td 
				"Dmitrii Invisibility #3
			]td
		]tr
	]tbody
]table
[p 
	"Also, I posted 
	[a class=intlink href=/Forum/P/204329#204329 
		"some info about cheat codes
	]a
	" before.
	$LF
]p
[h3 
	" Stage by stage comments
	$LF
]h3
[h4 
	" Prologue
	$LF
]h4
[p 
	"In fact, the first Skeleton can be defeated 1 frame faster,
	$LF
	"by not jumping at second backdash and sliding earlier.
	$LF
]p
[p 
	"Golem battle is one of my favorite parts. Soma attacks him with insane speed.
	$LF
]p
[h4 
	" Lost Village - Up to Flying Armor
	$LF
]h4
[p 
	"Actually, Soma moves faster than a bone of Skeleton's soul.
	$LF
	"So it's rather difficult to throw a bone optimally.
	$LF
	"After all, I tested all patterns I came up with. I am not so smart :P
	$LF
]p
[p 
	"It might be better to defeat Peeping Eye by using Knife (with backdash and 2 frame jump)
	$LF
	"instead of Armor Knight, but I am not sure.
	$LF
]p
[p 
	"The Axe Armor room is very luck-manipulative room. You need to manipulate the randomness to
	$LF
	"obtain Axe Armor's soul and Axe, and also to manipulate Zombies' positions.
	$LF
	"I manipulated the randomness hard by brandishing a knife here and there, but
	$LF
	"I could not manage to eliminate one zombie who is just after Axe. Also,
	$LF
	"this is the first room I really wanted a lag-free emulator :P
	$LF
]p
[p 
	"Upgrading Axe Armor's soul here (and possibly in Wizardry Lab) might save time later
	$LF
	"(if a lag-free version of the emulator is used).
	$LF
	"Perhaps it will make that luck-manipulative room even harder. *shivers*
	$LF
]p
[p 
	"Stylus can be used in the menu screen. It is sometimes faster than using keys.
	$LF
]p
[h4 
	" Lost Village & Wizardry Lab - From Flying Armor, up to Balore
	$LF
]h4
[p 
	"As Atma told me in the forum, in the Flying Armor battle, I need to manipulate him to position
	$LF
	"as low as possible to make attacking him easier, and defeat him with scrolling to the left
	$LF
	"as far as is possible.
	$LF
	"I tried hard but I could not get to the most left side of the room.
	$LF
	"A better luck might improve the battle a little.
	$LF
]p
[p 
	"You may think that I can perform the cutscene zipping with Flying Armor.
	$LF
	"That is right, but I cannot do anything during the zipping so that it takes a few minutes to return.
	$LF
	"Additionally, I can get nothing there (the range of write address: 020f6e34-020f7033).
	$LF
]p
[p 
	"After I used Flying Armor, I switched it back to Armor Knight soon,
	$LF
	"to make the Balore battle a bit faster and to cancel damage motions.
	$LF
	"I considered that it is faster than keeping Flying Armor equipped.
	$LF
]p
[p 
	"If I can go down floating footholds without losing speed here and there, it will save 10-20 frames.
	$LF
]p
[h4 
	" Wizardry Lab & Garden of Madness - From Balore, up to the save room
	$LF
]h4
[p 
	"Balore is defeated without Mind Up.
	$LF
	"It makes the battle about 3 seconds longer, but later I can gain about 10 seconds.
	$LF
	"After I defeated Balore, there is a chance to leave a message on crystal blocks.
	$LF
	"However, I did not do that since it lags too much.
	$LF
	"This is one of obvious improvable point, isn't it? ;)
	$LF
]p
[p 
	"I used two Potions after the Balore battle, but I guess it might be a mistake. Reducing the amount of damage might make the run faster, rather than potion use.
	$LF
]p
[p 
	"In the Slaughterer room, it might be better to take damage instead of defeat them.
	$LF
	"It gives Soma less exps, and it might allow us to defeat more enemies later.
	$LF
	"By the way, it was a little hard to manipulate Slaughterer's position and hitbox.
	$LF
	"If you want to make a tas of the game, I suggest to you writing a hitbox display lua.
	$LF
]p
[p 
	"To activate the suspend command, I saved the game in Garden of Madness.
	$LF
	"Particles in the room might affect the time, but I really did not care.
	$LF
	"Even a zipping cannot skip this process. That is known via memory value.
	$LF
]p
[h4 
	" Garden of Madness & The Dark Chapel - Up to the end of the Dmitrii battle
	$LF
]h4
[p 
	"I didn't defeat enemies much because it causes a levelup and it freezes Soma for a few seconds.
	$LF
	"Also, I didn't equip Breastplate because it takes time a little to equip and I assumed that it doesn't save time after all.
	$LF
]p
[p 
	"I did not go up until the last axe hits Yorick. If I go, the collision detection will be skipped and I cannot defeat him.
	$LF
]p
[h4 
	" Outside of the world - The zipping part
	$LF
]h4
[p 
	"It's the most difficult section to explain... Well, read the general info section about zipping above first of all.
	$LF
]p
[p 
	"What I did in the run are:
	$LF
]p
[ol 
	[li 
		" Obtain Black Panther
		$LF
	]li
	[li 
		" Obtain Hippogryph (optional; I think it saves time rather than not use it, or more than obtaining Malphas instead)
		$LF
	]li
	[li 
		" Set $30 to $020F718A to skip Menace (as a result, the game considers the first conversation and the battle are already done)
		$LF
	]li
	[li 
		" Activate the warp to The Abyss
		$LF
	]li
]ol
[p 
	"What I did 
	[b 
		"not
	]b
	" do in the run (because it seems to take time to do that) are:
	$LF
]p
[ul 
	[li 
		" Obtain Malphas
		$LF
	]li
	[li 
		" Skip the "Warp Room" description of the first time
		$LF
	]li
]ul
[p 
	"I sometimes stopped to not overwrite the starting position after suspend much.
	$LF
]p
[p 
	"I constructed this route in the following steps:
	$LF
]p
[ol 
	[li 
		" List up all possible useful locations (and dangerous locations as well)
		$LF
	]li
	[li 
		" Divide them into 4 groups (odd number address or even number address, in higher 4 bit or in lower 4 bit)
		$LF
	]li
	[li 
		" Count the minimum horizontal distance to get to each location, and group them by it (in the 16-bit alignment)
		$LF
	]li
	[li 
		" See what is near/far each other and consider about how to visit them
		$LF
	]li
]ol
[p 
	"One vertical loop takes a few seconds, so that I think it is not so smart to wait again and again to visit more locations.
	$LF
]p
[h4 
	" The finale
	$LF
]h4
[p 
	"In the room of lift, I compared which is faster, going from the upper or lower. They were the same.
	$LF
]p
[p 
	"When I fall from high position, I cancel Black Panther immediately just before the landing and cancel the motion.
	$LF
]p
[h4 
	" Comments
	$LF
]h4
[p 
	"I had never thought that I would invent such a odd route.
	$LF
	"In fact, before I met DeSmuME-rerecording, I had never considered about the speedrun of the game.
	$LF
]p
[p 
	"One day, I wanted to try recording a DS TAS movie with a new emulator,
	$LF
	"so I TASed the very beginning part of this game (the first battle against three enemies) just for curiosity.
	$LF
	"I learned some of the basic mechanisms of the game through the recording, and
	$LF
	"it told me that I can improve 
	[a class=intlink href=/Forum/P/200512#200512 
		"Atma's demonstration TAS in the forum
	]a
	".
	$LF
	"This is why I started working on the game suddenly. I had never expected that I would make a Castlevania TAS.
	$LF
]p
[p 
	"After I decided to work on the game, I watched 
	[a class=extlink href=http://www.youtube.com/watch?v=ws4714qAvk4 rel=nofollow 
		"Groobo's semi-TAS video
	]a
	$LF
	"on YouTube (and 
	[a class=extlink href=http://www.youtube.com/watch?v=Qa0GjrK6KoY rel=nofollow 
		"Satoryu's non tool-assisted speedrun
	]a
	").
	$LF
]p
[p 
	"The video completes the game in 28:58, by utilizing famous two glitches.
	$LF
	"One is a way to open a gate from the opposite side of a switch by Cutall's special attack,
	$LF
	"and the other is the one called "Succubus glitch" which allows us to go through/into a wall,
	$LF
	"and get a bunch of souls and items (details are described later).
	$LF
	"My original aim was to optimize his speedrun, and I assumed the completion time would be 20+ minutes at best.
	$LF
]p
[p 
	"However, that was not true. I'd like to thank all people who supported/encouraged me. I could not make the run without them.
	$LF
]p
[h4 
	" Special thanks
	$LF
]h4
[ul 
	[li 
		" Satoryu: for 
		[a class=extlink href=http://www.youtube.com/watch?v=Qa0GjrK6KoY rel=nofollow 
			"his non tool-assisted speedrun
		]a
		$LF
	]li
	[li 
		" Groobo: for 
		[a class=extlink href=http://www.youtube.com/watch?v=ws4714qAvk4 rel=nofollow 
			"his semi tool-assisted speedrun
		]a
		$LF
	]li
	[li 
		" People in the Dawn of Sorrow topic: You guys are always kind. Especially, I thank Atma for posting his first TAS attempt of the game. That motivated me a lot.
		$LF
	]li
	[li 
		" #TASers: A Japanese IRC channel. They motivate me always! Especially, I thank pirohiko for inventing a new style of video editing! ヽ(＞ヮ＜)
		$LF
	]li
]ul
[p 
	"Hope you enjoy the run, thank you!
	$LF
]p
[h4 
	" Screenshots
	$LF
]h4
[p 
	[a class=intlink href=/Users/Profile/Gocha 
		"gocha
	]a
	": Hi! I am an idiot. I took a few screenshots of this movie and placed them here. Here goes! Feel free to clean up the list.
	$LF
]p
[p 
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_1500.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_3377.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_4928.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_9405.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_12746.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_16334.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_17744.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_19586.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_21653.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_23371.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_27064.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_28000.png 
	]img
	$LF
	[img class=embed src=http://i568.photobucket.com/albums/ss123/gochaism/Castlevania-DawnOfSorrowU_Bonus.png 
	]img
	$LF
]p
[hr 
]hr
[p 
	[a class=intlink href=/Users/Profile/Adelikat 
		"adelikat
	]a
	":  Accepting for publication under one condition.  A video like the one on the nicovideo be the published MKV.
	$LF
]p
[p 
	"ShinyDoofy: Processing...
]p
