16
[ul 
	[li 
		"Emulator used: Bizhawk 2.5.2
		$LF
	]li
	[li 
		"Exploits several programming errors
		$LF
	]li
]ul
[div class=p 
	"A little over a year ago, I was inspired by the then recent Steam re-release to do real time runs of this game's PC port. At the time, no one had done runs of it yet (bar from the SNES version which is so different it can be considered a different game entirely), but I did stumble upon a never finished WIP TAS from 2014 by r57shell and Dooty. This TAS and the game's forum thread on this site were what I used as a reference to get a first route going. Now, over a year later and with a new zip glitch being found by RTA runner Jistuma, I wanted to make a full TAS of the game. This is my attempt at it.
	$LF
]div
[div class=p 
	"Donald in Maui Mallard is one of Disney Interactive's earlier works, released in 1995 for the Sega Genesis only in Europe and Brazil. As such, this movie uses the Brazilian version since it's the only version that runs at 60Hz. In this game, Donald Duck assumes the role of private investigator Maui Mallard and gains the ability to transform into his ninja form "Cold Shadow". I'm not touching on the rest of the story.
	$LF
]div
[div class=p 
	"There are three difficulty settings: Practice, Normal and Hard. I went with the default Normal mode. Hard mode is completely identical to Normal mode outside of the life count and the continue count (3 and 1 for Normal, 2 and 0 for Hard). I didn't feel like bothering to switch to that difficulty was worth it so I decided to stay on Normal to save some frames. On the other hand, Practice mode gives Maui 200 HP at the start and makes hazards that would normally deal 25 HP of damage like spikes, lava etc. only deal 10 HP. This actually makes it possible to skip the lightbulb bug in 1-2 by continuously dboosting off the water piranhas and save a few seconds, but I decided to still go with Normal mode for this movie.
	$LF
]div
[div class=p 
	"Overall, I'm happy with how this turned out, it's a very fast paced game with a ton of tricks which I think is ideal for a TAS.
	$LF
]div
[div class=p 
	"There's a lot of small pieces of tech that can be exploited. Here's some that are used throughout the entire movie:
	$LF
]div
[div class=p 
	"- Jump speed cap manipulation: normally Maui's horizontal speed cap is of 3 pixels per frame during a jump. But, by releasing the forward direction for a single frame, then repressing it, the speed first drops to 2.938px/f and then rises back to 3.063px/f. This gains a bit of distance on a lot of jumps.
	[br 
	]br
	$LF
	"- Neutral jump acceleration manipulation: by initiation a neutral jump in the opposite direction, then turning around, Maui can accelerate towards that direction more quickly.
	[br 
	]br
	$LF
	"- Crouch cancelling: when Maui fires, it's possible to crouch and uncrouch to save animation frames and allow for faster re-firing.
	[br 
	]br
	$LF
	"- Fast horizontal shooting: in mid-air, pressing B and up on the same frame, then releasing up the frame after, results in the shot being fired a few frames more quickly.
	[br 
	]br
	$LF
	"- Ninja animation skip: there's normally an animation that plays during the transformation to ninja form, but it can be skipped by crouching.
	[br 
	]br
	$LF
	"- Quick hook regrabs: as ninja form, letting go of a hook and regrabbing it from the other side is faster than going through an entire swing animation and turning around that way.
	[br 
	]br
	$LF
	"- Double jump: when a jump is initiated as ninja form and yin yang coins run out in mid air, there's a frame window to perform a double jump as Maui. This allows for a ton of skips.
	[br 
	]br
	$LF
	"- Ceiling zip: when starting a jump in ninja form towards a ceiling and yin yang coins run out on the way up, it's possible to zip through said ceiling.
	[br 
	]br
	$LF
	"- Damage boost turnaround: when taking damage, if the opposite direction is flicked at a specific frame it's possible to gain a bit of distance.
	[br 
	]br
	$LF
]div
[div class=p 
	"Here is a stage-by-stage breakdown of the whole movie. Every time there's a transition with a black screen, I'll be considering it a new stage.
	$LF
]div
[h3 id=Level1MojoMansion 
	"Level 1 Mojo Mansion
	$LF
]h3
[h4 id=11 
	"1-1
	$LF
]h4
[div class=p 
	"Running is faster than jumping, so whenever jumps are necessary they're usually performed as short as possible.
	[br 
	]br
	$LF
	"The clip at the elevator is done by jumping on the first frame it gets touched, then trying to land back on it. For some reason Maui just falls through. This also works on a few other platforms in the game but I haven't found another practical use for it.
	[br 
	]br
	$LF
	"Normally when damage is taken on the ground Maui goes into an animation that stops him in place. This animation is cut short if damage is taken in the air, so every time damage is forced it's taken in mid-air.
	$LF
]div
[h4 id=12 
	"1-2
	$LF
]h4
[div class=p 
	"I make sure to collect the bomb bugs in the water room which are going to be useful for the boss. The corner clip in the next room skips an entire room and a half and saves about 20 seconds.
	$LF
]div
[h4 id=13 
	"1-3
	$LF
]h4
[div class=p 
	"I collect some extra lighning bugs for the boss. Firing a shot upwards right before landing on a hole during the organ climb makes Maui jump a little higher and allows for some jumps to be skipped. There's also 1 frame to perform a regular jump from certain holes and save some time from lower jumping.
	$LF
]div
[h4 id=1B 
	"1-B
	$LF
]h4
[div class=p 
	"Bombs can double hit under certain circumstances, but it can be very finicky: performing any actions at the wrong time, including switching weapons, can unexpectedly prevent the double hit from happening. I don't understand this mechanic very well, but I found a sequence of actions that achieves 3 double hits right at the start of this boss fight.
	$LF
]div
[h3 id=Level2NinjaTrainingGrounds 
	"Level 2 Ninja Training Grounds
	$LF
]h3
[h4 id=21 
	"2-1
	$LF
]h4
[div class=p 
	"I head left instead of right where you're supposed to go to setup a ceiling zip. It's then possible to chain the zip into a double jump, saving close to 4 seconds over just zipping. This gets Maui right to the end of the stage.
	$LF
]div
[h4 id=22 
	"2-2
	$LF
]h4
[div class=p 
	"There's a spot near the beginning that allows you to wedge out of bounds and skip most of this stage as well.
	$LF
]div
[h4 id=23 
	"2-3
	$LF
]h4
[div class=p 
	"Swings on this screen are on a global timer. Unfortunately in this movie the last swing was on a really unfavorable global timer so I had to waste some time right before it, ugh.
	[br 
	]br
	$LF
	"Another clip towards the end because if you haven't figured it out by now walls are mostly a suggestion.
	$LF
]div
[h4 id=2B 
	"2-B
	$LF
]h4
[div class=p 
	"Ninjas here can be damaged in mid air. They won't display a damage animation but the hit will still register. Anyway, each phase is based on a frame rule system so there's not much that can be done to optimize this fight under that aspect. But, for some reason I was still able to save some frames at the end by doing certain actions. I'm not even sure it's because of saving lag frames because the screen was just straigt up fading out sooner in relation to objects on screen.
	$LF
]div
[h3 id=Level3MuddrakeMayhem 
	"Level 3 Muddrake Mayhem
	$LF
]h3
[h4 id=31 
	"3-1
	$LF
]h4
[div class=p 
	"A double jump is used to skip a bit of backtracking and a small section. I turn back into Maui ASAP to preserve coins to dash and because he's the only one who can climb the rope in 3-2.
	$LF
]div
[h4 id=32 
	"3-2
	$LF
]h4
[div class=p 
	"With a fairly precise double jump, it's possible to get over the wall at the top of the slide and go straight to the end, which skips the entire huts section.
	$LF
]div
[h4 id=33 
	"3-3
	$LF
]h4
[div class=p 
	"Pretty straightforward stage. I collect bombs to help with the boss.
	$LF
]div
[h4 id=3B 
	"3-B
	$LF
]h4
[div class=p 
	"This is another frame rule based boss fight, so I mix up the kills a bit. It is possible to instantly kill a totem with a single bomb + lightning bugs shot, but it appears to be very finicky and sometimes just refuses to work in certain scenarios. I was actually able to save a frame rule on the final totem over what I thought was optimal.
	$LF
]div
[h3 id=Level4SacrificeOfMaui 
	"Level 4 Sacrifice of Maui
	$LF
]h3
[h4 id=41 
	"4-1
	$LF
]h4
[div class=p 
	"I take a small detour to collect bomb bugs for the boss. There's a pretty subtle floor clip on the way down from the bomb spot that saves some travel time. At the end you can dash on the bubble and get launched at high speed by coming at it as it's spawning.
	[br 
	]br
	$LF
	"There's a ton of theoretical double jumps and zips in this stage, but I wasn't able to find anything that was faster than going through it mostly normally.
	$LF
]div
[h4 id=4B 
	"4-B
	$LF
]h4
[div class=p 
	"Phase 1 was quite the PITA to TAS. This boss goes in different directions depending on how and when exactly it's hit. I tried a few combinations and this one wound up being the fastest out of what I tried. It's very possible this fight could be a bit faster but it's hard to figure out the absolute fastest way.
	[br 
	]br
	$LF
	"Phase 2 is why I took the detour to get bombs. Combining all 3 bug types makes a screen nuke which instantly kills all enemies on screen. Normally bosses are immune to it, but for some reason this boss's phase 2 is vulnerable to it.
	[br 
	]br
	$LF
	"I also found out by total accident that standing on the top-left platform during phase 2 makes it spawn a lot faster. On top of that, dashing at the start of phase 1 makes that spawn a bit faster too. This requires taking a hit on the lava, but it's not a problem.
	$LF
]div
[h4 id=42 
	"4-2
	$LF
]h4
[div class=p 
	"The escape. How exactly updrafts are approached makes a difference: on one of them, a hook can be grabbed more quickly by jumping into the updraft on certain frames.
	$LF
]div
[h3 id=Level5TestOfDuckhood 
	"Level 5 Test of Duckhood
	$LF
]h3
[h4 id=51 
	"5-1
	$LF
]h4
[div class=p 
	"This stage's whole point is to climb up, bungee jump down and back up from low enough so that you can get higher up. The damage boost at the end skips one of said bungee jumping sections (though it's a much more precise dboost than it looks).
	[br 
	]br
	$LF
	"Holding the opposite direction while being caught by a spring, then holding forward as Maui's getting off of it, provides more horizontal distance. The clip during the second bungee jumping section is pixel perfect.
	$LF
]div
[h4 id=52 
	"5-2
	$LF
]h4
[div class=p 
	"This stage can be considerably sped up by clipping into floors, then shooting. This zips Maui downwards and avoids having to climb onto high platforms, then jump down. There's also a zip midway through this stage that can be done by jumping off the pole at a certain spot, holding right and switching to left right at the end.
	$LF
]div
[h4 id=5B 
	"5-B
	$LF
]h4
[div class=p 
	"You have to stuff the frog's mouth with 4 bombs per side to kill it. On the right side, shooting an additional seemingly pointless time actually reduces Maui's hitbox which allows for closer positioning and a slightly more optimal kill.
	$LF
]div
[h3 id=Level6TheFlyingDuckman 
	"Level 6 The Flying Duckman
	$LF
]h3
[h4 id=61 
	"6-1
	$LF
]h4
[div class=p 
	"There's two spots in this stage where clipping is possible and some portions of the stage are skipped. Actively holding the direction where you're shooting towards gives Maui more distance, which I didn't know about until I was halfway done TASing this level for the first time and had to redo it all. Speaking of which, this whole level took me the longest total time to get done, probably at about 30-35 hours between all revisions of this movie.
	[br 
	]br
	$LF
]div
[h4 id=62 
	"6-2
	$LF
]h4
[div class=p 
	"Trying to figure out how to take all these corners optimally took forever.
	[br 
	]br
	$LF
	"It's possible to barely get into the floor at the start just before the current catches Maui. It's possible to then "clip" into an upper section because ceiling collision is missing in that specific spot for some reason. Later in the stage, there's a pretty big floor clip that saves close to 10 seconds, and a few additional smaller clips. Bombs are picked up for the boss. 
	$LF
]div
[h4 id=6B 
	"6-B
	$LF
]h4
[div class=p 
	"This is normally a very tough boss with a ton of health.
	[br 
	]br
	$LF
	[b 
		"It dies from one single bomb.
	]b
	[br 
	]br
	$LF
	"I have no idea why bombs are such a big weakness to this guy. It's actually possible to deal so much damage to him that the damage value overflows. When the boss is hiding into the ship, the damage that is dealt during that time is stored in a variable and then applied once he comes back out. If this value is greater than 255, for example by throwing multiple bombs, it overflows.
	$LF
]div
[h3 id=Level7TheRealmOfTheDead 
	"Level 7 The Realm of the Dead
	$LF
]h3
[h4 id=71 
	"7-1
	$LF
]h4
[div class=p 
	"Skips upon skips in this stage. First of all there's a big double jump at the start to skip an entire section to the left and back to the right. The shot that gives you hyperspeed right after is what I like to call the lunar launch, done by turning to the right immediately after shooting to the left at the edge of that gooey green thing. Then there is an extremely precise jump as Maui over a wall which skips a fairly big section. This allows ninja form to be kept for double jumping over another wall for a more minor time save. Then, one single coin is collected and all others are avoided to set up for a faster ceiling zip a little later. Finally, performing the turnaround trick on the pit damage boosts towards the end actually makes it barely possible to make it to the first hook in two boosts instead of three and save some extra time.
	$LF
]div
[h4 id=72 
	"7-2
	$LF
]h4
[div class=p 
	"Normally an autoscroller/escort mission, the intended way to do this stage is to protect the jar from the flames and wait for it to slowly rise to the top which triggers the end of the stage. But, the flames despawn when they get too far off screen, and there's an end-stage trigger just on the left on the top of the tower. Whoops. But hey, this skips an autoscroller, I can't be mad.
	$LF
]div
[h3 id=Level8MojoStronghold 
	"Level 8 Mojo Stronghold
	$LF
]h3
[h4 id=81 
	"8-1
	$LF
]h4
[div class=p 
	"This final boss took me a long time to figure out. I experimented with different routes, until I found out that picking up the left side bugs, using them for the first cycle, then going to the right side for the second cycle actually results in bug duplication on the right side! This means 20 bugs of each type can be picked up as opposed to 10, which allows for the second cycle to be completed with Maui only and results in it being the fastest way to go through the fight. Again, the duplication occurs if the left side bugs only are picked up, then used. It doesn't work the other way around.
	[br 
	]br
	$LF
	"Anyway, this means that for the first cycle the shaman has to be finished off as ninja. The second cycle itself was the hardest thing in the fight to optimize. The shaman gains a bit of invulnerability after each hit, which is simple to work around with a straight linear shot like the lightning bugs, but more complex with an auto-homing one. There's a particular mechanic that makes this especially hard: if the B button is held, the fire delay is much shorter than if the B button is released and repressed. In the former case, the fire delay is too fast for the shaman's invincibility, while in the latter case it's too slow. I played around with different combinations and got help from a double hit tech, where having two or more shots collide with the boss on the same frame can hit at the same time, saving some invulnerability period. This is the fastest sequence of actions I found for this shaman pattern.
	[br 
	]br
	$LF
	"Phase 2 takes 6 hits per cycle. The 5-hit basic attack combo can be used on him (which is unlocked by collecting red yin yang coins throughout the game), then to circumvent the fact that he would shield the next hit, it's possible to crouch an quickly attack for the final hit. Do this for three cycles, and that's the videogame.
	$LF
]div
[h2 id=Improvements 
	"Improvements
	$LF
]h2
[div class=p 
	"This game is so technical that minor improvements are bound to exist. I can't possibly have saved all the frames that there are to be saved. In particular, the global timer for the last swing on 2-3 was pretty bad, so if it's possible to save enough frames before that point to save a cycle, that would be a major improvement right there. 
	$LF
	"Playing on Practice mode would also provide a small time save.
	$LF
]div
[h2 id=Conclusions 
	"Conclusions
	$LF
]h2
[div class=p 
	"I consider myself an RTA runner first and foremost, but TASing is always very fun and a great learning experience. Shoutouts to r57shell and Dooty for being the authors of the 2014 WIP TAS that taught me a lot of things about this game, Kirthar for being the only other person to have run the PC version aside from me, and Jistuma/FrancisJAM for currently being the only runner of the Genesis version and for having found the ceiling zip glitch and a few other tricks and pieces of information about the game. I hope this TAS was enjoyable to watch.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": At last!!! Judging...
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Samsara 
		"Samsara
	]a
	": 
	[del 
		"Setting to Delayed, pending the improvement mentioned above.
	]del
	" File replaced with a 
	[a class=intlink href=/Userfiles/Info/67964059555447336 
		"2798 frame improvement
	]a
	". Resetting to new so that feos can reclaim.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": I'm back!
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Amazing run, good feedback, and according to 
	[a href=https://segaretro.org/Donald_in_Maui_Mallard rel=noopener external nofollow 
		"segaretro
	]a
	", 
	[a href=https://www.mobygames.com/game/genesis/maui-mallard-in-cold-shadow/release-info rel=noopener external nofollow 
		"mobygames
	]a
	", and 
	[a href=https://gamefaqs.gamespot.com/genesis/586143-donald-in-maui-mallard/data rel=noopener external nofollow 
		"gamefaqs
	]a
	", this was a perfectly valid official release for Brazil that conveniently runs at 60fps (since Brazil is 
	[a href=https://en.wikipedia.org/wiki/PAL-M rel=noopener external nofollow 
		"PAL-M
	]a
	"). Accepting to Moons.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/fsvgm777 
		"fsvgm777
	]a
	": Processing.
]div
