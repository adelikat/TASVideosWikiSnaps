6
[p 
	(youtube|v=Z5oF-bCvcsI|w=480|h=320)
	$LF
]p
[p 
	"(Comparison coming in 1-2 weeks.)
	$LF
]p
[p 
	"This run is 
	(frames|amount=1180|fps=59.727500569606)
	" seconds faster than the 
	[a class=intlink href=/3367M 
		"previous run
	]a
	", thanks to route changes and slight optimizations.
	$LF
]p
[h3 id=Objectives 
	" Objectives
	$LF
]h3
[ul 
	[li 
		" 
		[img class=embed src=https://i.imgur.com/pnF8srf.gif 
		]img
		$LF
	]li
	[li 
		" Genre: Action
		$LF
	]li
	[li 
		" Uses resets
		$LF
	]li
	[li 
		" Emulator: Bizhawk 2.3.1 mGBA-core 0.6.0 
		[br 
		]br
		"Previous versions of Bizhawk use older mGBA and therefore will not sync.
		$LF
	]li
]ul
[p 
	"Ever since I finished my previous run, I knew about a 
	[a class=intlink href=/Forum/Viewtopic.php?p=451319#451319 
		"possible improvement
	]a
	" which is to take the star from the 3 fly-guys in Bowser's Castle and skip another, longer star. Recently I gained interest in this game again and started investigating. I determined that the fly-guys star took ~9 seconds to get, and the snakes star in the pyramid takes ~13-14 seconds, therefore I expected a time save of 4 seconds. So I started the project.
	$LF
]p
[p 
	"This game is usually sync friendly. Same inputs will yield same outcomes. But after migrating to mGBA core 0.6.0, some of the old strats wouldn't work anymore. I couldn't find the exact root cause for this, but the ball would sometimes ricochet to a different angle despite using the same inputs. Perhaps the game uses some kind of RNG, or other factors to determine the angle. I noticed that the ball sometimes had a different 
	[em 
		"facing direction
	]em
	" than before, for some reason (as in, it had the same position, velocity etc. but it looked different). This seemed to increase the risk of desyncs. As a result, I had to redo a few rooms, such as the penguins and the windmill exterior. Lakitu didn't sync because he appeared 1 frame off. The problems weren't very prevalent though, since many other rooms (especially later ones like Fun Fair and Bowser) synced without problems.
	$LF
]p
[p 
	"Throughout the run I found more route changes leading to more time saves: 
	$LF
]p
[p 
	[b 
		"Old route
	]b
	$LF
]p
[ul 
	[li 
		" Ice (get Yoshi egg - used in Desert)
		$LF
	]li
	[li 
		" Desert (get Lightning - used in Fun Fair)
		$LF
	]li
	[li 
		" Fun Fair (get Lightning - used in Grass)
		$LF
	]li
	[li 
		" Grass
		$LF
	]li
	[li 
		" Bowser's Castle
		$LF
	]li
]ul
[p 
	[b 
		"New route
	]b
	$LF
]p
[ul 
	[li 
		" Ice (get Yoshi egg - used in Desert)
		$LF
	]li
	[li 
		" Grass
		$LF
	]li
	[li 
		" Desert (get Lightning - used in Fun Fair)
		$LF
	]li
	[li 
		" Fun Fair (get Lightning - used in Bowser's Castle 3 fly-guys room)
		$LF
	]li
	[li 
		" Bowser's Castle 
		$LF
	]li
]ul
[p 
	"Not using Fun Fair's Lightning on the goombas in Grass Land costs ~2.5 seconds, but allows to instantly kill the 3-fly-guys and get the star without having to shoot at anything, saving ~7 seconds back.
	$LF
]p
[p 
	"I noticed that the right room in the pyramid had a faster pattern than the left room, so I took the right path, saving ~5.25 seconds.
	$LF
]p
[p 
	"In the Desert, I changed up the order of the first rooms because the strat to go straight up to the pyramid did not sync anymore. I also determined it was faster to kill the 2 Pokeys when they were closer together, which saved ~2.6 seconds.
	$LF
]p
[p 
	"Other than that, I found a few optimizations such as in the underwater sections and at the windmill exterior. I 
	[del 
		"slacked off at later sections
	]del
	" determined later sections (Fun Fair, Bowser) where fine so I synced in the old strats. Initially I wanted to do the Toad minigame 
	[em 
		"before
	]em
	" Boo instead of 
	[em 
		"after
	]em
	" because I needed the extra star to enter, but with the additional route changes that was not necessary anymore, not to mention it would have been ~0.5 sec slower.
	$LF
]p
[p 
	"From what I saw, there was some additional lag from coins that spawned after Tutankoopa and Boo (also random lag in other rooms). Nothing much I could do about it. This amounted to about 5-6 frames lost.
	$LF
]p
[h3 id=Links 
	" Links
	$LF
]h3
[ul 
	[li 
		" 
		[a class=extlink href=https://pastebin.com/xEMabsb1 rel=nofollow 
			"Lua script
		]a
		" I made, useful for some limited testing (lets you edit your item)
		$LF
	]li
	[li 
		" 
		[a class=extlink href=https://tcrf.net/Mario_Pinball_Land rel=nofollow 
			"TCRF page
		]a
		$LF
	]li
	[li 
		" 
		[a class=intlink href=/Forum/Viewtopic.php?t=4222&start=25&postdays=0&postorder=asc&highlight= 
			"Forum topic
		]a
		" 
		$LF
	]li
]ul
[h3 id=Closure 
	" Closure
	$LF
]h3
[p 
	"I will try to work on a comparison video again this time, but the route changes will make it difficult to edit. So expect it in 1-2 weeks.
	$LF
]p
[p 
	"I'm not sure I will work on 35 stars right away, but it's definitely something I would do eventually. Maybe. I made 
	[a class=intlink href=/Forum/Viewtopic.php?p=451325#451325 
		"this map
	]a
	" and I just need to figure out a good route before I begin. I expect much Yoshi egg and "get stars while leaving the room"-glitch shenanigans. Also buying items at shops and planning coins ahead of time will be kind of a hell.
]p
