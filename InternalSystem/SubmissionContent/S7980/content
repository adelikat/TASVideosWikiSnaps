6
[h3 id=GameObjectives 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		" Emulator used: Bizhawk 2.8
		$LF
	]li
	[li 
		" Primary objective: speed
		$LF
	]li
	[li 
		" Plays on the fastest combination of version (JP) and difficulty (Hero)
		$LF
	]li
]ul
[h3 id=GameMechanics 
	" Game mechanics
	$LF
]h3
[div class=p 
	[a href=https://kb.speeddemosarchive.com/Castelian_(NES) rel=noopener external nofollow 
		"https://kb.speeddemosarchive.com/Castelian_(NES)
	]a
	$LF
]div
[h3 id=Background 
	" Background
	$LF
]h3
[div class=p 
	"I'm fully aware that this is an improvement no one asked for, but it pains me to have publications with my name where known improvements exist (and are easily implemented). So let's get this over with...
	$LF
]div
[div class=p 
	"After TASing this game in the second half of 2022, I eventually turned to real-time speedruns. While doing attempts, I came across a few questions that were worth investigating for the TAS. I'm now done with the real-time attempts and decided to dig into the questions I had noted down. A few of them were possible to convert to time saves and the result is an 82 frame improvement over 
	(__wikiLink|href=/4937M|implicitdisplaytext=4937M)
	".
	$LF
]div
[h3 id=Comments 
	" Comments
	$LF
]h3
[h4 id=Tower3 
	" Tower 3
	$LF
]h4
[div class=p 
	"By testing various possibilities, I found a solution that resulted in less lag in the countdown screen and the screen before tower 4. 6 frames saved.
	$LF
]div
[h4 id=Tower4 
	" Tower 4
	$LF
]h4
[div class=p 
	"Better manipulation of the bouncing ball that was shot at f18337. This saved 24f, but 8f were then lost from worse random lag on the "between-level" screens. 22f ahead of the previous run at this point.
	$LF
]div
[h4 id=Tower5 
	" Tower 5
	$LF
]h4
[div class=p 
	"20f saved by less lag (most of it random lag). 42f ahead of the previous run at this point.
	$LF
]div
[h4 id=Tower6 
	" Tower 6
	$LF
]h4
[div class=p 
	"Overall 11f saved from better random lag (some lost in the level and on the countdown screen, but the screen before tower 7 more than made up for those losses). 53f ahead of the previous run at this point.
	$LF
]div
[h4 id=Tower7 
	" Tower 7
	$LF
]h4
[div class=p 
	"31f saved from better random lag (pretty much all of it from the "between-level" screens). 84f ahead of the previous run at this point.
	$LF
]div
[h4 id=Tower8 
	" Tower 8
	$LF
]h4
[div class=p 
	"2f lost from random lag. In total 82f saved over the previous run.
	$LF
]div
[h3 id=FinalWords 
	" Final words
	$LF
]h3
[div class=p 
	"There are a few actual gameplay improvements in this submission, but most of the improvement comes from more extensive testing (= trial and error) to reduce random lag. With the current knowledge, the lag is literally "random". 
	$LF
]div
[div class=p 
	"Most of the variation sits in the black screens between levels. When lag in a game is generated by e.g. sprites on screen, it can be interesting to try and optimize it. But when it's generated seemingly without any kind of pattern in black screens without activity, optimization feels in my opinion fairly unrewarding and pretty pointless. I'm sure more frames can come off, but I feel I'm done with this game until a new improvement involving the gameplay is found.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Claiming for judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Accepting over 
	(__wikiLink|href=/4937M|implicitdisplaytext=4937M)
	".
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/despoa 
		"despoa
	]a
	": Processing...
]div
