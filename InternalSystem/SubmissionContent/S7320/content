5
[div class=p 
	(youtube|v=cW9SPUA684Q)
	$LF
]div
[hr 
]hr
[h2 id=Attributes 
	"Attributes
	$LF
]h2
[ul 
	[li 
		"Aims for lowest real time / frame count
		$LF
	]li
	[li 
		"Takes damage to save time
		$LF
	]li
	[li 
		"Uses all of the glitches I could find and one could imagine of
		$LF
	]li
]ul
[hr 
]hr
[h2 id=Overview 
	"Overview
	$LF
]h2
[div class=p 
	"This is an improved any% TAS of SNES Hook, which improves the currently published run by Zidanax by 7206 frames. Stage by stage comments take emulation differences in account.
	$LF
	"The massive improvement was reached after applying many newly discovered techniques and glitches I found, and keeping the general optimization higher throughout the TAS, and utilizing
	$LF
	"a hitbox viewer LUA script I coded.
	$LF
]div
[hr 
]hr
[h2 id=NewGlitches 
	"New glitches
	$LF
]h2
[div class=p 
	"There are a bunch of new techniques and glitches I discovered and only after that I decided to TAS this, due to realizing how enormous amount of time they could save together.
	$LF
]div
[h3 id=Edgecutting 
	"Edgecutting
	$LF
]h3
[div class=p 
	"It is possible to enter inside walls up to 3 px when starting from above or below them because of a fault in the engine. This is the most common method to enter walls and floors during the TAS.
	$LF
]div
[h3 id=AutoZippingLeftAndUpOrBoth 
	"Auto-zipping (left and up or both)
	$LF
]h3
[div class=p 
	"Zip which automatically moves Pan 1 block (16px) per frame left, up or both of those. Doable with various inputs after Pan is already inside a wall. Unfortunately this is rarely useful outside of the stages 8 and 10.
	$LF
]div
[h3 id=ZippingDiagonallyAllDiagonals 
	"Zipping diagonally (all diagonals)
	$LF
]h3
[div class=p 
	"You need to be inside a wall: Pan's flying hitbox is shorter and wider than the normal hitbox which is used for collisions during all other scenarios. By rapidly switching the hitbox size it makes it possible to zip
	$LF
	"towards any diagonal direction this way. 1 hitbox change = half block (8 px) zip. What defines the direction is Pan's Y-Speed direction (up or down) and facing direction (left or right).
	$LF
]div
[h3 id=ZippingUpAWallUpOnly 
	"Zipping up a wall (up only)
	$LF
]h3
[div class=p 
	"See stage 3 after acquiring flyfuel: this is similar to diagonal zipping except this time we aren't inside a wall. Flying against a wall with just correct Y-Speed and then starting to rapidly switch the hitbox size allows to zip
	$LF
	"up the wall half block (8 px) per frame.
	$LF
]div
[h3 id=StoringWaterPhysics 
	"Storing water physics
	$LF
]h3
[div class=p 
	"See stage 5: it is possible to make the game think Pan is still underwater by avoiding certain blocks which have the purpose of deleting water flag. Having water physics outside of the water makes the game push Pan downwards
	$LF
	"one block per frame (16 px). This was the only way I found to enter the floor near stage 5's exit and zip there as a shortcut.
	$LF
]div
[h3 id=AirUnderwater 
	"Air underwater
	$LF
]h3
[div class=p 
	"Using edgecut and moving against the same wall while being underwater makes Pan lose the swimming state and you can for example start to fly underwater afterwards.
	$LF
]div
[h3 id=Flyrunning 
	"Flyrunning
	$LF
]h3
[div class=p 
	"With proper positioning and correct knockback framerule it is possible to store the speed of the flight (2ppf) into running Pan and build it up to 2.5ppf from there. Used twice during the TAS (stages 5 and 10)
	$LF
]div
[h3 id=WaterGroundSpeedkeep 
	"Water -> ground speedkeep
	$LF
]h3
[div class=p 
	"Jumping to water keeps the previous X-Speed Pan had, and it is possible to maintain it with a frameperfect down input just after Pan emerges from water and starts to walk. Used once (stage 1).
	$LF
]div
[h3 id=MaintainingRunningWithoutMoving 
	"Maintaining running without moving
	$LF
]h3
[div class=p 
	"Mashing down input as fast as possible makes it possible to just run stationarily and maintain the speed. Used on a few occasions.
	$LF
]div
[h3 id=BenefitsOfPausing 
	"Benefits of pausing
	$LF
]h3
[ul 
	[li 
		"Starting to run without a sword slash
		$LF
	]li
	[li 
		"Getting the knockback framerule you want. Knockback operates on a 4-frame rule, and with pausing you can avoid the horizontal movement of it entirely (see stage 1: staying inside the wall after hitting a spike).
		$LF
	]li
]ul
[hr 
]hr
[h2 id=ThingsToAvoid 
	"Things to avoid
	$LF
]h2
[div class=p 
	"This section is for listing the things which the player should avoid while playing.
	$LF
]div
[h3 id=JumpingAndLanding 
	"Jumping and landing
	$LF
]h3
[div class=p 
	"Each jump and landing costs 1 frame.
	$LF
]div
[h3 id=FallingOffAnEdge 
	"Falling off an edge
	$LF
]h3
[div class=p 
	"Falling off an edge costs 1 frame unless you sword slash.
	$LF
]div
[h3 id=FlyingWhileFillingTheFlyfuel 
	"Flying while filling the flyfuel
	$LF
]h3
[div class=p 
	"Fuel fills at rate of 4 per frame but if you are flying, the rate drops down to 3.
	$LF
]div
[h3 id=ScoreCalculationDrawbacksDuringEndOfAStage 
	"Score calculation drawbacks during end of a stage
	$LF
]h3
[ul 
	[li 
		"Each unnecessary hp remaining costs 16 frames.
		$LF
	]li
	[li 
		"Each flyfuel remaining costs 1 frame unless you have less than 16 flyfuel.
		$LF
	]li
	[li 
		"Each stage second remaining costs 1 frame.
		$LF
	]li
	[li 
		"Each stage minute remaining costs 10 frames.
		$LF
	]li
]ul
[h3 id=GroundSwordAttack 
	"Ground sword attack
	$LF
]h3
[div class=p 
	"Sword attack loses 1 frame at the end of it unless it ends midair. Acceleration is impossible during a slash.
	$LF
]div
[h3 id=GoingWithoutFlyfuel 
	"Going without flyfuel
	$LF
]h3
[div class=p 
	"General rule of a thumb is that each frame of refilling flyfuel saves 0.5 pixels, so it definitely is almost always worth it to take all you can.
	$LF
]div
[hr 
]hr
[h3 id=HorizontalMovementSpeeds 
	"Horizontal movement speeds
	$LF
]h3
[ul 
	[li 
		"Walking = 0.75 pixels per frame.
		$LF
	]li
	[li 
		"Jumping = 0.75 pixels per frame.
		$LF
	]li
	[li 
		"Jumping after walking for one frame = 1 pixel per frame.
		$LF
	]li
	[li 
		"Running with full speed = 1.5 pixels per frame.
		$LF
	]li
	[li 
		"Flying = 2 pixels per frame.
		$LF
	]li
	[li 
		"Flyrunning with full speed = 2.5 pixels per frame.
		$LF
	]li
	[li 
		"Diagonal zipping (all diagonals) = 8 pixels per frame.
		$LF
	]li
	[li 
		"Automatic zipping (left and up only) = 16 pixels per frame.
		$LF
	]li
]ul
[hr 
]hr
[h2 id=StageByStageComments 
	"Stage by stage comments
	$LF
]h2
[hr 
]hr
[div class=p 
	"Stage 1: -172 frames
	$LF
]div
[div class=p 
	"Score screen: +3 frames
	$LF
]div
[ul 
	[li 
		"Water -> ground speedkeep and zipping were the main timesavers
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 2: -1 frame
	$LF
]div
[div class=p 
	"Score screen: +1 frame
	$LF
]div
[ul 
	[li 
		"This stage is very laggy on lsnes, so I had to find a route which avoided most of the lag but had some unnecessary jumps.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 3: -338 frames
	$LF
]div
[div class=p 
	"score screen: +5 frames
	$LF
]div
[ul 
	[li 
		"More thoroughly optimized, zipping up a wall was used later on.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 4: -442 frames
	$LF
]div
[div class=p 
	"Score screen: +8 frames
	$LF
]div
[ul 
	[li 
		"Zipping and killing the boss as low as possible helped a bunch.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 5: -1169 frames
	$LF
]div
[div class=p 
	"Score screen: -12 frames
	$LF
]div
[ul 
	[li 
		"From flyrunning to zipping to air underwater to storing water physics. Boom 
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 6: -310 frames
	$LF
]div
[div class=p 
	"Score screen: -45 frames
	$LF
]div
[ul 
	[li 
		"This icy stage was crushed with the enemy damageboost to get past the icy pillar much quicker, followed by an edgecut slopeclip.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 7: +2 frames
	$LF
]div
[div class=p 
	"Score screen: -1 frame
	$LF
]div
[ul 
	[li 
		"Time was lost on purpose to make the knockback 4-framerule align in stage 8.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 8: -3188 frames
	$LF
]div
[div class=p 
	"Score screen: -29 frames
	$LF
]div
[ul 
	[li 
		"Although this place is very dark, you may not see it but zipping was so helpful that it saved almost a whole minute. 
		$LF
	]li
	[li 
		"Boss strategy was improved aswell.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 9: -159 frames
	$LF
]div
[div class=p 
	"Score screen: +3 frames
	$LF
]div
[ul 
	[li 
		"Some optimizations here and there, bird boss is killed much quicker and zip towards the exit saved some frames.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 10: -1453 frames
	$LF
]div
[div class=p 
	"Score screen: -25 frames
	$LF
]div
[ul 
	[li 
		"Finally, a stage where auto-zipping could be used both leftwards and upwards! In fact the leftwards autozip had to be interrupted for a short moment, 
		$LF
	]li
]ul
[div class=p 
	"or the area's exit just wouldn't spawn otherwise (what the heck?).
	$LF
]div
[ul 
	[li 
		"Hook's area is mostly filled with slopes, which disallow zipping... Flyrunning saves the day!
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	"Stage 11: +1 frame
	$LF
]div
[div class=p 
	"Score screen: -32 frames
	$LF
]div
[ul 
	[li 
		"For some reason, Hook was one frame longer invulnerable compared to zidanax's version, before the 1st strike could be landed. I wonder why.
		$LF
	]li
]ul
[hr 
]hr
[h2 id=Thanks 
	"Thanks
	$LF
]h2
[ul 
	[li 
		"Thanks to Zidanax for the previous TAS for providing existing material to compare against.
		$LF
	]li
	[li 
		"Thanks to the speedrunning community for discovering a few useful things like clipping through midair slopes / ascent on midair slopes after receiving damage.
		$LF
	]li
	[li 
		"Thanks to Aran;Jaeger for some feedback and attempting to help with the glitch hunt.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/Truncated 
		"Truncated
	]a
	": Claiming for judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Truncated 
		"Truncated
	]a
	": Looking very good! The previous movies of this game didn't have that many tricks, so these new zipping techniques improve the entertainment of the movie in addition to making it faster. Accepting as an improvement to 
	(__wikiLink|href=/870M|implicitdisplaytext=870M)
	".
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/EZGames69 
		"EZGames69
	]a
	": Processing...
]div
