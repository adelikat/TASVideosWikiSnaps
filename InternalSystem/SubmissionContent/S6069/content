11
[h2 
	"Adventures in the Magic Kingdom
	$LF
]h2
[p 
	"Goofy has left the golden key needed to start the parade in the castle, but six silver keys are needed to open the castle gate. Mickey wonders if you can find them scattered around the magic kindom, the parade can't go on without them!
	$LF
]p
[p 
	(youtube|v=4VN8zSIDizw)
	$LF
]p
[h2 
	" Game objectives
	$LF
]h2
[ul 
	[li 
		" Emulator used: Bizhawk 2.2.2
		$LF
	]li
	[li 
		" Takes damage to save time
		$LF
	]li
]ul
[h2 
	" Attractions
	$LF
]h2
[ul 
	[li 
		" Pirates of the Caribbean - A platforming stage where you are tasked with rescuing 6 villagers and then lighting a signal fire
		$LF
	]li
	[li 
		" The Haunted House - A platformaing stage where you battle the only boss, a ghost. The ghost also haunts you at the beginning of the stage and is a one hit KO.
		$LF
	]li
	[li 
		" Big Thunder Mountain - In this auto-scroller you are tasked with steering a train to a given station while avoiding obsticles and dead-ends.
		$LF
	]li
	[li 
		" Autopia - A top-down car race of sorts.
		$LF
	]li
	[li 
		" Space Mountain - Navigate through space by pressing the buttons as directed at the bottom of the screen. On a first playthrough this is about reaction time, but the pattern is pretty fixed with a fairly minimal amount of branching.
		$LF
	]li
	[li 
		" Trivia - A series of NPCs scattered around the overworld ask Disney trivia questions.
		$LF
	]li
]ul
[h2 
	" Game Mechanics
	$LF
]h2
[h3 
	" Controls
	$LF
]h3
[ul 
	[li 
		" up - enter doors. climb. shift up.
		$LF
	]li
	[li 
		" left - move/turn left
		$LF
	]li
	[li 
		" right - move/turn right
		$LF
	]li
	[li 
		" down - duck. brake.
		$LF
	]li
	[li 
		" B - throw candle. fire. brake.
		$LF
	]li
	[li 
		" A - jump. fire. accelarate. select/advance menus, hold to speed up text.
		$LF
	]li
	[li 
		" select - bring up the menu. on most stages you're allowed to bring this up to purchase a life refill, freeze, invincibility, or an extra life using stars you've collected.
		$LF
	]li
	[li 
		" start - pause
		$LF
	]li
]ul
[h3 
	" Items
	$LF
]h3
[ul 
	[li 
		" Stars - Used to purchase advantages from the select menu
		$LF
	]li
	[li 
		" Candles - Used as a projectile in the haunted house and pirate stages
		$LF
	]li
]ul
[h2 
	" Route
	$LF
]h2
[p 
	"I did some brute forcing to verify but the current RTA overworld route is optimal at 256 steps. Conveniently this allows you to gather some stars in Autopia that you can make use of in the pirate and haunted house stages. A couple of the individual attractions have some minor routing in them, but the most difficult thing to manage was lag.
	$LF
]p
[h2 
	"Attraction specific comments
	$LF
]h2
[h3 
	"Trivia
	$LF
]h3
[p 
	"There is a decent library of questions and the question you get is pretty random. Just changing the frame you press A just before the question is asked can give you a differen question. The time it takes for the question to be asked is based on the amount of text in the question/answer so I just manipulated them to find the shortest question/answer that got me through each question the fastest. Note that due to the step route the trivia is spread throughout the run.
	$LF
]p
[h3 
	"Space Mountain
	$LF
]h3
[p 
	"This is the most straight forwared thing in the run. There are a few branches, but I take the shortest route and press each button as soon as possible. No lag to manage here.
	$LF
]p
[h3 
	"Autopia
	$LF
]h3
[p 
	"At the start I hold A and tap up to shift up and get to the max speed as soon as possible. I collect as many stars as I can without losing time, but lag management is big here. If more than one enemy is on screen, and particularly if you're also trying to move left/right the game will lag quite a bit. Quite a bit of time was spent trying to bump enemies off the course to keep as few on screen as possible. Of particular note it is actually faster to run the first car off the road and take a bonk from the first cone than it is to forge on and eat the lag when the second enemy spawns. It looks stupid, but it is faster. There is a bridge near the end of the stage and you must allow the bridge to complete before crossing, you'll fall in even if there is just a sliver of a gap.
	$LF
]p
[h3 
	"Pirates of the Carribean
	$LF
]h3
[p 
	"This is a pretty basic platformer for the most part. You can grab the ladder in mid-air and once on the ladder you can hold a direction and press A to jump, as a result not much time is spent on ladders and getting up the mis pretty quick. The route is pretty straight forward because of the placement of the villagers, but lag management is a big issue here. If more than one enemy is on screen the game tends to lag, so I tried to reduce this as much as possible. The water section in the middle does have drops the come down and splash, but I was able to manipulate them away without wasting much time. We see the first uses of power ups here. You can wait for the fireballs or freeze them, but using invincibility was faster. The freeze was faster for the pirates underground though, mostly because freezing means the second one isn't throwing coins as much and causing more lag. It is noteworthy here that after you jump the pit there is a piarte that is supposed to come out of the ground, he doesn't because of the freeze, but the still has a hitbox so we have to jump him anyway. At the end you have to wait for the screen to scroll down for the fire to light so I actually hop my way across as much of the last section as I can to keep the screen from scrolling all the way up in the first place.
	$LF
]p
[h3 
	"The Haunted House
	$LF
]h3
[p 
	"Continued basic platforming. Sneaking under the one hit kill ghost at the start is a pretty tight window, I considered using frezze here to reduce the spawns, but it wasn't faster. There isn't much to say about the next screen, but the ballroom after has some manipulations. The dancing couples will move up/down when they get near by based on your Y position, so we can manipulate a little. I also take a reverse dboost from high up to get a higher speed for a short time. There is a recovery animation, but it is absorbed by the air time making it worth while. The chairs after this spawn based on the screen scrolling so I manipulate them to spawn at the best time I can. The chair in the next room is an auto-scroller, but the key is killing the books quickly so they don't start causing lag. There is a lot of lag at the end of the room, but unfortuantely not much can be done about the enemies that spawn because of their positions. The only real interesting thing about the boss that ends the stage is that the spawn is based on a counter that is only counting while the screen is scrolling. He has a chance to spawn every 60 frames if the screen is scrolling, but if you stand still he will never spawn. It was quickest to take him out with invincibilty since he is hard to avoid.
	$LF
]p
[h3 
	" Big Thunder Mountain
	$LF
]h3
[p 
	"This is a pretty basic auto-scroller where you just have to pick the correct directions to get you to the given station without taking too many hits or finding a dead end. The station you're directed to is set when you hit start on the title screen, but due to the auto-scrolling nature all of the stations would be within a few frames. Surprisingly this is the part the took the most time to TAS even though the only controls are left/right to set the direction at each fork and B to brake. Unfortunately there is a lot of lag here, and hitting directions or brakes has an effect. To make things worse the effect isn't immediately obvious. Max speed is 4 pixels per frame, but it turns out that if you hit the brakes for 1 frame you drop to 3 pixels per frame for 3 frames before going back to 4. This means if you can save a lag frame by braking you end up 1 pixel ahead. I ended up writing some lua to bot this and ran it for a couple of weeks. My search was definitely not exhaustive, so it is possible that a few more frames could be saved, but I ended up about 3/4 of a second ahead of what you'd get if you just took the same route without any lag management.
	$LF
]p
[h2 
	" Improvements
	$LF
]h2
[ul 
	[li 
		" If there was a way to rescue the villager and get a dboost off the ledge by the barrel that would probably save some frames. Normal walking speed is 9 pixels every 8 frames. Walking down a slope or taking a dboost is 3 pixels every 2 frames. There is a recovery animation so dboosts really only help if you have a distance to fall like you would in that situation.
		$LF
	]li
	[li 
		" I have to imagine you could squeeze a couple more frames out of thunder mountain since my search was not exhaustive, but I think my result was pretty good
		$LF
	]li
	[li 
		" AngryLarry found that if you throw a candle as you light the fire at the end of the pirate stage it skips the animation of you getting in the boat. There is a 15 frame window to press B before the game stops taking input and the animation skip saves 13 frames. I tried to incorporate this quick, but as I suspected the run desynced in the ghost stage.
		$LF
	]li
	[li 
		" MESHUGGAH had a wip where he did a freeze early in the first pirate screen and it looks like it could save around 30 frames in lag
		$LF
	]li
	[li 
		" If there were some other change it may result in better question luck, but I don't think there is too much time lost on question manipulation in this run.
		$LF
	]li
]ul
[h2 
	" Thanks to:
	$LF
]h2
[ul 
	[li 
		" The ELITE tournament for picking up and running this game
		$LF
	]li
	[li 
		" my Twitch chat for the ideas and encouragement
		$LF
	]li
	[li 
		" The TASMania team
		$LF
	]li
]ul
[h4 
	" Screenshots:
	$LF
]h4
[p 
	"10, 187, 5598, 10526, 21193, 29701, 32678, 36000
	$LF
]p
[hr 
]hr
[p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Must judge this run and see the game pay for my childhood.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": And it doesn't disappoint. Nice movie, and it stands well against existing WIPs. The game has a lot of variety, and even though there wasn't a lot of feedback, this is a clear Moons to me. Accepting.
	$LF
]p
[p 
	[a class=intlink href=/Users/Profile/fsvgm777 
		"fsvgm777
	]a
	": Processing.
]p
