18
[div class=p 
	"This is an improvement of 3790 frames (63.06 seconds) over the 
	(__wikiLink|displaytext=previous submission|href=/2266M)
	", using a new set of glitches and techniques.
	$LF
]div
[div class=p 
	"(
	[a href=http://www.nicovideo.jp/watch/sm25428252 rel=noopener external nofollow 
		"Link to Nicovideo
	]a
	") seems to be censored by Nintendo.
	$LF
]div
[h3 id=GameObjectives 
	" Game objectives
	$LF
]h3
[ul 
	[li 
		"Emulator: lsnes rr2-beta21
		$LF
	]li
	[li 
		"Aims for fastest time
		$LF
	]li
	[li 
		"Takes damage to save time
		$LF
	]li
	[li 
		"Uses warps and backtracks to save time
		$LF
	]li
	[li 
		"Abuses programming errors
		$LF
	]li
	[li 
		"Forgoes any kind of game end glitch or arbitrary code execution
		$LF
	]li
]ul
[h3 id=Comments 
	" Comments
	$LF
]h3
[div class=p 
	"This run was initially proposed by Bruno Visnadi, as the result of a new glitch that he discovered. However, we didn't imagine that the previous run was so improvable. This is also the transition between an inaccurate emulator to lsnes, which emulates the lag correctly. So, another challenge is the comparison between the two runs. You might notice that we didn't collect many coins in the first levels. In fact, it seems like we avoided them. The number of coins can cause lag inside the levels and that's why we have less than 10 coins in Crystal/Sky/Ice Star World. Plus: some levels of Star World were redone, in order to save lag, even if it costs many real frames. As we had to wait the frame rule of the Bowser Statue anyway, it's better to not stop the internal frame counter of the game, to accelerate the process.
	$LF
]div
[h3 id=NewGlitches 
	"New glitches
	$LF
]h3
[div class=p 
	[a href=https://www.youtube.com/watch?v=2tdhossZ5qI rel=noopener external nofollow 
		"Stunning a Fish
	]a
	" : the stun glitch is explained in the game resources page. If we apply this glitch in the fish and it is in a level with sprite buoyancy enabled, then it will spawn Reznor. It's also possible without buoyancy, but one would need a Lakitu and its cloud to activate the stun timer of the fish. However, Reznor must spawn into slot 7, otherwise we won't be able to defeat it. Yoshi's tongue is used for that purpose, since it uses the same address that keeps track of each sprite in the Reznor room.
	$LF
]div
[div class=p 
	[b 
		"Stunning a Piranha Plant
	]b
	": the same thing, but sprite buoyancy isn't required.
	$LF
]div
[div class=p 
	[a href=https://www.youtube.com/watch?v=5Nwcggojnds rel=noopener external nofollow 
		"Forcing Yoshi inside a wall
	]a
	": this was discovered by Amaraticando. Mario must have speed 49 or higher and Yoshi must have horizontal subpixel E or F. One needs to approach the wall in conditions of wall catch for 2 consecutive frames and then dismount Yoshi, pressing left or right. This causes him to have a speed of 1 or 2. This can be used to pass through solid ceilings (only 1 tile).
	$LF
]div
[div class=p 
	[a href=http://www.smwcentral.net/?p=viewthread&t=72499 rel=noopener external nofollow 
		"Using a Pokey to duplicate a block
	]a
	": In addition to spawning a goal point, spitting out a stunned Pokey will produce a rather interesting sprite similar to a Key. The most notable thing about it, however, is that its interaction is 5 tiles below the actual graphic, yet Mario still grabs it at the graphic. This can cause some interesting effects, such as duplicating a block five blocks upward in a single throw.
	$LF
]div
[div class=p 
	[a href=http://www.smwcentral.net/?p=viewthread&t=72499 rel=noopener external nofollow 
		"Lava clip
	]a
	": The top tile of tileset-specific lava can be used to push Mario into blocks. Interestingly, if Mario is big, it can also be used send him all the way through solid walls or solid floors without being crushed.
	$LF
]div
[div class=p 
	[b 
		"Corner boost while flying
	]b
	": the principle is the same, but the difficulty is enormous, sometimes.
	$LF
]div
[hr 
]hr
[h3 id=StageByStageComments 
	" Stage by stage comments
	$LF
]h3
[div class=p 
	"Comments started with "emulator transition" mean that the previous TAS had advantages, by emulating less lag than it should have. Fadeout lag and lag outside the level are ignored in the comparison.
	$LF
]div
[div class=p 
	[b 
		"Misty Isle 1
	]b
	" (0)
	$LF
	[br 
	]br
	"No difference.
	$LF
]div
[div class=p 
	[b 
		"Misty Isle 2
	]b
	" (1)
	$LF
	[br 
	]br
	"1 frame, due to a better acceleration and extra corner boost.
	$LF
	[br 
	]br
	"Emulator transition: 1 lag near the end.
	$LF
]div
[div class=p 
	[b 
		"Misty Isle 3
	]b
	" (0)
	$LF
	[br 
	]br
	"No difference. We have delay for a frame, inside the level, so Goomba has a good oscillation. This is better than entering the level 1 frame after.
	$LF
]div
[div class=p 
	[b 
		"Misty Isle 4
	]b
	" (0)
	$LF
	[br 
	]br
	"No difference.
	$LF
]div
[div class=p 
	[b 
		"#1 Misty Castle
	]b
	" (0)
	$LF
	[br 
	]br
	"No difference, better score.
	$LF
	[br 
	]br
	"Emulator transition: 3 extra lag frames in the 3rd room.
	$LF
]div
[div class=p 
	[b 
		"Salty Isle
	]b
	" (0)
	$LF
	[br 
	]br
	"We save 1 frame with better corner clips and corner boosts while flying. However, we had to redo this level to avoid the block with a coin inside.
	$LF
]div
[div class=p 
	[b 
		"Desert World 1
	]b
	" (1)
	$LF
	[br 
	]br
	"1 frame is saved by more corner clips.
	$LF
]div
[div class=p 
	[b 
		"Desert World 2
	]b
	" (8)
	$LF
	[br 
	]br
	"During the corner clip to the keyhole, we start falling as soon as needed to enter, without stopping.
	$LF
]div
[div class=p 
	[b 
		"Desert Pyramid
	]b
	" (12)
	$LF
	[br 
	]br
	"1st room: We save 6 frames by using a better sequence of corner clips, by taking advantage of corner boosts while flying and by hitting the P-switch block earlier.
	$LF
	[br 
	]br
	"2nd room: Micro-optimizations throughout all the room.
	$LF
	[br 
	]br
	"Emulator transition: 6 extra lag frames.
	$LF
]div
[div class=p 
	[b 
		"#2 Desert Castle
	]b
	" (-43)
	$LF
	[br 
	]br
	"1st room: We save 14 frames by flying, instead of using the 6/5 technique. We enter the pipe in a better way too.
	$LF
	[br 
	]br
	"2nd room: Corner boosting saves a frame, but we lose 56 frames in this room, as a setup to Star World. Since we need to get hurt, we lose 48 frames in this animation. In the first 
	[a class=intlink href=/Userfiles/Info/18952821441120144 
		"WIP
	]a
	", we lost the powerup in the thorn and then did two wall jumps. However, getting the Koopa shell, then using infinite air-catch and finally scrolling the camera (by snagging the wall during 2 consecutive frames) is even faster. Something similar can be used in the 120-exit run, without getting hurt. We delay the door entrance to save lag.
	$LF
	[br 
	]br
	"3rd room: We purposely lose 1 frame, to save lag, due to the frame rule of the star road.
	$LF
]div
[div class=p 
	[b 
		"Desert Secret
	]b
	" (37)
	$LF
	[br 
	]br
	"By simply going to the left (because the level is not symmetrical!), we save 5 frames. And 32 frames are saved by not getting the Fireflower.
	$LF
]div
[div class=p 
	[b 
		"Desert Star World
	]b
	" (-1263)
	$LF
	[br 
	]br
	"The only way to perform the stun glitch without losing the shell in the item box is starting small and using the double-tongue glitch while getting the mushroom. At first, we perform the stun glitch in the shell and then its slot number stays in Yoshi's mouth. After that, Pokey's slot is the same number registered in Yoshi's mouth. In other words, Yoshi has a Pokey in the mouth and can spit it. This creates the goal tape in the top-left part of the level and a stunned Pokey that can be grabbed. Using the Pokey glitch to duplicate the block, we can get up there and hit the goal tape.
	$LF
]div
[div class=p 
	[b 
		"Water Star World
	]b
	" (3507)
	$LF
	[br 
	]br
	"The shell is released before we get the flower. We get it twice by eating it at the same time as we touch it. Then, we do the stun glitch using the shell and the fish. The procedure is very fast, so watch it in slowdown:
	$LF
]div
[ul 
	[li 
		"Recycle the shell, by stomping and eating at the same time. This created the naked Koopa.
		$LF
	]li
	[li 
		"Dismount from Yoshi and use the Fireflower to turn the Koopa into a coin.
		$LF
	]li
	[li 
		"Mount in Yoshi again and release the tongue as you get hurt in the block. This creates the double tongue glitch.
		$LF
	]li
	[li 
		"In the first lick, grab a sprite that remains in Yoshi's mouth, i.e., the shell.
		$LF
	]li
	[li 
		"In the second lick, grab a sprite that you wish to stun, i.e., the coin.
		$LF
	]li
	[li 
		"Get hurt in the fish to eat-cancel the coin. Now, its slot is registered in Yoshi's mouth.
		$LF
	]li
	[li 
		"Get the coin fast, before the other fish appears on screen.
		$LF
	]li
	[li 
		"Now, this fish has the same slot number that is registered in Yoshi's mouth.
		$LF
	]li
	[li 
		"Spit it and Reznor appears!
		$LF
	]li
]ul
[div class=p 
	[b 
		"Crystal Star World
	]b
	" (-106)
	$LF
	[br 
	]br
	"We lose time to get the feather back. Secondly, we avoid lag to help in the frame rule of Bowser Statue, in the last level. When collecting the wings, 9 frames are saved by mounting Yoshi faster and jumping in the block, which increases Mario's Y speed.
	$LF
]div
[div class=p 
	[b 
		"Sky Star World
	]b
	" (-47)
	$LF
	[br 
	]br
	"Yoshi makes it impossible to get speed 52, with Lakitu Cloud. Therefore, we must fly with speed 51. After the discovery of the break in Backdoor Star World (without which, we wouldn't have any problem with the Bowser Statue frame rule), we had to redo this level, sacrificing the max of 'real frames' in order to reduce lag (without decreasing the clock by 1, changing the score). It turns out that reducing the speed when a bunch of Superkoopas appear can save lag.
	$LF
]div
[div class=p 
	[b 
		"Ice Star World
	]b
	" (-17)
	$LF
	[br 
	]br
	"The true difference is worse, because of the lag, Yoshi and emulator transition. At the end, we need to fly really near the pit, to reduce the lag at the most. There're many Chucks in the superior part of this level.
	$LF
]div
[div class=p 
	[b 
		"Pipe Star World
	]b
	" (2022)
	$LF
	[br 
	]br
	"We are able to pass through the pipes, even though FuSoYa didn't want it (different kinds of pipes have different workarounds). The setup of the stun glitch is done and then we force Yoshi inside the wall. That allows us to clip the ceiling and go near the Piranha Plants. When we redid this level, we avoided the lag in some parts and delayed a bit to have a good clock time and score. Finishing 11 frames earlier is possible.
	$LF
]div
[div class=p 
	[b 
		"Bowser's Star World
	]b
	" (12)
	$LF
	[br 
	]br
	"The lava clip is done to save time! The lava tile acts like a block and pushes Mario to the left. He will die only if the mid point between his feet touches the base of the tile.
	$LF
]div
[div class=p 
	[b 
		"Backdoor Star World
	]b
	" (76)
	$LF
	[br 
	]br
	"We manipulated the score in the previous levels to have exactly 300000 in the laggy part of this one. Getting the key without hitting the invisible coin blocks below it is pretty hard. Then, we got down much quicker, saving a few frames. 1 frame was saved in the 2nd sequence of vertical spikes just because we ducked, instead of maintaining flight. The 3rd sequence of spikes was finally broken, after years of frustrating tries (mainly suggested my Mister). This is only possible if Mario ducks and "enters" the floor, to avoid being hit by the spike.
	$LF
]div
[div class=p 
	[b 
		"Bowser's Back Door
	]b
	" (1)
	$LF
	[br 
	]br
	"A better corner clip and extra corner boost allow us to save a frame.
	$LF
	[br 
	]br
	"Emulator transition: there's a lag that Snes9x 1.43 wouldn't catch.
	$LF
]div
[hr 
]hr
[h3 id=TranslationIntoPortuguese 
	" Translation into Portuguese:
	$LF
]h3
[h3 id=TraduOParaOPortuguS 
	" Tradução para o português:
	$LF
]h3
[div class=p 
	"Esta é uma melhoria de 3790 frames (63,06 segundos) sobre o 
	(__wikiLink|displaytext=TAS anterior|href=/2266M)
	", com o uso de um novo conjunto de técnicas e glitches.
	$LF
]div
[h3 id=Objetivos 
	" Objetivos
	$LF
]h3
[ul 
	[li 
		"Emulador: lsnes rr2-beta21
		$LF
	]li
	[li 
		"Visa o menor tempo
		$LF
	]li
	[li 
		"Sofre dano para salvar tempo
		$LF
	]li
	[li 
		"Usa teleportes e caminhos inversos para salvar tempo
		$LF
	]li
	[li 
		"Abusa erros de programação
		$LF
	]li
	[li 
		"Não realiza nenhuma forma de 'game end glitch' ou execução de código arbitrário.
		$LF
	]li
]ul
[h3 id=ComentRios 
	" Comentários
	$LF
]h3
[div class=p 
	"Este TAS foi inicialmente proposto por Bruno Visnadi, como resultado de um novo glitch que ele descobriu. Contudo, nós não imaginávamos que o TAS anterior era tão melhorável. Também fizemos a transição de um emulador impreciso para o lsnes, que emula o lag corretamente. Logo, outro desafio é a comparação entre ambos os vídeos. Você talvez perceba que nós não coletamos muitas moedas nas primeiras fases. De fato, parece que nos as evitamos. O número de moedas pode causar lag dentro das fases, e é por isso que nós tivemos menos que 10 moedas nas fases Crystal/Sky/Ice Star World. Além disso, algumas fases do Star World foram refeitos, com o objetivo de diminuir o lag, mesmo que isto custasse muitos frames reais. Como teríamos que esperar pela 'frame rule' da estátua do Bowser de qualquer forma, é melhor não parar o contador interno de frames, para acelerar o processo.
	$LF
]div
[h3 id=NovosGlitches 
	"Novos glitches
	$LF
]h3
[div class=p 
	[a href=https://www.youtube.com/watch?v=2tdhossZ5qI rel=noopener external nofollow 
		"Atordoar um peixe
	]a
	" : O 'stun glitch' é explicado na página dos recursos do jogo. Se aplicarmos este glitch em um peixe, num evel com 'sprite bouyancy' ativada, ele vai criar um Reznor. Sem a 'sprite bouyancy', ainda e possível criar o Reznor, mas seriam necessários o Lakitu e sua nuvem para mudar o 'stun timer' do peixe. O Reznor deve cair no slot 7, caso contrário não é possível derrotá-lo. Utilizamos a língua do Yoshi para manipular endereços que significam para o jogo que o Reznor foi derrotado, o que acarreta no término da fase.
	$LF
]div
[div class=p 
	[b 
		"Atordoar uma 'Piranha Plant'
	]b
	": a mesma coisa, mas a 'sprite bouyancy' não e necessária.
	$LF
]div
[div class=p 
	[a href=https://www.youtube.com/watch?v=5Nwcggojnds rel=noopener external nofollow 
		"Forçar Yoshi para dentro de uma parede
	]a
	": descoberto por Amaraticando. Mario deve ter ao menos velocidade 49 e Yoshi deve ter o subpixel horizontal E ou F. É necessário entrar 3 pixels na parede e então desmontar o Yoshi, pressionando a direção que aponta para a parede. Isso pode ser usado para atravessar tetos, desde que estes tenham apenas 1 bloco de espessura.
	$LF
]div
[div class=p 
	[a href=http://www.smwcentral.net/?p=viewthread&t=72499 rel=noopener external nofollow 
		"Usar um pokey para duplicar um bloco
	]a
	": Além de criar um 'Goal Point', cuspir um 'stunned pokey' produz um sprite interessante que é carregável pelo Mario. Sua interação é 5 blocos acima de seu gráfico, ainda que o Mario o segure no gráfico. Isso causa efeitos interessantes, como duplicar um bloco 5 blocos acima em um único arremesso.
	$LF
]div
[div class=p 
	[a href=http://www.smwcentral.net/?p=viewthread&t=72499 rel=noopener external nofollow 
		"Atravessar a lava
	]a
	": O bloco de cima da lava pode ser usado para empurrar o Mario para a esquerda. Se o Mario for grande, isso também pode ser usado para mandá-lo para baixo através de blocos sólidos, sem ser esmagado.
	$LF
]div
[div class=p 
	[b 
		"'Corner boosts' durante o voo
	]b
	": o princípio é o mesmo, mas a dificuldade é enorme, às vezes.
	$LF
]div
[hr 
]hr
[h3 id=ComentRiosPorFase 
	" Comentários por fase
	$LF
]h3
[div class=p 
	""Transição de emulador" significa que o TAS anterior tem vantagens, pois foi feito num emulador que emula menos lag do que deveria. Qualaquer lag ocorrido fora das fases foi ignorado na comparação.
	$LF
]div
[div class=p 
	[b 
		"Misty Isle 1
	]b
	" (0)
	$LF
	[br 
	]br
	"Nenhuma diferença.
	$LF
]div
[div class=p 
	[b 
		"Misty Isle 2
	]b
	" (1)
	$LF
	[br 
	]br
	"1 frame salvo aravés de uma aceleração melhor e 'corner boost' extra.
	$LF
	[br 
	]br
	"Transição de emulador: 1 lag extra no fim da fase.
	$LF
]div
[div class=p 
	[b 
		"Misty Isle 3
	]b
	" (0)
	$LF
	[br 
	]br
	"Nenhuma diferença. Tivemos que atrasar um frame, dentro do level, para melhorar a oscilação do Goomba. Isto é melhor do que entrar na fase um frame depois.
	$LF
]div
[div class=p 
	[b 
		"Misty Isle 4
	]b
	" (0)
	$LF
	[br 
	]br
	"enhuma diferença.
	$LF
]div
[div class=p 
	[b 
		"#1 Misty Castle
	]b
	" (0)
	$LF
	[br 
	]br
	"Pontuação melhor, nenhuma diferença.
	$LF
	[br 
	]br
	"Transição de emulador: 3 frames de lag a mais na terceira sala.
	$LF
]div
[div class=p 
	[b 
		"Salty Isle
	]b
	" (0)
	$LF
	[br 
	]br
	"Salvamos 1 frame com melhores 'corner cips' e com 'corner boosts' durante o voo, porém refizemos este level e tivemos que perder um frame, para evitar o bloco com uma moeda dentro.
	$LF
]div
[div class=p 
	[b 
		"Desert World 1
	]b
	" (1)
	$LF
	[br 
	]br
	"'Corner clips' extra salvam um frame.
	$LF
]div
[div class=p 
	[b 
		"Desert World 2
	]b
	" (8)
	$LF
	[br 
	]br
	"Durante o 'corner clip' que leva à fechadura, começamos a cair assim que possível para entrar, sem bater no bloco de baixo.
	$LF
]div
[div class=p 
	[b 
		"Desert Pyramid
	]b
	" (12)
	$LF
	[br 
	]br
	"1ª sala: 'Corner clips', 'corner boosts' durante o voo e um melhor acerto no bloco com o P-Switch salvam 6 frames.
	$LF
	[br 
	]br
	"2ª saa: Micro otimizações durante toda a sala.
	$LF
	[br 
	]br
	"Transição de emulador: 6 frames de lag a mais.
	$LF
]div
[div class=p 
	[b 
		"#2 Desert Castle
	]b
	" (-43)
	$LF
	[br 
	]br
	"1ª sala: Salvamos 14 frames ao voar em vez de usar a técnica '6/5' e entrar melhor no túnel.
	$LF
	[br 
	]br
	"2ª sala: 'Corner boost' salva um frame, porém perdemos 56 frames nesta sala, para chegarmos com o Mario Pequeno na Star World. Temos que sofrer dano, e, para isto, pegar o casco. 48 frames são perdidos com a animação, e 17 para pegar o casco.
	$LF
	[br 
	]br
	"3ª sala: Perdemos um frame propositalmente para reduzir lag, útil na 'frame rule' da Star Warp.
	$LF
]div
[div class=p 
	[b 
		"Desert Secret
	]b
	" (37)
	$LF
	[br 
	]br
	"Esta fase não é simétrica! Salvamos 5 frames ao ir para a esquerda, em vez de ir para a direita, e 32 porque não pegamos a Fireflower.
	$LF
]div
[div class=p 
	[b 
		"Desert Star World
	]b
	" (-1263)
	$LF
	[br 
	]br
	"A única forma de realizar o 'stun glitch' nesta fase sem perder a Koopa contida na item box é entrar na fase com o Mario pequeno. O 'stun glitch' é descrito na página dos recursos do jogo, e a duplicação utilizando um Pokey descrita anteriormente neste texto.
	$LF
]div
[div class=p 
	[b 
		"Water Star World
	]b
	" (3507)
	$LF
	[br 
	]br
	"Soltamos o casco antes de pegar a Fireflower, que é duplicada pela íngua do Yoshi. O 'stun glitch' é realizado com um peixe, o que acarreta nno surgimento de um Reznor. Derrotamos ele como descrito na página dos recursos do jogo. Para ter o peixe na boca do Yoshi, realizamos o 'stun glitch' com uma moeda e rapidamente a coletamos, de forma que o peixe caia no mesmo slot que era ocupado pela moeda.
	$LF
]div
[div class=p 
	[b 
		"Crystal Star World
	]b
	" (-106)
	$LF
	[br 
	]br
	"Perdemos tempo para recuperar a capa e para salvar lag, o que é útil para a 'frame rule' da estátua do Bowser. Salvamos 9 frames ao coletar as asas, pois montamos no Yoshi mais rápido e controlamos melhor a velocidade vertical.
	$LF
]div
[div class=p 
	[b 
		"Sky Star World
	]b
	" (-47)
	$LF
	[br 
	]br
	"Yoshi nos impede de alcançar velocidade 52 com a nuvem, portanto temos que ir mais devagar neste level. Desaceleramos em alguns momentos para salvar lag, mais uma vez por causa da estátua do Bowser.
	$LF
]div
[div class=p 
	[b 
		"Ice Star World
	]b
	" (-17)
	$LF
	[br 
	]br
	"A presença do Yoshi e a mudança de emulador causam um lag muito maior nesta fase.
	$LF
]div
[div class=p 
	[b 
		"Pipe Star World
	]b
	" (2022)
	$LF
	[br 
	]br
	"Abusando de um glitch podemos passar pelos túneis com o Yoshi. Realizamos o 'stun glitch' novamente para que um Reznor surja. Utilizamos um novo glitch, descrito acima, em que podemos forçar o Yoshi a entrar numa parede. No final, atrasamos em 11 frames o término da fase para melhorar o relógio, e consequentemente, a pontuação.
	$LF
]div
[div class=p 
	[b 
		"Bowser's Star World
	]b
	" (12)
	$LF
	[br 
	]br
	"O 'lava clip', descrito acima, é executado aqui e salva tempo.
	$LF
]div
[div class=p 
	[b 
		"Backdoor Star World
	]b
	" (76)
	$LF
	[br 
	]br
	"Entramos nesta fase com uma score perfeita, mas ainda assim houve bastante lag. Salvamos alguns frames logo depois de pegar a chave porque fomos para baixa mais rápido. Na segunda sequência de espinhos verticais, abaixar o Mario em vez de voar salva outro frame. E na terceira sequência, depois de anos de tentativas, finalmente podemos passar por três colunas de espinhos sem ter que esperar uma subir. Isto foi sugerido há alguns anos por Mister.
	$LF
]div
[div class=p 
	[b 
		"Bowser's Back Door
	]b
	" (1)
	$LF
	[br 
	]br
	"Um 'corner clip' melhor e um 'corner boost' extra salva 1 frame.
	$LF
	[br 
	]br
	"Transição de emulador: 1 frame extra de lag.
	$LF
]div
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/Nach 
		"Nach
	]a
	": Nice improvement, good audience feedback. Accepting as improvement of existing run.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/sheela901 
		"sheela901
	]a
	": Processing...
]div
