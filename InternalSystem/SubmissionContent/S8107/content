8
[div class=p 
	""Brownie points to whoever can tell me what's truly bizarre about the way I get to the credits. No, it's not the direction I approach the ship, nor is it the way I enter it."
	$LF
]div
[div class=p 
	""In truth, the way to end the game is to finish off all 47 metroids and recharge your missiles.  Any missile recharge will do, it's just that ordinarily you're limited to the ship at the end when you do so.  You see, when you touch a recharge station, it first checks to see if D089, the memory location for the number of metroids left, is zero; if so, end the game, if not, fill missiles." -Ferret Warlord
	$LF
]div
[div class=p 
	"This note from the submission thread of 
	(__wikiLink|href=/2049S|implicitdisplaytext=2049S)
	" made me wonder if there is something can be done to take further advantage of this fact now that subframe input is possible for GB. As it turned out, there is.
	$LF
]div
[div class=p 
	"Can't blame YouTube when this sequence is played 8 times throughout this 19 minutes run.
	$LF
]div
[div class=p 
	[img class=embed mw-100 src=https://cdn.discordapp.com/attachments/280808167993245707/1084677976525910107/image.png 
	]img
	$LF
]div
[ul 
	[li 
		"Emulator Used: BizHawk 2.8
		$LF
	]li
	[li 
		"Genre: Platformer
		$LF
	]li
	[li 
		"Heavy glitch abuse
		$LF
	]li
	[li 
		"Uses sub-frame resets
		$LF
	]li
	[li 
		"Corrupts save data
		$LF
	]li
]ul
[div class=p 
	"Note: Early parts of the movie contain inputs copied from Ferret Warlord's movie. I'm not sure whether they are considered lengthy enough to warrant co-authorship so I'll leave it to the site staff to decide.
	$LF
]div
[div class=p 
	"Note on branch name: I suppose this one should be branched as "save glitch", but it also uses the select glitch that is currently titular to 
	(__wikiLink|href=/2049S|implicitdisplaytext=2049S)
	". If this ends up being accepted, it might be reasonable to make that movie branchless while labeling the other 2 movies as "inbounds" instead.
	$LF
]div
[h3 id=GlitchAndSr388 
	" The glitch and SR-388
	$LF
]h3
[div class=p 
	"Detailed explanation can be found on the 
	[a href=https://tasvideos.org/GameResources/GB/Metroid2 rel=noopener external nofollow 
		"game resource page
	]a
	".
	$LF
]div
[h3 id=SaveFile 
	" The save file
	$LF
]h3
[div class=p 
	"Detailed explanation of the save file structure of this game can be found here 
	[a href=https://wiki.metroidconstruction.com/doku.php?id=return_of_samus:data_locations:ram_map rel=noopener external nofollow 
		"here
	]a
	". The most relevant addresses are the following:
	$LF
]div
[ul 
	[li 
		"000F: X coordinate of the room
		$LF
	]li
	[li 
		"000D: Y coordinate of the room
		$LF
	]li
	[li 
		"0019: Map bank of the room
		$LF
	]li
	[li 
		"0019: Equipment status
		$LF
	]li
	[li 
		"0029: Actual Metroid count, not the one being displayed
		$LF
	]li
	[li 
		"1143: The flag for the event where the displayed Metroid count is increased by 8.
		$LF
	]li
]ul
[div class=p 
	"There is apparently no checksum mechanism whatsoever, so the save data can be corrupted by simply resetting with sub-frame precision right after the desired data is written while the rest of the file still has the old values. Note that because of how save file writing works, it's impossible to write values for higher addresses without values in lower addresses being overwritten first. For example, to have the real Metroid count updated in the save file, map coordinates must be overwritten first.
	$LF
]div
[div class=p 
	"This is the watch file used to observe these values during the making of the movie: 
	[a href=https://tasvideos.org/UserFiles/Info/638142827147555872 rel=noopener external nofollow 
		"https://tasvideos.org/UserFiles/Info/638142827147555872
	]a
	$LF
]div
[h3 id=Route 
	" The route
	$LF
]h3
[div class=p 
	"As mentioned earlier, the real credit triggering condition for this game is to reach a missile refill station after the real Metroid counter, which starts at 47, reaches 0. While there isn't a known way to corrupt the value to be 0 right away (unless the emulator fills uninitiated (S)RAM addresses with 00 instead of FF), it is possible to take advantage of this by repeatedly killing the same Metroids and resetting mid-frame while saving after the counter is updated but before the flags that mark those Metroids as killed are written.
	$LF
]div
[div class=p 
	"The 8 "regular" Metroids at the end of the game are clustered together and faster to kill than any other Metroid variants and it is intuitive to consider them the best choice for grinding. Each of them require Ice Beam and 5 missiles to be killed. For this reason, Ice Beam and a missile tank, which adds 10 to the default total missile count of 30, are acquired along with Spider Ball and Space Jump, which are used to maneuver.
	$LF
]div
[div class=p 
	"Breakdown of the 8 times the game is started:
	$LF
]div
[div class=p 
	"1. Go for Spider Ball, missile tank, and Ice Bream. The game is saved properly here which means this movie does not rely on uninitiated RAM values.
	$LF
]div
[div class=p 
	"2. Start a new game on the same save slot and save at the first save station while resetting right after the location values are overwritten to have a save file at the starting area with Spider Ball, Ice Beam, and missile cap of 40.
	$LF
]div
[div class=p 
	"3. Head to the end game area via secret worlds, which is conveniently close to the starting area.
	$LF
]div
[div class=p 
	[img class=embed mw-100 src=https://cdn.discordapp.com/attachments/361556647933509652/1081142891671470110/image.png 
	]img
	$LF
]div
[div class=p 
	"Grab Space Jump via secret worlds before killing the 8 Metroids.
	$LF
]div
[div class=p 
	[img class=embed mw-100 src=https://cdn.discordapp.com/attachments/361556647933509652/1081142858368680036/image.png 
	]img
	$LF
]div
[div class=p 
	"Refill missiles and save the game at the save station outside the final area while resetting right after the Metroid counter is updated. Note that I tried overwriting the flag for the event where the displayed Metroid count is increased by 8 so that it's not played again later but unfortunately the flags for 7 of the 8 Metroids would be overwritten as well by the time that flag is written so this can't be done.
	$LF
]div
[div class=p 
	"4-7. Grind the 8 Metroids repeatedly. The inputs for each round are near identical aside from the one-time energy refill.
	$LF
]div
[div class=p 
	"8. Kill 7 more Metroids. It's no longer possible to return to the final big room via Queen Metroid's room because it would lead to a secret world (that can't be maneuvered with the tile set of the room) when the Metroid counter has reached 0, so instead a secret world is used to warp to a big room from earlier part of the game with a missile recharge station in order to trigger the credits.
	$LF
]div
[h3 id=SpecialThanks 
	" Special Thanks
	$LF
]h3
[ul 
	[li 
		" Ferret Warlord, for the research on the game in general, which inspired this movie to be made.
		$LF
	]li
	[li 
		" liamnajor, for 
		[a href=https://forum.metroidconstruction.com/index.php/topic,4511.0.html rel=noopener external nofollow 
			"ROSE
		]a
		", which made it significantly easier to check the inner-working of the game map and come up with a route.
		$LF
	]li
	[li 
		" Anyone who contributed to making subframe input possible for GameBoy on BizHawk.
		$LF
	]li
	[li 
		" YOU, for reading the submission text and watching the movie.
		$LF
	]li
]ul
[hr 
]hr
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": Claiming for judging.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": 
	(__wikiLink|displaytext=Updated the file|href=/Forum/Posts/520751)
	" and 
	(__wikiLink|displaytext=added Ferret Warlord|href=/Forum/Posts/520718)
	".
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/feos 
		"feos
	]a
	": I don't know the game at all, but after having watched 
	(__wikiLink|displaytext="100%"|href=/979M)
	" and 
	(__wikiLink|displaytext="select glitch"|href=/1175M)
	", even I can clearly tell the route taken in this movie is very different from the other branches, even if it goes through some of the same areas. 
	(__wikiLink|href=/1175M|implicitdisplaytext=1175M)
	", while confusing to a layperson indeed, has a decent rating, so it can go to Alternative while this becomes the Standard fastest completion. Accepting as a new branch.
	$LF
]div
[div class=p 
	[a class=intlink href=/Users/Profile/Spikestuff 
		"Spikestuff
	]a
	": Publishing.
]div
