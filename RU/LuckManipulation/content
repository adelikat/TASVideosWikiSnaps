8
[h2 id=Thispageinotherlanguages 
	" This page in other languages
	$LF
]h2
[p 
	(listlanguages|istranslation=true)
	$LF
]p
[hr 
]hr
[p 
	[img class=embedright src=http://media.tasvideos.org/dw2.png 
	]img
	$LF
]p
[p 
	"Манипулирование удачей - действия, направленные на предопределение "случайных" результатов в игре путем варьирования ввода. Данное явление известно под различными именами, в том числе как: "luck abuse", "randomness abuse", или "RNG abuse".
	$LF
]p
[p 
	"Необходимо понимать, что никакая ЭВМ, будучи устройством детерминированным, не способна к случайному поведению. Все, что она делает - исполняет инструкции. Чтобы симулировать последовательность реалистично случайных чисел, в ЭВМ используются 
	[em 
		[a class=extlink href=http://en.wikipedia.org/wiki/Pseudorandom_number_generator rel=nofollow 
			"генераторы псевдослучайных чисел
		]a
	]em
	" (часто называемые 
	[em 
		"генераторами случайных чисел
	]em
	" и известные, как 
	[em 
		"RNG
	]em
	" или 
	[em 
		"PRNG
	]em
	").
	$LF
]p
[p 
	"Генератор псевдослучайных чисел - это, по сути, алгоритм, позволяющий формировать последовательность трудно предсказуемых чисел, используемых для нужд игры. Широко известными алгоритмами генерации чисел являются такие как:
	$LF
]p
[ul 
	[li 
		" 
		[a class=extlink href=https://ru.wikipedia.org/wiki/%D0%9B%D0%B8%D0%BD%D0%B5%D0%B9%D0%BD%D1%8B%D0%B9_%D0%BA%D0%BE%D0%BD%D0%B3%D1%80%D1%83%D1%8D%D0%BD%D1%82%D0%BD%D1%8B%D0%B9_%D0%BC%D0%B5%D1%82%D0%BE%D0%B4 rel=nofollow 
			"Линейный конгруэнтный метод
		]a
		".
		$LF
	]li
	[li 
		" 
		[a class=extlink href=https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80_%D1%81%D0%B4%D0%B2%D0%B8%D0%B3%D0%B0_%D1%81_%D0%BB%D0%B8%D0%BD%D0%B5%D0%B9%D0%BD%D0%BE%D0%B9_%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B9_%D1%81%D0%B2%D1%8F%D0%B7%D1%8C%D1%8E rel=nofollow 
			"Регистр сдвига с линейной обратной связью
		]a
		".
		$LF
	]li
]ul
[p 
	"Это лишь некоторые из множества возможных способов, какими отдельно взятая игра может генерировать псевдослучайные последовательности чисел. Эти значения она использует для принятия решений о наступлении случайных, с точки зрения игрока, событий, таких как:
	$LF
]p
[ul 
	[li 
		" Промахи или критические попадания при атаках (вообще все пошаговые RPG)
		$LF
	]li
	[li 
		" Результаты броска костей (настольные игры, симуляторы казино)
		$LF
	]li
	[li 
		" Поведение игровых боссов (игры из серии Mega Man)
		$LF
	]li
	[li 
		" Графические эффекты с частицами
		$LF
	]li
]ul
[p 
	"В такие моменты и приходит на помощь манипуляция удачей - предопределение случайных событий через ввод так, чтобы результат был в вашу пользу.
	$LF
]p
[h3 id=ВкакиемоментыиграитерируетRNG? 
	" В какие моменты игра итерирует RNG?
	$LF
]h3
[p 
	"Чтобы был хоть какой-то эффект, игре необходимо получать новое значение RNG, как минимум, всякий раз, когда требуется определить наступление случайного события. Однако, существуют различные подходы к выбору момента, когда игра использует RNG:
	$LF
]p
[ul 
	[li 
		" Некоторые игры итерируют RNG каждый кадр. Простейший подход.
		$LF
	]li
	[li 
		" Некоторые игры итерируют RNG время от времени, используя случайные числа для незначительных, часто косметических целей.
		$LF
	]li
	[li 
		" Некоторые игры итерируют RNG изредка, используя результат только для важных событий.
		$LF
	]li
]ul
[h3 id=КакиезначенияиграютрользернадляRNG? 
	" Какие значения играют роль зерна для RNG?
	$LF
]h3
[p 
	"Всякому RNG требуется начальное значение, называемое зерном. Это позволяет ему не выдавать каждый раз одинаковую последовательность чисел. Оно может браться из различных источников, и типичной практикой является на ходу добавлять еще какие-нибудь данные, чтобы повысить энтропию.
	$LF
]p
[ul 
	[li 
		" У некоторых игр зерно зашито в программном коде. Если  между уровнями зерно сбрасывается в начальное состояние, это дает удобную возможность вырезать и добавлять ввод.
		$LF
	]li
	[li 
		" Некоторые игры хранят зерно в файлах сохранения.
		$LF
	]li
	[li 
		" Некоторые игры в определенные моменты накручивают специальный счетчик, например, при обзоре начальных меню, и используют в роли зерна его.
		$LF
	]li
	[li 
		" Текущее время является крайне популярным кандидатом на роль зерна в системах, оснащенных часами реального времени.
		$LF
	]li
	[li 
		" Игры для Nintendo DS нередко получают зерно исходя из личного профиля игрока, хранимого в данных ОС консоли.
		$LF
	]li
	[li 
		" Некоторые игры используют непосредственно ввод игрока как зерно.
		$LF
	]li
	[li 
		" Некоторые игры используют переменчивые низкоуровневые показатели реального времени, к примеру, точное время, затрачиваемое кодом игры на вычисления в рамках одного кадра.
		$LF
	]li
]ul
[h3 id=КакиеизRNGидлякакихдействийиспользуетигра? 
	" Какие из RNG и для каких действий использует игра?
	$LF
]h3
[p 
	"Иногда в игре реализовано несколько RNG, используемых для различных нужд. Очень важно знать, какой RNG на какие события игры влияет.
	$LF
]p
[h3 id=Чтомнесэтимделать? 
	" Что мне с этим делать?
	$LF
]h3
[p 
	"Есть вероятность, что у вас получится предопределять случайные события с помощью устройства ввода.
	$LF
]p
[p 
	[img class=embedright src=http://www.fceux.com/web/help/taseditor/lib/dw-luck_manipulation.gif 
	]img
	$LF
]p
[ul 
	[li 
		" Если игра вычисляет зерно исходя из ввода, то возможностей очень и очень много, и вы сможете манипулировать почти без потерь по времени, пусть даже это усложняет оптимизацию в силу разнообразия вариантов ввода.
		$LF
	]li
]ul
[ul 
	[li 
		" Если игра итерирует RNG раз в кадр, выбирать момент нажатия кнопок будет необходимо, но достаточно для манипулирования. Правильный момент здесь - самое главное.
		$LF
	]li
]ul
[ul 
	[li 
		" Если игра итерирует RNG при легко выполнимых действиях, таких, как движение или стрельба, то их координирование позволит легко манипулировать рандомом.
		$LF
	]li
]ul
[ul 
	[li 
		" Если игра итерирует RNG лишь при действиях трудно выполнимых, или тех самых событиях, которые вам как раз и требуется вызвать, то получить желаемый результат очень сложно. Могут потребоваться жертвы. Способность к планированию сценария и глубокое понимание алгоритма RNG будут весьма и весьма полезны в этом случае.
		$LF
	]li
]ul
[ul 
	[li 
		" Если игра ставит себя в зависимость от изменчивых показателей, тогда обычно нет иного пути кроме полного перебора всех возможных вариантов. Изменения картины потребления игрой системных ресурсов, такие как устранение активных противников, обычно оказывают наибольший эффект.
		$LF
	]li
]ul
[p 
	"Представленная GIF-анимация из игры про Черного Плаща наглядно демонстрирует, как разница в один кадр каждый раз приводит к выпадению различных предметов.
	$LF
]p
[h2 id=Трудностиприманипулированииудачей 
	" Трудности при манипулировании удачей
	$LF
]h2
[h3 id=Точкапринятиярешения 
	" Точка принятия решения
	$LF
]h3
[p 
	"Допустим, вы делаете ТАС по игре про покемонов. Ваш покемон, в обычных условиях более медленный, экипирован предметом Quick Claw, дающим 25% шанс сходить первым. Вы пробуете манипулировать исходом проверки, варьируя время перед командой атаковать. Однако, сколько бы вы нb ждали, ваш покемон ходит вторым. Что же пошло не так?
	$LF
]p
[p 
	"Очень важно находить тот самый момент, когда игра принимает решение о вызове случайного события. Иначе вы просто будете зря накручивать перезаписи, пытаясь манипулировать уже предопределенным событием.
	$LF
]p
[p 
	"В данном случае, срабатывание эффекта Quick Claw было предопределено еще до появления меню вашего хода. И коль скоро было принято негативное решение, ваш покемон обязательно сходит вторым.
	$LF
]p
[p 
	"Если вы окажетесь в ситуации, когда событием, доступным для манипуляции, управлять не получается, попробуйте искать ранее (по ходу мувика), пока не обнаружите то место, в котором ваши нажатия повлияют на результат.
	$LF
]p
[h3 id=Искусственныйинтеллект(AI) 
	" Искусственный интеллект (AI)
	$LF
]h3
[p 
	"В играх, где предполагается принятие решений, часто бывает реализован соответствующий механизм для игрока-компьютера, чаще называемого ИИ. Ваши возможности ограничены в рамках того, что ИИ умеет делать.
	$LF
]p
[p 
	"Допустим, ИИ способен сделать хороший ход, но вы хотите, чтобы он поступил иначе. Если выполнение того хорошего хода зависит только от решения ИИ, то вам никак не повлиять на это. Все, что в ваших силах, это инсценировать ситуацию, в которой ИИ либо не сможет сделать этот ход, либо не посчитает его хорошим.
	$LF
]p
[p 
	"То же касается несовершенных решений ИИ, согласно которым? плохой ход (с точки зрения человека) считается хорошим. Единственный фактор здесь это упорство ИИ в выполнении такого хода.
	$LF
]p
[h3 id=Прочиепроблемы 
	" Прочие проблемы
	$LF
]h3
[p 
	"В тех играх, где требуется манипулировать поведением врагов, обязательно убедитесь, что обстоятельства позволяют это сделать.
	$LF
]p
[ul 
	[li 
		" Отдельные враги имеют фиксированный алгоритм поведения.
		$LF
	]li
	[li 
		" Некоторые из них выполняют определенные атаки при конкретных обстоятельствах. Это  может быть низкий уровень здоровья, или какое-то определенное положение или состояние вашего персонажа.
		$LF
	]li
]ul
[p 
	"Помните, что вы не можете заставить игру выйти за рамки ее игровой механики. В некоторых играх реализована механика нанесения урона с некоторой долей случайности. Как бы вам ни везло, большего урона, чем может быть рассчитано в рамках игровой механики, нанести не получится.
	$LF
]p
[h3 id=Редкость 
	" Редкость
	$LF
]h3
[p 
	"Хотя эта проблема не из технических, редкость (обычно вероятность в 1/1000 или реже) какого-то события или последовательности таковых может предполагаться в силу ненаступления этого события в течение любого приемлемого времени. Есть несколько способов разобраться с этим:
	$LF
]p
[ul 
	[li 
		" Прочтите приведенные ниже советы по улучшению манипуляции удачей. В частности, разделение манипуляции чередой событий на ряд манипуляций в отношении каждого события в отдельности может увеличить шанс успеха в целом.
		$LF
	]li
	[li 
		" Разобраться в алгоритме RNG и применить эти знания к искомому событию.
		$LF
	]li
	[li 
		" Воспользоваться LUA или смастерить бота с целью вызвать событие путем полного перебора.
		$LF
	]li
	[li 
		" Сдаться.
		$LF
	]li
]ul
[h2 id=Советыпоманипулированиюудачей 
	" Советы по манипулированию удачей
	$LF
]h2
[h3 id=Разделениепоследовательностисобытий 
	" Разделение последовательности событий
	$LF
]h3
[p 
	"Предположим, вам нужно вызвать три события, каждое из которых происходит почти сразу после предыдущего. Каждое из них имеет шанс срабатывания, равный 1/16, следовательно общая вероятность - (1/16)^3, или 1/4096, что не очень много.
	$LF
]p
[p 
	"Однако, если возможно добавить ввод (например, подождать) между этими событиями, то вместо одного манипулирования тремя событиями может получиться три манипулирования, по одному для каждого события. Так будет гораздо проще, ведь каждым событием нужно будет манипулировать при вероятности, равной 1/16.
	$LF
]p
[p 
	"Иными словами, манипулирование множеством исходов ряда событий становится тем проще, чем в большей степени ввод со стороны игрока позволяет определять их по частям. К сожалению, это не всегда возможно, в особенности, когда RNG редко итерируется, и ожидание в течение нескольких дополнительных кадров ничего не меняет.
	$LF
]p
[h3 id=Адресапеременных,входящихвRNG,иихмониторинг 
	" Адреса переменных, входящих в RNG, и их мониторинг
	$LF
]h3
[p 
	"Разве не будет полезно знать, какие именно действия итерируют RNG?
	$LF
]p
[p 
	"Вот где мониторинг RNG в памяти очень полезен. Наблюдая за тем, когда оно меняется и как, можно предположить, какие примерно действия могут помочь при манипулировании.
	$LF
]p
[p 
	"К примеру, допустим, что значение переменной RNG в памяти обычно остается постоянным, но изменяется при выстреле из определенного оружия. Тогда вы знаете, что пользование данным оружием позволит вам манипулировать удачей. Более того, вы замечаете, что поведение отдельных врагов влияет на RNG. Значит, этим поведением тоже можно манипулировать.
	$LF
]p
[p 
	"Даже если значение RNG меняется все время, иногда некоторые действия изменяют его сильнее прочих. Это обычно указывает на полезность данного действия для манипуляции.
	$LF
]p
[p 
	"В первую очередь, надо найти RNG в памяти. Подробнее в статье о 
	[a class=intlink href=/MemorySearch 
		"поиске в памяти
	]a
	". Далее отслеживаем его значение.
	$LF
]p
[h3 id=АлгоритмRNG 
	" Алгоритм RNG
	$LF
]h3
[p 
	"Как правило, разобраться в формуле RNG - непростая задача, а понять, как игра использует эти случайные числа, еще сложнее.
	$LF
]p
[p 
	"Существует 
	[a class=extlink href=https://en.wikipedia.org/wiki/List_of_random_number_generators rel=nofollow 
		"ряд популярных алгоритмов для RNG
	]a
	", но игры на старых системах чаще используют что-то самописное. Современные же игры как раз склонны доверять реализацию RNG стандартным библиотекам.
	$LF
]p
[p 
	"Широко распространенные RNG имеют сходство с общепринятыми алгоритмами шифрования: они часто используют одинаковые ключи. Простой поиск ключа в коде игры может позволить опознать реализацию конкретного RNG.
	$LF
]p
[p 
	"Небезопасные RNG часто можно обратить, и существует алгоритм, способный выдавать ту же последовательность значений в обратном порядке. В силу наличия в эмуляторах возможности сохранения состояний, это не слишком полезно, но, тем не менее, возможность есть.
	$LF
]p
[h3 id=Примеры 
	" Примеры
	$LF
]h3
[p 
	"Одним из колоритных примеров манипулирования удачей может служит мувик по игре 
	[a class=intlink href=/1482M 
		"Dragon Warrior
	]a
	". В данном прохождении игрок полагается на сверхъестественное везение в следующих ситуациях:
	$LF
]p
[ul 
	[li 
		" Все нежелательные встречи с врагами пресекаются за счет приостановки игрового персонажа на кадр или два в различные моменты прохождения.
		$LF
	]li
	[li 
		" При встрече с врагом его уровнем здоровья манипулируют так, чтобы он был минимален.
		$LF
	]li
	[li 
		" Игровой персонаж всегда наносит критический урон, вероятностью которого манипулируют, прокручивая боевое меню и дожидаясь нужного кадра для удара. Сдвиг на один кадр привел бы к отсутствию критического урона.
		$LF
	]li
	[li 
		" Когда игровому персонажу необходимо умереть, встретившимся ему врагом манипулируют так, чтобы он напал первым.
		$LF
	]li
]ul
[h3 id=Кпрочтению 
	" К прочтению
	$LF
]h3
[ul 
	[li 
		" Манипулирование удачей является одной из основных техник создания ТАС, перечисленных в статье об 
		[a class=intlink href=/GameResources/CommonTricks 
			"основных трюках
		]a
		".
		$LF
	]li
	[li 
		" 
		[a class=intlink href=/ReverseEngineering 
			"Обратная разработка
		]a
		$LF
	]li
	[li 
		" 
		[a class=intlink href=/AdvancedLuckManipulation 
			"Продвинутое манипулирование удачей
		]a
		$LF
	]li
	[li 
		" В статье о 
		[a class=intlink href=/RandomGenerators 
			"генераторах случайных чисел
		]a
		" описываются технические детали о том, как реализована энтропия в различных играх.
		$LF
	]li
	[li 
		" В 
		[a class=intlink href=/Glossary 
			"Глоссарии
		]a
		" можно узнать о прочих терминах.
	]li
]ul
