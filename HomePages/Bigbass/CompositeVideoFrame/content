3
[div class=p 
	"Composite video is a complicated and often misunderstood topic. Below I will describe the makeup of a frame of video, primarily based on the NTSC color encoding standard (though I will briefly cover PAL and SECAM too). Note that "composite video" only means that video information is being combined into a single signal/wire. However, NTSC/PAL are such incredibly common standards, that this is usually what's being referred to when we say composite video.
	$LF
]div
[div class=p 
	[img class=embedright mw-100 src=https://i.imgur.com/x5s2fTu.png 
	]img
	$LF
]div
[div class=card mb-2 
	[div class=card-header 
		[strong 
			"Table of contents
		]strong
	]div
	[div class=card-body 
		[ul 
			[li 
				[a href=#CrtDisplays 
					" CRT Displays
					$LF
				]a
			]li
			[li 
				[a href=#Resolution 
					" Resolution
					$LF
				]a
				[ul 
					[li 
						[a href=#Horizontal 
							" Horizontal
							$LF
						]a
					]li
					[li 
						[a href=#Vertical 
							" Vertical
							$LF
						]a
					]li
				]ul
			]li
			[li 
				[a href=#BlankingAndSyncingPeriods 
					" Blanking and Syncing Periods
					$LF
				]a
				[ul 
					[li 
						[a href=#VsyncVblank 
							" VSYNC + VBLANK
							$LF
						]a
					]li
					[li 
						[a href=#Hsync 
							" HSYNC
							$LF
						]a
					]li
				]ul
			]li
			[li 
				[a href=#Overscan 
					" Overscan
					$LF
				]a
			]li
			[li 
				[a href=#StandardDifferences 
					" Standard Differences
					$LF
				]a
			]li
		]ul
	]div
]div
[h2 id=CrtDisplays 
	" CRT Displays
	$LF
]h2
[div class=p 
	"Briefly, a 
	[a href=https://en.wikipedia.org/wiki/Cathode-ray_tube#Phosphors rel=noopener external nofollow 
		"Cathode-ray Tube (CRT)
	]a
	" TV works by emitting an electron beam past focusing and deflecting coils which redirect the beam to a specific location on the fluorescent screen. The CRT electrically controls these coils to change the trajectory of the beam (whether the beam is on or off). There is no physical movement of components inside a CRT; there is no "gun" that changes angle; the beam 
	[em 
		"cannot
	]em
	" instantly change position between two points.
	$LF
]div
[hr 
]hr
[h2 id=Resolution 
	" Resolution
	$LF
]h2
[h3 id=Horizontal 
	" Horizontal
	$LF
]h3
[div class=p 
	"Unlike flat panel displays (e.g. LCD, OLED, etc.), CRT displays do not have "pixels" as we normally understand. Rather a "pixel", is a fragment of time when the beam is moving horizontally across the screen. How often the beam is able to change color defines the horizontal resolution. In gaming, this resolution is primarily limited by the gaming system, rather than the CRT itself. For example, while the NES has a horizontal resolution of 256 pixels, the N64 is technically capable of producing resolutions of over 1,000 pixels (although 640 was typically the max used in games).
	$LF
]div
[h3 id=Vertical 
	" Vertical
	$LF
]h3
[div class=p 
	"While horizontal resolution is variable, the vertical resolution is the number of scanlines defined by the color encoding standard being used, within the limits of the CRT. A scanline is a literal horizontal line that the electron beam produces by moving from the left to right sides of the display. Different CRTs will have different tolerances and different sized displays, thus the spacing between scanlines isn't strictly defined.
	$LF
]div
[div class=p 
	"The official NTSC standard will state that it uses 525 scanlines. However, this assumes interlacing is being used. Many older consoles are not capable of interlacing, thus they will be limited to approximately 262 scanlines. The Atari 2600 and NES are examples of this. The N64 however is capable of interlaced modes, which is how it's able to produce 480i images, albeit at a slower FPS.
	$LF
]div
[hr 
]hr
[div class=p 
	[img class=embedright mw-100 src=https://i.imgur.com/AHPxo5U.png 
	]img
	$LF
]div
[h2 id=BlankingAndSyncingPeriods 
	" Blanking and Syncing Periods
	$LF
]h2
[div class=p 
	"Due to how the electron beam must be turned off and its trajectory moved back to the left or top of the display, at the end of each scanline or frame respectively, the CRT must be given enough time before the electron beam is turned back on to resume projecting an image. It's important to remember that the electron beam's trajectory 
	[em 
		"cannot
	]em
	" instantly jump from one location to the next. VSYNC and HSYNC exist solely to allow the CRT enough time to alter the beam's trajectory before it turns back on.
	$LF
]div
[h3 id=VsyncVblank 
	" VSYNC + VBLANK
	$LF
]h3
[div class=p 
	"At the end of every frame, a VSYNC signal is produced which tells the CRT to move the beam back to the top-left corner of the display. The signal should be transmitted for at least 2 scanlines. To allow time for the beam's trajectory to reach the top, a VBLANK period will begin (if not already started). CRTs will typically require roughly 10 scanlines to properly reposition the beam, however additional time is often used by game systems to focus on game logic instead.
	$LF
]div
[div class=p 
	"The remaining scanlines can theoretically be used for visual output, however some consoles, like the Atari 2600 will have an additional period of VBLANK at the bottom of the frame. Because Atari games directly control when VBLANK is active, games could technically choose to stop/start VBLANK at different scanlines. The NES on the other hand, will utilize all remaining scanlines for rendering (which is why the NES has a 240 scanline resolution, and the Atari typically has around 192 scanlines).
	$LF
]div
[h3 id=Hsync 
	" HSYNC
	$LF
]h3
[div class=p 
	"At the end of every scanline, an HSYNC signal is produced. During this period, the beam is turned off and repositioned back to the left side of the screen on the next scanline. This period is also known as horizontal blank (sometimes abbreviated HBLANK). While diagrams, like the one shown on this page, will describe this (and the VBLANK) period as having a specific location outside the visible area of the display, in practice the beam does not follow this strict conceptualization. By the time the beam is repositioned, and VSYNC ends, the beam will be located at the visible portion of the scanline.
	$LF
]div
[hr 
]hr
[h2 id=Overscan 
	" Overscan
	$LF
]h2
[div class=p 
	"Rather than a special video signal, like VSYNC or VBLANK, overscan is generally known as any areas where the electron beam is on, but the viewer is unable to see it. Overscan is highly dependent on the design of the CRT, including the physical shape of the display and any bevels/borders that overlap it. Games will typically produce a buffer around all 4 edges of the visible image where important information like score, item counts, and text won't be displayed. This reduces the chance that such information will get cut off by the CRT.
	$LF
]div
[div class=p 
	"Atari defined the bottom 30 scanlines as overscan, and typically entered VBLANK during it, to allow for more game logic to occur unhindered. However, the NES' PPU handles more of the composite video signal automatically than the Atari, meaning it didn't have to be in VBLANK nearly as long as the Atari (thus providing the larger 240 scanline resolution). But, the possibility for overscan to occur still exists equally on both systems. NES game developers simply had to be more conscious about overscan. Such that on CRTs with minimal overscan, more of the full game resolution would be available to the viewer.
	$LF
]div
[hr 
]hr
[h2 id=StandardDifferences 
	" Standard Differences
	$LF
]h2
[div class=p 
	"The main differences between NTSC and PAL are: the frequency at which a frame is sent (resulting at different framerates), how many scanlines there are, and which colors could be encoded in the signal. SECAM used the same scanline and framerate configuration as PAL, but it encoded color in an entirely different way than NTSC and PAL. The CRT principles explained above generally apply to all three standards.
]div
