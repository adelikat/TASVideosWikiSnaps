21
[div class=p 
	"I have an interest in console-verifying TASes and resyncing movies to newer, more-accurate emulators can assist with this.
	$LF
]div
[div class=p 
	"I also generally like to have my own movies on the latest version of the emulator I'm using if possible.
	$LF
]div
[div class=p 
	"I have some tools for automating resyncs, but I still have to polish them a bit before I'm ready to publish them for general use.
	$LF
]div
[div class=p 
	"I'm mostly focused on GBA games currently. There are 
	[a href=https://tasvideos.org/Games/List?SearchTerms=&SystemCode=GBA&Letter=&Genre=&Group= rel=noopener external nofollow 
		"329 GBA games
	]a
	" in the site catalog (as of 4 October 2023). I generally start by resyncing to the newest BizHawk version to see how sensitive the game is to emulation changes. Afterwards, I attempt to sync to GBAHawk.
	$LF
]div
[h2 id=SuccessfulResyncs 
	" Successful resyncs
	$LF
]h2
[ul 
	[li 
		" GBA 
		(__wikiLink|displaytext=Donkey Kong Country|href=/1931G)
		$LF
		[ul 
			[li 
				" User file: 
				(__wikiLink|displaytext=Technickle's GBA DKC ''Warps'' in 43:59.71|href=/UserFiles/Info/638325174228976857)
				$LF
				[ul 
					[li 
						" Resynced to US version to compare to a WIP TAS (there's one minor regional difference at the end: Cranky has two dialogue boxes after K. Rool is defeated in the Japanese). Overall, the Japanese version is a bit faster on mGBA in a few dozen loading screens, but the dialogue boxes make it slower overall by frame count in a TAS. For TAS purposes, the movie rules ignore these types of regional differences anyway.
						$LF
					]li
					[li 
						" TODO: upload or link to on TASVideos
						$LF
					]li
				]ul
			]li
			[li 
				" TODO: 
				(__wikiLink|href=/3465M|implicitdisplaytext=3465M)
				" partially resynced, but it's on the VBA core of BizHawk, so it desynced somewhere random.
				$LF
			]li
			[li 
				" Save type: EEPROM 512 bytes
				$LF
			]li
		]ul
	]li
	[li 
		" GBA 
		(__wikiLink|displaytext=Donkey Kong Country 2: Diddy's Kong Quest|href=/2171G)
		": I resynced the published any% TAS to a new BizHawk version and I'll post a GBAHawk resync soon.
		$LF
		[ul 
			[li 
				" TODO: link to it on the TASVideos site...
				$LF
			]li
		]ul
	]li
	[li 
		" GBA 
		(__wikiLink|displaytext=DK: King of Swing|href=/1985G)
		": I resynced all three movies to GBAHawk, but it was more a matter of converting the inputs to the GBAHawk schema. It was almost entirely frame-for-frame identical to the original movie.
		$LF
		[ul 
			[li 
				" TODO: link to it on the TASVideos site...
				$LF
			]li
			[li 
				" Save type: EEPROM 8kB
				$LF
			]li
		]ul
	]li
	[li 
		" GBA 
		(__wikiLink|displaytext=Legend of Zelda, The: The Minish Cap|href=/804G)
		$LF
		[ul 
			[li 
				" Original movie: 
				(__wikiLink|href=/3228M|implicitdisplaytext=3228M)
				" (VBA-rr v24)
				$LF
			]li
			[li 
				" 
				(__wikiLink|displaytext=Resync to BizHawk 2.9.1|href=/UserFiles/Info/638329079923324038)
				$LF
				[ul 
					[li 
						" (Compared to VBA-rr v24) net +4515 frames; +132*16 = +2112 frames were from mGBA implementing save delays
						$LF
					]li
				]ul
			]li
			[li 
				" 
				(__wikiLink|displaytext=Resync to GBAHawk 2.0.1|href=/UserFiles/Info/638329177793319239)
				$LF
				[ul 
					[li 
						" (Compared to BizHawk 2.9.1) net +489 frames; -8*16 = -128 frames were from 16 save differences
						$LF
					]li
					[li 
						" TODO: attempt console-verification
						$LF
					]li
				]ul
			]li
			[li 
				" Save type: EEPROM 8kB
				$LF
			]li
		]ul
	]li
	[li 
		" GBA 
		(__wikiLink|displaytext=Shrek 2|href=/3706G)
		": I made a TAS of this game, but the lag emulation was very inaccurate. The newest GBAHawk 2.0.0 resync should be fairly close to real-console (EEPROM save timing is the only specific issue I'm aware of, but there could be other accuracy issues).
		$LF
		[ul 
			[li 
				" Original movie: 
				(__wikiLink|href=/5469M|implicitdisplaytext=5469M)
				" (BizHawk 2.9.1)
				$LF
			]li
			[li 
				" Resync(s): 
				(__wikiLink|displaytext=Resync to GBAHawk 2.0.0|href=/UserFiles/Info/638321271184973896)
				$LF
			]li
			[li 
				" Save type: EEPROM 512 bytes
				$LF
			]li
			[li 
				" Console verification status: apparently desyncs in level 5-4 around 
				[a href=https://youtu.be/RIwmSzItaeM?t=1158 rel=noopener external nofollow 
					"19:18
				]a
				" where Shrek jumps over the flames.
				$LF
			]li
		]ul
	]li
	[li 
		" GBA 
		(__wikiLink|displaytext=Wario Land 4|href=/272G)
		$LF
		[ul 
			[li 
				" 
				(__wikiLink|href=/1736M|implicitdisplaytext=1736M)
				" (VBA-rr)
				$LF
				[ul 
					[li 
						" 
						(__wikiLink|displaytext=Resync to BizHawk 2.9.1|href=/UserFiles/Info/638330639729785189)
						$LF
						[ul 
							[li 
								" (vs. VBA-rr) Diff: net +911 frames. Brief perusal says this is extra in-game lag + load times (also, +272 at the beginning for added GBA BIOS).
								$LF
							]li
						]ul
					]li
					[li 
						" 
						(__wikiLink|displaytext=Resync to GBAHawk 2.0.1|href=/UserFiles/Info/638330665763019016)
						$LF
						[ul 
							[li 
								" (vs. VBA-rr) Diff: net +952 frames. BizHawk 2.9.1 is only 41 frames faster!
								$LF
							]li
						]ul
					]li
				]ul
			]li
			[li 
				" Save type: SRAM
				$LF
			]li
			[li 
				" Notes: 3 TASes, one from VBA.
				$LF
			]li
		]ul
	]li
]ul
[h2 id=WipResyncs 
	" WIP resyncs
	$LF
]h2
[ul 
	[li 
		" Other Wario Land 4 publications
		$LF
	]li
]ul
[h2 id=FailedResyncs 
	" Failed resyncs
	$LF
]h2
[ul 
	[li 
		" GBA 
		(__wikiLink|displaytext=Castlevania: Aria of Sorrow|href=/253G)
		$LF
		[ul 
			[li 
				" Original movie: 
				(__wikiLink|href=/1478M|implicitdisplaytext=1478M)
				" (emulator: VBA-rr 1.72 v22)
				$LF
			]li
			[li 
				" Resync attempt: 
				(__wikiLink|displaytext=userfile|href=/UserFiles/Info/638322878124216179)
				" (emulator: BizHawk 2.9.1)
				$LF
			]li
			[li 
				" Resync failed in the room at frame 14402 or 4:03 (
				[a href=https://youtu.be/xPpXbxOxceM?t=243 rel=noopener external nofollow 
					"https://youtu.be/xPpXbxOxceM?t=243
				]a
				"); one of the enemies had a different movement pattern and damaged the player.
				$LF
			]li
			[li 
				" I'm a bit surprised it was able to sync so far with simple lag adjustments. There might be some hope for resyncing the full run. I'm not sure if it desynced at some point before, but the RNG on this screen would alternate between matching and not; perhaps there were some RNG inconsistencies before. I'm not sure if it's a matter of the game storing some game state that desynced earlier and incidentally caused issues on this particular game screen, or whether there were emulation differences in how this screen's actions were processed. One thing I've noticed throughout the entire run is that the flame light patterns are different.
				$LF
			]li
			[li 
				" There are some 
				(__wikiLink|displaytext=scripts and memory address resources|href=/GameResources/GBA/CastlevaniaAriaOfSorrow)
				", so I might come back in the future to investigate.
				$LF
			]li
		]ul
	]li
	[li 
		" GBA 
		(__wikiLink|displaytext=Donkey Kong Country|href=/1931G)
		$LF
		[ul 
			[li 
				" Original movie: 
				(__wikiLink|href=/3465M|implicitdisplaytext=3465M)
				" (BizHawk 1.12.2, VBA-Next core), target emulator: BizHawk 2.9.1, mGBA core
				$LF
			]li
			[li 
				" My automated resync got fairly far. I'm not really sure why it failed in one of the later Candy's Dance Studios when all the earlier ones synced up properly, but it seems overwhelming likely that it could be properly synced with manual adjustment.
				$LF
			]li
			[li 
				" TODO: diagnose why it failed and hopefully fix it.
				$LF
			]li
		]ul
	]li
	[li 
		" GBA 
		(__wikiLink|displaytext=Incredibles, The: Rise of the Underminer|href=/3927G)
		$LF
		[ul 
			[li 
				" Original movie: 
				(__wikiLink|displaytext=Userfile: "WIP 004"|href=/UserFiles/Info/638302462061868514)
				" (BizHawk 2.9.1), target emulator: GBAHawk 2.0.0 (?)
				$LF
			]li
			[li 
				" Unfortunately, this game seems to have a lag-independent RNG mechanism. Overall, with custom RNG manipulation, this might be approachable, but it's outside my current goals.
				$LF
			]li
		]ul
	]li
	[li 
		" GBA 
		(__wikiLink|displaytext=Legend of Zelda, The: A Link to the Past|href=/680G)
		": input poll resync failed early on in the menus
		$LF
		[ul 
			[li 
				" Original movie: 
				(__wikiLink|href=/2139M|implicitdisplaytext=2139M)
				" (VBA-RR v24)
				$LF
			]li
			[li 
				" Target emulator: BizHawk 2.9.1
				$LF
			]li
			[li 
				" This desync might be fixable if the automated resync was sensitive to the game logic context. Or it might fail if the RNG is dependent on the older behavior. But it's a short enough TAS, and ALTTP doesn't seem like it would have RNG cascades, so there may be ways to mitigate it.
				$LF
			]li
		]ul
	]li
]ul
[h2 id=ResyncsProvenImpossible 
	" Resyncs proven impossible
	$LF
]h2
[ul 
	[li 
		" GBA 
		(__wikiLink|displaytext=Spyro: Season of Ice|href=/4006G)
		$LF
		[ul 
			[li 
				" Save type: EEPROM 512 bytes
				$LF
			]li
			[li 
				" Original movie: 
				(__wikiLink|href=/5608M|implicitdisplaytext=5608M)
				" (BizHawk 2.6.2), target: BizHawk 2.9.1
				$LF
			]li
			[li 
				" A "proper" console-verification of the publication will never be possible, but a basically equivalent run is likely doable, though finnicky.
				$LF
			]li
			[li 
				" The speedway autoscrollers are dependent on an LCG RNG, and the RNG is seeded by the frame count which increments basically every frame, lag + loading frames included. GBAHawk will have more lag than mGBA so the frame count that seeds the RNG will never be able to match without significant time loss. However, it is probably possible to redo the autoscroller sections to have a comparable equivalent run that completes the whole game. Also, the lag is a bit messier to work with than most games, because the game still polls input and does game logic during "lag" frames. Fortunately, resyncing lag adjustments still seems possible and I had luck manually resyncing between BizHawk versions.
				$LF
			]li
			[li 
				" I do have a script for marking game lag, but automatically fixing it might be difficult at the moment. There's not necessarily one unambiguous handling that I'm aware of.
				$LF
			]li
			[li 
				" I would imagine Spyro: Season of Flame will have a similar issue.
				$LF
			]li
		]ul
	]li
]ul
[h3 id=SeeAlso 
	" See also
	$LF
]h3
[ul 
	[li 
		" 
		(__wikiLink|href=/ConsoleVerification|implicitdisplaytext=ConsoleVerification)
		" wiki page
		$LF
	]li
	[li 
		" 
		(__wikiLink|displaytext=Resyncing movies officially|href=/Forum/Topics/14178)
		" forum topic
	]li
]ul
