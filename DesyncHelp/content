38
[div class=p 
	"Movie files are highly sensitive to timing, so some little difference may cause the movie to play back incorrectly. For example, the character might suddenly stop moving, or wander aimlessly, or die. Mario might run continuously into the side of a pipe. Mega Man X might jump into a pit. Or the game might not even leave the starting menu.
	$LF
]div
[div class=p 
	"Do note that some TASes may have potentially confusing actions that may be mistaken for desyncs.
	$LF
]div
[div class=card mb-2 
	[div class=card-header 
		[strong 
			"Table of contents
		]strong
	]div
	[div class=card-body 
		[ul 
			[li 
				[a href=#MovieWatching 
					" Movie Watching
					$LF
				]a
				[ul 
					[li 
						[ul 
							[li 
								[a href=#YouDonTHaveTheRightRom 
									" You don’t have the right ROM.
									$LF
								]a
							]li
							[li 
								[a href=#YouDonTHaveTheRightVersionOfTheEmulator 
									" You don’t have the right version of the emulator.
									$LF
								]a
							]li
							[li 
								[a href=#YourEmulatorSettingsDifferTooMuch 
									" Your emulator settings differ too much.
									$LF
								]a
							]li
							[li 
								[a href=#YouHaveExternalCodesOnExGameGenieCodes 
									" You have external codes on (ex. Game Genie codes)
									$LF
								]a
							]li
							[li 
								[a href=#ReplayIsNotQuiteDeterministic 
									" Replay is not quite deterministic
									$LF
								]a
							]li
						]ul
					]li
				]ul
			]li
			[li 
				[a href=#MovieMaking 
					" Movie Making
					$LF
				]a
				[ul 
					[li 
						[a href=#EmulatorProblems 
							" Emulator problems
							$LF
						]a
						[ul 
							[li 
								[a href=#PcsxMupen64AndFbaRr 
									" PCSX, Mupen64, and FBA-rr
									$LF
								]a
							]li
							[li 
								[a href=#Dolphin 
									" Dolphin
									$LF
								]a
							]li
							[li 
								[a href=#Snes9x 
									" Snes9x
									$LF
								]a
							]li
							[li 
								[a href=#VisualBoyAdvance 
									" Visual Boy Advance
									$LF
								]a
							]li
							[li 
								[a href=#JpcRr 
									" JPC-RR
									$LF
								]a
							]li
						]ul
					]li
					[li 
						[a href=#SavestateProblems 
							" Savestate problems
							$LF
						]a
					]li
					[li 
						[a href=#OtherProblems 
							" Other problems
							$LF
						]a
						[ul 
							[li 
								[a href=#YouHaveExternalCodesOnExGameGenieCodes_2 
									" You have external codes on (ex. Game Genie codes)
									$LF
								]a
							]li
							[li 
								[a href=#YouChangedTheSettingsByAccident 
									" You changed the settings by accident
									$LF
								]a
							]li
							[li 
								[a href=#ReplayIsNotQuiteDeterministic_2 
									" Replay is not quite deterministic
									$LF
								]a
							]li
							[li 
								[a href=#GameSuddenlyResets 
									" Game suddenly resets
									$LF
								]a
							]li
						]ul
					]li
				]ul
			]li
		]ul
	]div
]div
[h2 id=MovieWatching 
	" Movie Watching
	$LF
]h2
[div class=p 
	"When the movie you’re trying to view desyncs, there are a few possible causes.
	$LF
]div
[h4 id=YouDonTHaveTheRightRom 
	" You don’t have the right ROM.
	$LF
]h4
[div class=p 
	"There are generally three versions of games: Japan, Europe and USA version, sometimes marked at the end of the ROM name by (J), (E), or (U) respectively. If you have the wrong one, the movie will likely go out of sync sooner or later.
	$LF
]div
[div class=p 
	"Sometimes games have multiple revisions, (e.g. REV1, REV2), multiple fixes or hacks. If you have the wrong one, your movie will probably go out of sync.
	$LF
]div
[div class=p 
	"The author may provide the name of the ROM. It is recommended (but not required) to rename ROMs using 
	[a href=http://cowering.blogspot.com/2016/04/new-good7800.html rel=noopener external nofollow 
		"GoodTools
	]a
	" in order to standardize ROM names.
	$LF
]div
[div class=p 
	"Do not ask us (the author of this site or the people at the 
	[a class=intlink href=/Forum 
		"TASvideos forum
	]a
	") to send you ROMs or BIOS images. Any such messages will be deleted.
	$LF
]div
[div class=p 
	"It is generally best to check the hash of the ROM for an exact match. Hashes ensure, in practice, that you have exactly the same file as the author. Exact hash values using common algorithms such as MD5 and SHA1 are often posted in the discussion threads.
	$LF
]div
[h4 id=YouDonTHaveTheRightVersionOfTheEmulator 
	" You don’t have the right version of the emulator.
	$LF
]h4
[div class=p 
	"Ensure you used the 
	(__wikiLink|displaytext=correct emulator version|href=/EmulatorResources)
	". Usually, the author will state the version. If not stated, assume it is the most recent version.
	$LF
]div
[h4 id=YourEmulatorSettingsDifferTooMuch 
	" Your emulator settings differ too much.
	$LF
]h4
[ul 
	[li 
		" In Gens, your type of controllers must be the same as the movie expects. Sometimes sound rate must be set to 44100.
		$LF
	]li
	[li 
		" Sometimes, you need to vary the sound settings of SNES9x.
		$LF
	]li
	[li 
		" FCE Ultra may need to be explicitly told if a game is PAL or NTSC.
		$LF
	]li
	[li 
		" VBA only plays movies correctly when the default controller is set to Controller 1. For some movies, it also requires Real Time Clock to be enabled.
		$LF
	]li
	[li 
		" For DeSmuME, check the firmware settings. Due to an oversight they are not loaded from the movie.
		$LF
	]li
]ul
[div class=p 
	"If you feel you may need to change the settings, the solution is usually found in the author’s description of the movie.
	$LF
]div
[h4 id=YouHaveExternalCodesOnExGameGenieCodes 
	" You have external codes on (ex. Game Genie codes)
	$LF
]h4
[div class=p 
	"Turn them off.
	$LF
]div
[h4 id=ReplayIsNotQuiteDeterministic 
	" Replay is not quite deterministic
	$LF
]h4
[div class=p 
	"There's not much you can do about this except try and hope. Sometimes runs desync when played back one way and don’t desync when played back another way.
	$LF
]div
[hr 
]hr
[h2 id=MovieMaking 
	" Movie Making
	$LF
]h2
[div class=p 
	"It happens quite often, especially on newer emulators. You carefully construct your TAS and when you check your progress, the movie goes off at some point and does something wrong.
	$LF
]div
[div class=p 
	"Most desyncs are a result of inconsistent savestates, when an emulator or savestate error causes you to start using a 
	[em 
		"wrong
	]em
	" savestate. Once that happens, your movie starts to go down the wrong track. If you notice this happening, recreate your savestates at the most recent point where the movie plays as intended.
	$LF
]div
[div class=p 
	[b 
		"While you are making a movie, make it a habit to periodically play through your whole movie to verify that it syncs, and always make a backup of the working copy.
	]b
	$LF
]div
[div class=p 
	[em 
		"If your run desyncs, no one can help you recover the lost work. It is up to you to be careful.
	]em
	$LF
]div
[div class=p 
	"There are a number of causes of inconsistent savestates:
	$LF
]div
[h3 id=EmulatorProblems 
	" Emulator problems
	$LF
]h3
[h4 id=PcsxMupen64AndFbaRr 
	" PCSX, Mupen64, and FBA-rr
	$LF
]h4
[ul 
	[li 
		" In general, these emulators have some desync issues. Be careful.
		$LF
	]li
]ul
[h4 id=Dolphin 
	" Dolphin
	$LF
]h4
[ul 
	[li 
		" Wiimote recording is prone to frequent desyncs, and will fail to playback if you do not restart Dolphin each time you wish to start recording or playback of a movie.
		$LF
	]li
]ul
[h4 id=Snes9x 
	" Snes9x
	$LF
]h4
[ul 
	[li 
		" Official version of Snes9x 1.43/1.51/1.52 has some desync issues. Use snes9x-rerecording instead. (The improved Snes9x can play and record movies in both Final and WIP timing.)
		$LF
	]li
	[li 
		" Snes9x 1.43/1.51 has trouble with sound. Games with timing to music or sound might desync. Some state saving/loading patterns during music changes might cause trouble as well. Using the improved version, disabling sound emulation entirely or using Fake Mute mode may prevent it from happening.
		$LF
		[ul 
			[li 
				" SNES9x 1.52 improved sound emulation logic overall, and the issue above has probably been fixed. If you don't need some advanced TAS features (such as Lua scripting), you should use SNES9x Rerecording 1.52.
				$LF
			]li
		]ul
	]li
]ul
[h4 id=VisualBoyAdvance 
	" Visual Boy Advance
	$LF
]h4
[ul 
	[li 
		" VBA v20 has some emulation problems with SGB games. You may try recording with other versions instead. (The timing of GBx games is mostly different in v20.)
		$LF
	]li
	[li 
		" VBA versions prior to v21 have a bug that may automatically disable the GBA Lag Reduction setting. If this happens, you may try to hex-edit the GBA Lag Reduction flag stored inside your desynced movie according to the 
		[a href=http://code.google.com/p/vba-rerecording/wiki/VBM rel=noopener external nofollow 
			"VBM format description
		]a
		".
		$LF
	]li
]ul
[h4 id=JpcRr 
	" JPC-RR
	$LF
]h4
[ul 
	[li 
		" Stopping emulation when executing very long instruction sequences without any (conditional) jump instructions (and also some other instructions) can lead to a desync. Fortunately, such sequences are extremely rare.
		$LF
	]li
	[li 
		" Savestating while the joystick is being polled will cause a desync in versions before r11.4. If you enable joystick (it isn't enabled by default), use r11.4 or newer.
		$LF
	]li
	[li 
		" Certain forms of self-modifying code may very rarely produce desyncs if pipeline flushing is not enabled.
		$LF
	]li
]ul
[h3 id=SavestateProblems 
	" Savestate problems
	$LF
]h3
[ul 
	[li 
		" You loaded savestates in the wrong order. For example, you should never load a savestate which is ahead of your current time. Implementation of "bullet-proof rerecording" prevents this. Due to current standards, this has become an obsoleted problem. This only happens in Famtasia and older versions of Gens and should not happen in most modern emulators.
		$LF
	]li
	[li 
		" Some savestates are flawed and will not exactly save what is supposed to be in the system at that moment. For example, savestates in older versions of Snes9x do not save the C4 memory used by games such as Mega Man X2, so critical or even functionally visible errors occur with savestating when C4 memory is used. There may be no choice but to use guesswork, and to keep checking the movie until you are out of the desync zone.
		$LF
	]li
	[li 
		" Loading a non-movie savestate while read-only is off may break your movie at the point where you loaded it. Never overwrite your movie savestates with non-movie ones.
		$LF
	]li
	[li 
		" Loading a movie savestate from a different movie before resuming recording, which may even happen with current "bulletproof rerecording" emulators as listed below:
		$LF
		[ul 
			[li 
				" "Bullet-proof rerecording" is imperfect. Some emulators may allow you to load savestates from the movie while the movie is being played in read-only mode, and you may resume recording from the already desynced movie by toggling off read-only mode or making a new savestate and then loading it. Avoid loading wrong savestates during replaying, or at least do not overwrite your correct movie savestates with desynced ones. Implementation of "bullet-proof replaying" prevents this problem.
				$LF
			]li
			[li 
				" At the present moment, no known emulator can prevent you from producing two distinct movies which share the same movie identifier, by using an external tool (e.g. a movie editor). The safest way to this issue is to discard any old movie savestates that were made in a different timeline than your current movie's.
				$LF
			]li
		]ul
	]li
]ul
[h3 id=OtherProblems 
	" Other problems
	$LF
]h3
[h4 id=YouHaveExternalCodesOnExGameGenieCodes_2 
	" You have external codes on (ex. Game Genie codes)
	$LF
]h4
[div class=p 
	"Be very careful that you don't have external codes on. It is easy to miss. If your movie requires external codes to play back correctly, 
	(__wikiLink|displaytext=TASVideos cannot accept your movie|href=/MovieRules)
	".
	$LF
]div
[h4 id=YouChangedTheSettingsByAccident 
	" You changed the settings by accident
	$LF
]h4
[div class=p 
	"If this happens, try to rectify what you can. Do not continue with inconsistent settings.
	$LF
]div
[h4 id=ReplayIsNotQuiteDeterministic_2 
	" Replay is not quite deterministic
	$LF
]h4
[div class=p 
	"If you discover that different ways of playing the movie yield different results, it could mean an emulation issue with that game, and it is recommended you stop TASing it until the problem is diagnosed and fixed.
	$LF
]div
[h4 id=GameSuddenlyResets 
	" Game suddenly resets
	$LF
]h4
[div class=p 
	"Some versions of some emulators may have a bug that inserts spurious resets in some conditions, resulting in a movie that suddenly resets the game. This can be fixed by editing the movie file to remove the spurious reset.
]div
